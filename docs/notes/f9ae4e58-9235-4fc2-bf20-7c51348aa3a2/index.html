<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Ssh</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Publishable tech notes"/><meta property="og:title" content="Ssh"/><meta property="og:description" content="Publishable tech notes"/><meta property="og:url" content="https://tycholiz.github.io/Digital-Garden/notes/f9ae4e58-9235-4fc2-bf20-7c51348aa3a2/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2021-03-03"/><meta property="article:modified_time" content="2021-08-27"/><link rel="canonical" href="https://tycholiz.github.io/Digital-Garden/notes/f9ae4e58-9235-4fc2-bf20-7c51348aa3a2/"/><meta name="next-head-count" content="13"/><link rel="preload" href="/Digital-Garden/_next/static/css/277fdfe9b7022c9c8577.css" as="style"/><link rel="stylesheet" href="/Digital-Garden/_next/static/css/277fdfe9b7022c9c8577.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/Digital-Garden/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/Digital-Garden/_next/static/chunks/webpack-fa90faaedcc655d54918.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/framework-2f612445bd50b211f15a.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/main-b0e1b6c55ab88555627b.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/pages/_app-0b093d889a037b39223d.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/155-6b9e7c2cacce4839738c.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/pages/notes/%5Bid%5D-df993d2e11a1c064ce76.js" defer=""></script><script src="/Digital-Garden/_next/static/8_hRCFg0Rs1FcuF6x3m0c/_buildManifest.js" defer=""></script><script src="/Digital-Garden/_next/static/8_hRCFg0Rs1FcuF6x3m0c/_ssgManifest.js" defer=""></script></head><body><div id="__next"><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div class="ant-col"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"></div><div style="margin-left:4px;display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout site-layout" style="margin-top:64px"><section class="ant-layout site-layout" style="flex-direction:row"><section class="ant-layout site-layout-sidebar" style="flex:0 0 auto;width:calc((100% - 992px) / 2 + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></section><section class="ant-layout side-layout-main" style="max-width:960px;display:initial"><main class="ant-layout-content main-content" role="main" style="padding:0 24px"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-20"><div><h1 id="ssh"><a aria-hidden="true" class="anchor-heading" href="#ssh"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Ssh</h1>
<h1 id="ssh-key"><a aria-hidden="true" class="anchor-heading" href="#ssh-key"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>SSH Key</h1>
<h2 id="components"><a aria-hidden="true" class="anchor-heading" href="#components"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Components</h2>
<ul>
<li>Each SSH key pair has 2 components: public key and private key</li>
<li>They are both created with <code>ssh-keygen</code> </li>
</ul>
<h3 id="public-key"><a aria-hidden="true" class="anchor-heading" href="#public-key"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Public key</h3>
<ul>
<li>Public key is copied to the SSH server so it knows it can trust the user with the corresponding private key when it tries to connect via SSH</li>
<li>Anyone that has the public key is able to encrypt the data in such a way that only the bearer of the private key can decrypt it. </li>
<li>Once an SSH server receives the public key from a user, it marks the key as trustworthy and is moved to the <code>authorized_keys</code> file.</li>
<li><code>ssh-copy-id</code> allows us to copy an SSH key from our local machine to a server to be used as an authorized key, allowing s the SSH client to login without password
<ul>
<li>What it does is it assembles a list of one or more fingerprints, and tries to log in with each key. It then makes a list of all the keys that failed login, and enables logins with those keys on the remote server (by adding them to the remote's <code>authorized_keys</code> file).</li>
</ul>
</li>
<li>Public keys are stored on SSH clients </li>
</ul>
<h3 id="private-key"><a aria-hidden="true" class="anchor-heading" href="#private-key"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Private key</h3>
<ul>
<li>Considered proof of the user's identity, and only if the private key corresponds to the public key will the user be authenticated</li>
<li>Because they are used for authentication, they are called identity keys</li>
<li>The private key is stored on the SSH server</li>
<li>When we open the private key, what we see is its encrypted form. To decrypt it, we need to enter the password that we created with <code>ssh-keygen</code>.
<ul>
<li>Therefore, without the password, the private key is useless.</li>
</ul>
</li>
</ul>
<hr>
<h2 id="ssh-agent"><a aria-hidden="true" class="anchor-heading" href="#ssh-agent"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>SSH Agent</h2>
<p>ssh-agent stores unencrypted private keys in memory, allowing us to login without entering our password each time.</p>
<ul>
<li>Therefore, ssh-agent is a form of Single-Sign on (SSO)</li>
<li>Without ssh-agent, upon entering the password, the decrypted key is stored in program memory (which is associated with a process (PID)). However, the SSH client process cannot be used to store the decrypted key, since the process is terminated once the remote login session has ended. This is why we use <code>ssh-agent</code></li>
</ul>
<p><code>ssh-agent</code> works by creating a socket then checks for connections from ssh.</p>
<ul>
<li>anyone who is able to connect to this socket can also connect to the ssh-agent.</li>
<li>upon starting, the agent creates a new directory in <code>/tmp</code> that determines permissions.</li>
</ul>
<p>On most Linux systems, ssh-agent is automatically configured and run at login. </p>
<p>On the server side, <code>PubkeyAuthentication</code> must be enabled in the <code>ssh_config</code> file to allow these key-based logins. </p>
<p>we can use <code>ssh-add</code> tool to add identities to the agent.</p>
<ul>
<li>running <code>ssh-add</code> without args will add the default private keys to the agent (<code>~/.ssh/id_rsa</code>, <code>~/.ssh/id_dsa</code> etc.)</li>
<li><code>ssh-add -l</code> will list out the private keys accessible to the agent</li>
</ul>
<h3 id="agent-forwarding"><a aria-hidden="true" class="anchor-heading" href="#agent-forwarding"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Agent Forwarding</h3>
<p>Agent forwarding is a mechanism that gives an SSH server access to the SSH client's <code>ssh-agent</code>, allowing it to use it as if it were local.
To use agent forwarding, the <code>ForwardAgent</code> option must be set to yes on the client </p>
<ul>
<li>This allows us to execute commands on the server we SSHed into and have access to keys stored in <code>ssh-agent</code>. 
<ul>
<li>ex. if we are using keys to interact with Github (instead of entering password each time), we would be able to access them from the server. </li>
<li>However, there is an implication of this, which is that we would not be able to run these commands as cron jobs on the server. Once our SSH connection ends, the the server no longer has access to <code>ssh-agent</code>, so it cannot use the private key.</li>
</ul>
</li>
</ul>
<h2 id="debugging"><a aria-hidden="true" class="anchor-heading" href="#debugging"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Debugging</h2>
<ul>
<li>
<p>check client logs with <code>ssh -vvv &#x3C;user>@&#x3C;host></code></p>
</li>
<li>
<p>check server logs at <code>/var/log/auth.log</code></p>
</li>
<li>
<p>on server, try editing <code>/etc/ssh/sshd_config</code>, changing: </p>
<ol>
<li><code>PasswordAuthentication yes</code></li>
<li><code>PermitRootLogin yes</code></li>
</ol>
<ul>
<li>restart sshd <code>service sshd restart</code></li>
<li>on client, run <code>ssh-copy-id -i &#x3C;remote-user>@&#x3C;remote-ip></code></li>
<li>on host, revert the <code>sshd_config</code> options to their prior state</li>
</ul>
</li>
</ul>
<hr>
<h2 id="tunneling"><a aria-hidden="true" class="anchor-heading" href="#tunneling"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Tunneling</h2>
<ul>
<li>In order to tunnel, we need to set up a protocol. SSH is an example of such a protocol, where the receiver of the SSH command must have an SSH server running so that it may intercept the SSH message, and interpret it and enable the SSH connection. </li>
</ul>
<hr>
<p>an OS can be preconfigured to enable SSH, so that it can be SHHed into the first time it is turned on.</p>
<hr>
<h2 id="config"><a aria-hidden="true" class="anchor-heading" href="#config"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Config</h2>
<p>Client config (~/.ssh/config)
<a href="https://gravitational.com/blog/ssh-config/">good resource with lots of info</a></p></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-4"><div><div class=""><div class="ant-anchor-wrapper" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#ssh-key" title="SSH Key">SSH Key</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#components" title="Components">Components</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#public-key" title="Public key">Public key</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#private-key" title="Private key">Private key</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#ssh-agent" title="SSH Agent">SSH Agent</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#agent-forwarding" title="Agent Forwarding">Agent Forwarding</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#debugging" title="Debugging">Debugging</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#tunneling" title="Tunneling">Tunneling</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#config" title="Config">Config</a></div></div></div></div></div></div></div></div></div></main><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></section></section></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"f9ae4e58-9235-4fc2-bf20-7c51348aa3a2","title":"Ssh","vault":{"fsPath":"../main/tech","name":"tech"},"type":"note","desc":"","links":[],"anchors":{"ssh-key":{"type":"header","text":"SSH Key","value":"ssh-key","line":11,"column":0},"components":{"type":"header","text":"Components","value":"components","line":12,"column":0},"public-key":{"type":"header","text":"Public key","value":"public-key","line":15,"column":0},"private-key":{"type":"header","text":"Private key","value":"private-key","line":23,"column":0},"ssh-agent":{"type":"header","text":"SSH Agent","value":"ssh-agent","line":32,"column":0},"agent-forwarding":{"type":"header","text":"Agent Forwarding","value":"agent-forwarding","line":49,"column":0},"debugging":{"type":"header","text":"Debugging","value":"debugging","line":56,"column":0},"tunneling":{"type":"header","text":"Tunneling","value":"tunneling","line":70,"column":0},"config":{"type":"header","text":"Config","value":"config","line":79,"column":0}},"fname":"unix.cli.ssh","updated":1630089833338,"created":1614746902412,"parent":"cabfc7c5-837a-4edf-954c-6feb1daa90e9","children":[],"data":{},"contentHash":"deb5e121c240d344dddd7f9670a0d2c5","custom":{}},"body":"\u003ch1 id=\"ssh\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#ssh\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eSsh\u003c/h1\u003e\n\u003ch1 id=\"ssh-key\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#ssh-key\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eSSH Key\u003c/h1\u003e\n\u003ch2 id=\"components\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#components\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eComponents\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eEach SSH key pair has 2 components: public key and private key\u003c/li\u003e\n\u003cli\u003eThey are both created with \u003ccode\u003essh-keygen\u003c/code\u003e \u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"public-key\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#public-key\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003ePublic key\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003ePublic key is copied to the SSH server so it knows it can trust the user with the corresponding private key when it tries to connect via SSH\u003c/li\u003e\n\u003cli\u003eAnyone that has the public key is able to encrypt the data in such a way that only the bearer of the private key can decrypt it. \u003c/li\u003e\n\u003cli\u003eOnce an SSH server receives the public key from a user, it marks the key as trustworthy and is moved to the \u003ccode\u003eauthorized_keys\u003c/code\u003e file.\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003essh-copy-id\u003c/code\u003e allows us to copy an SSH key from our local machine to a server to be used as an authorized key, allowing s the SSH client to login without password\n\u003cul\u003e\n\u003cli\u003eWhat it does is it assembles a list of one or more fingerprints, and tries to log in with each key. It then makes a list of all the keys that failed login, and enables logins with those keys on the remote server (by adding them to the remote's \u003ccode\u003eauthorized_keys\u003c/code\u003e file).\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003ePublic keys are stored on SSH clients \u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"private-key\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#private-key\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003ePrivate key\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eConsidered proof of the user's identity, and only if the private key corresponds to the public key will the user be authenticated\u003c/li\u003e\n\u003cli\u003eBecause they are used for authentication, they are called identity keys\u003c/li\u003e\n\u003cli\u003eThe private key is stored on the SSH server\u003c/li\u003e\n\u003cli\u003eWhen we open the private key, what we see is its encrypted form. To decrypt it, we need to enter the password that we created with \u003ccode\u003essh-keygen\u003c/code\u003e.\n\u003cul\u003e\n\u003cli\u003eTherefore, without the password, the private key is useless.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"ssh-agent\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#ssh-agent\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eSSH Agent\u003c/h2\u003e\n\u003cp\u003essh-agent stores unencrypted private keys in memory, allowing us to login without entering our password each time.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eTherefore, ssh-agent is a form of Single-Sign on (SSO)\u003c/li\u003e\n\u003cli\u003eWithout ssh-agent, upon entering the password, the decrypted key is stored in program memory (which is associated with a process (PID)). However, the SSH client process cannot be used to store the decrypted key, since the process is terminated once the remote login session has ended. This is why we use \u003ccode\u003essh-agent\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003essh-agent\u003c/code\u003e works by creating a socket then checks for connections from ssh.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eanyone who is able to connect to this socket can also connect to the ssh-agent.\u003c/li\u003e\n\u003cli\u003eupon starting, the agent creates a new directory in \u003ccode\u003e/tmp\u003c/code\u003e that determines permissions.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eOn most Linux systems, ssh-agent is automatically configured and run at login. \u003c/p\u003e\n\u003cp\u003eOn the server side, \u003ccode\u003ePubkeyAuthentication\u003c/code\u003e must be enabled in the \u003ccode\u003essh_config\u003c/code\u003e file to allow these key-based logins. \u003c/p\u003e\n\u003cp\u003ewe can use \u003ccode\u003essh-add\u003c/code\u003e tool to add identities to the agent.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003erunning \u003ccode\u003essh-add\u003c/code\u003e without args will add the default private keys to the agent (\u003ccode\u003e~/.ssh/id_rsa\u003c/code\u003e, \u003ccode\u003e~/.ssh/id_dsa\u003c/code\u003e etc.)\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003essh-add -l\u003c/code\u003e will list out the private keys accessible to the agent\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"agent-forwarding\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#agent-forwarding\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eAgent Forwarding\u003c/h3\u003e\n\u003cp\u003eAgent forwarding is a mechanism that gives an SSH server access to the SSH client's \u003ccode\u003essh-agent\u003c/code\u003e, allowing it to use it as if it were local.\nTo use agent forwarding, the \u003ccode\u003eForwardAgent\u003c/code\u003e option must be set to yes on the client \u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThis allows us to execute commands on the server we SSHed into and have access to keys stored in \u003ccode\u003essh-agent\u003c/code\u003e. \n\u003cul\u003e\n\u003cli\u003eex. if we are using keys to interact with Github (instead of entering password each time), we would be able to access them from the server. \u003c/li\u003e\n\u003cli\u003eHowever, there is an implication of this, which is that we would not be able to run these commands as cron jobs on the server. Once our SSH connection ends, the the server no longer has access to \u003ccode\u003essh-agent\u003c/code\u003e, so it cannot use the private key.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"debugging\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#debugging\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eDebugging\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003echeck client logs with \u003ccode\u003essh -vvv \u0026#x3C;user\u003e@\u0026#x3C;host\u003e\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003echeck server logs at \u003ccode\u003e/var/log/auth.log\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eon server, try editing \u003ccode\u003e/etc/ssh/sshd_config\u003c/code\u003e, changing: \u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003ePasswordAuthentication yes\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003ePermitRootLogin yes\u003c/code\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003erestart sshd \u003ccode\u003eservice sshd restart\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eon client, run \u003ccode\u003essh-copy-id -i \u0026#x3C;remote-user\u003e@\u0026#x3C;remote-ip\u003e\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eon host, revert the \u003ccode\u003esshd_config\u003c/code\u003e options to their prior state\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"tunneling\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#tunneling\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eTunneling\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eIn order to tunnel, we need to set up a protocol. SSH is an example of such a protocol, where the receiver of the SSH command must have an SSH server running so that it may intercept the SSH message, and interpret it and enable the SSH connection. \u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cp\u003ean OS can be preconfigured to enable SSH, so that it can be SHHed into the first time it is turned on.\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"config\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#config\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eConfig\u003c/h2\u003e\n\u003cp\u003eClient config (~/.ssh/config)\n\u003ca href=\"https://gravitational.com/blog/ssh-config/\"\u003egood resource with lots of info\u003c/a\u003e\u003c/p\u003e","noteIndex":{"id":"0e1ca097-be9f-4e4c-a7ed-d6dfb05cd4e8","title":"Root","vault":{"fsPath":"../main/tech","name":"tech"},"type":"note","desc":"","links":[],"anchors":{"digital-garden":{"type":"header","text":"Digital Garden","value":"digital-garden","line":8,"column":0}},"fname":"root","updated":1618676699718,"created":1615482407722,"parent":null,"children":["723b0cf7-a5f3-4c71-a811-2c782faa4cc4","mcq7ZV8MBAMVYrXg","dMS8QtNyJCwovtfh6ERrp","ZaTr28eWk1DrXOEsc1YVb","WH8jEz5lviqlnG5f","a19c5ab0-fd8c-4bd0-9aed-da5abefabc45","4586ac41-3af7-4176-aaf0-440ad1773bc9","610b951b-7363-471f-acd5-210710b9d104","f29f31f3-7235-41ad-83a1-b64f3f466916","3445f14b-9f67-412d-9762-dc14ee7c90e4","c3304982-eb1c-45ec-8556-4599d2286b5c","facc2b01-755a-409f-99f6-57bef2d1501f","b965d9fa-c200-4a8d-9323-73b9c2565812","4d5aab64-f4a4-40a0-9155-f28aaf49d38a","a95e8592-84c0-4698-a0d9-07e8e130b322","234faa4d-432f-43f4-99fb-08ac4c01bf9b","105fd41a-910d-4b94-8686-98c3933931f2","f3bcc3d9-7232-41f4-aaaf-86a99b56dc65","ANfx9Z4a6ZA0uJuSHtbIJ","4668ac41-f2d5-40c0-9144-efb456d8663b","j8xePJ5wfKsznvM5DP5q6","dc79799f-a55d-48ab-a8be-c48adb1b19c0","f6feef57-b8f5-451f-a09a-7b63f6a07183","12797f4e-92d0-447e-adc7-e5cb4ff4c883","5a9fb1df-478e-4687-9be0-5cb97e61ec57","1374e9e9-1cbc-4e1f-b1ca-66b8569533dd","f529cc34-aba0-45ca-ad7e-02ddda318941","0zcauha3il2NqtxZazIo7","9bbd6f68-03b2-41f4-92e4-2ca313e8b450","5a2ab598-fa7e-4471-8bda-9f5831b679ae","3b7ffbbf-762e-411f-8fad-5e2b1b95e384","81e5a201-c843-49d1-b291-f99d818cee0c","295ca45b-6851-4d38-9ecb-1d7e4a885849","vdjkh6890a6Ye6vvbN0CD","b3b7587a-fbd2-48a9-aef1-4efc90458e82","znCO2WghOAWC8nBGb4Ooa","7cc5d9c3-20d8-4fef-aca2-7d6dcdc7b3d7","f32fab12-3c92-4e91-8d61-01e17e734910","fqVQpS9FBiXgKsZX3R3sJ","53b47d5a-542b-4fab-8f6c-c70574ab7a48","963c4b54-02bd-4943-a15f-52cf59ffd0f4","739907b4-b36d-4ad1-866d-c9f8050de776","e65188a1-177e-4ab2-99f9-75f85d537621","fajYnbVhCRDi74xn0H30R","bArGdGwqo3iFkyKMyE7qR","ffYYlFAOinMkMeUg","5d700782-fb81-416e-83f9-5dd88260e350","w3MsVswhiuHRpAOQ","s2PhLzio3pcBg3bQ","d8118e61-b25f-4a6f-8f88-4e7ddd69827f","e1c5eaef-0205-4e6d-ab9f-5a207d58cc12","55a2161d-d415-4fbd-98cb-ff8aed19e6ee","67265fd9-7fbd-4bf7-b3c9-ced802b8a830","dvxpt2xKPsfCOTR4lY8Qp","a68b9a8c-a9c9-4133-8230-2671b2d8d86b","3bb25f58-2b50-4fa3-af55-48ea9f88a081","egctyVUjVesp2xA5t0ZYt","76420b75-f886-43ad-a876-c4fd4ad09ff2","1310c9cf-0160-4ad5-aad7-cf355c9313ac","6c54da8e-be6f-4ce3-b642-ef3108533df9","77ebb3d5-30b3-44e0-badc-02314bfd4f12","0e4f1336-2037-42e7-a854-054718e9359f","6412cc53-4648-46c1-8be6-c6d1c301baa1","c56bb2bc-4c2b-4bce-87e7-f1e655aa449a","UFrwsXzC1yr7Ge8FF8Vbo","a8edc4ac-028b-40ec-872a-e4a005b04b2a","38d933b3-770f-49df-b1ac-f2ae4f6061fd","vqPq_S-Il3EV72fUR41r6","93de42ca-53ea-460a-baa7-b9ec5c47cb1e","3bcd5b24-cdfa-45ad-b249-55ae92119ed3","aO8W81Z0PyIb6Hs7nOHPW","27f2c279-9420-4375-9487-5493c1dbbefc","Xt8o0SFdV1BIvmCKb1Ign","05537701-5721-425c-a0d5-8ec5da941220","1b6e8550-252e-4f9f-a586-05044cb97f0a","4866aa20-2068-47f0-afd1-c2b96a24f951","PXd6hUzi0wF7oPnT","f7c590dc-921d-4b6f-8f8e-e075b0c16035","f4355062-fdda-4c6f-a969-3f8a10c15475","c299d2dd-7cbd-4b81-976a-37b808ee41a8","9c56d34a-84ee-481e-ac5a-13fa56750a3c","60f0e948-b809-40de-aac1-180423cbebcd","dfab2e99-6155-482d-a598-8b8cc11f7ddc","e6ff7608-3de4-46e3-93a7-24ba07f70f42","bb4b4e79-9835-4284-bcac-d3de9b203e1a","3babc3d2-79ae-470a-9c06-ab8bba2e684e","4eeb4df6-2842-4db4-84ce-1992975f36a5","dff06309-f792-4ee2-a0ef-529972167027","d1aaf074-9c4c-4926-9106-44b71fd92529","20206ec8-0739-464e-b41d-65307a0c5aa6","3IFIK1ByzeIxZCByryGLN","0ba5c14a-800b-4614-ad5b-0ae7102e269e","db9cdb23-f02b-426c-b27e-baafb72916bd","7a81c659-7511-48c0-a78f-552d0e6cfff7","8e83deb1-8f7c-439e-b991-70e544645bfb","ubXzUle7zxv25VkjiLmpR","fb9dbfa7-978e-4f56-aeb7-3c97fb6c9e93","b6226bd4-551d-4670-a956-158bdce3f5a6","f691cb23-bc18-4b33-b454-155b1e785d62","a02e32ca-2839-46bc-a452-684f01a4e671","887233a2-8653-46ef-adce-2e482007942b","b6746509-f9f8-4823-b3b9-0d6d5f1fdb69","vlb4ItR9EQCCw9ACUA5h7","f39cc3a8-8357-49e5-8cdb-04450d05d913","1426c9b1-f3c1-4c01-8efd-a732c782c48c","dCGCWXgAmiOZXbdULT1m6","e02953c0-95d2-4101-a117-f8e0221800f0","GL8aMKtYOxcE560XF4HUK","9cc2f536-ad6d-49d2-bf6a-30284dfa1158","f9503aa6-bceb-4b11-89cd-d7e6f50d5cb0","e9bf14ec-5801-4be8-ba1e-3034dc742fa6","fee6c25b-8ea8-45bf-89d5-8c6d036b03b6","b28d278d-4fa0-4eac-9d26-dd6b10eb169d","yJwSC7hqYIezTFHf5i0Ev","5B2iI6ltu8TF5LJWAfXUE","4db45135-9630-4554-8ad4-6ca853621fca","MA3EsQQpV6iMx8j3hkJPK","84143a1b-aa79-40ff-bcae-6d9858fec127","osu6JGOnvXJ5gt3tpqWZY","1a6173cd-cf13-4b34-a522-8350bf9a364f","xRWsry32YkvSjs2Z","39SlH3nIiO6oQSwmZaMXT","TJrAQeEG6EjrEarYyIbYK","240d9848-b03d-445a-8787-090d79024b6a","5730411b-fefa-49e0-aced-451f5b148299","63a922b8-2d60-4ea7-9f47-bcfaa0caef7e","734cd78d-0bc9-426b-803d-1efc84dfffe5","3baf3651-9e5a-46bd-bba1-f0c0caf7385c","6733cf80-f2b1-41eb-8ddf-e2fa947f6b43","si3z090WsiLasMhJBa1Az","3577d6e8-1437-4f7b-9da2-c353ed232038"],"data":{},"contentHash":"7730693db0d19d3a73665766d9c0a1c5","custom":{"nav_order":0,"permalink":"/"},"body":"\n# Digital Garden\n\nThis Wiki of Personal Information is organized according to domains and their\nsub-domains, along with specific implementation of those domains.\n\nFor instance, Git itself is a domain. Sub-domains of Git, would be `commit`,\n`tags`, `reflog` etc. implementations of each of those could be `cli`, `strat`\n(strategies), `inner` etc.\n\nThe goal of the wiki is to present data in a manner that is from the perspective\nof a querying user. Here, a user is a programmer wanting to get key information\nfrom a specific domain. For instance, if a user wants to use postgres functions\nand hasn't done them in a while, they should be able to query\n`postgres.functions` to see what information is available to them.\n\nThis wiki has been written with myself in mind. While learning each of these\ndomains, I have been sensitive to the \"aha\" moments and have noted down my\ninsights as they arose. I have refrained from capturing information that I\nconsidered obvious or otherwise non-beneficial to my own understanding.\n\nThe ability I hope to gain from this wiki is the ability to step away from any\ngiven domain for a long period of time, and be able to be passably useful for\nwhatever my goals are within a short period of time. Of course, this is all\nvague sounding, and really depends on the domain, along with the ends I am\ntrying to reach.\n\nTo achieve this, the system should be steadfast to:\n- be able to put information in relatively easily, without too much thought\n\trequired to make that determination.\n- be able to extract the information that we need, meaning there is a\n\thigh-degree in confidence in the location of the information. The idea is\n\tthat information loses a large amount of its value when it is unfindable.\n\tTherefore, a relatively strict ideology should be used when determining\n\twhere a piece of information belongs.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":3,"useFMTitle":true,"useNoteTitleForLink":true,"noLegacyNoteRef":true,"mermaid":true,"useKatex":true,"dev":{"enablePreviewV2":true},"site":{"assetsPrefix":"/Digital-Garden","siteUrl":"https://tycholiz.github.io","copyAssets":true,"siteHierarchies":["root"],"siteRootDir":"docs","usePrettyRefs":true,"title":"Dendron","description":"Publishable tech notes","duplicateNoteBehavior":{"action":"useVault","payload":["tech"]},"siteLastModified":true,"gh_edit_branch":"main","usePrettyLinks":true,"siteNotesDir":"notes","siteFaviconPath":"favicon.ico","gh_edit_link":true,"gh_edit_link_text":"Edit this page on GitHub","gh_root":"docs/","gh_edit_view_mode":"edit","writeStubs":true,"siteIndex":"root"},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{}},"workspace":{"dendronVersion":"0.67.1","vaults":[{"fsPath":"../main/tech","name":"tech"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"enableUserTags":true,"enableHashTags":true},"usePrettyRefs":true}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"f9ae4e58-9235-4fc2-bf20-7c51348aa3a2"},"buildId":"8_hRCFg0Rs1FcuF6x3m0c","assetPrefix":"/Digital-Garden","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>