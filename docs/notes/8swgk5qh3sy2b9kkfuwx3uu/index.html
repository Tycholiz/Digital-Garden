<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><title>Cache</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="The Tech Digital Garden of Kyle Tycholiz"/><meta property="og:title" content="Cache"/><meta property="og:description" content="The Tech Digital Garden of Kyle Tycholiz"/><meta property="og:url" content="https://tech.kyletycholiz.com/notes/8swgk5qh3sy2b9kkfuwx3uu/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="4/11/2022"/><meta property="article:modified_time" content="7/26/2023"/><link rel="canonical" href="https://tech.kyletycholiz.com/notes/8swgk5qh3sy2b9kkfuwx3uu/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/8e7b7e4bce421c0a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8e7b7e4bce421c0a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-3d209faeb64f2f97.js" defer=""></script><script src="/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/_next/static/chunks/main-104451f3d1a5c4bc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6b338472289fe290.js" defer=""></script><script src="/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/_next/static/fo6gubzKP_KV9RZPhaoiQ/_buildManifest.js" defer=""></script><script src="/_next/static/fo6gubzKP_KV9RZPhaoiQ/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="cache">Cache<a aria-hidden="true" class="anchor-heading icon-link" href="#cache"></a></h1>
<p>Caches are used in almost every computing layer: hardware, operating systems, web browsers, web applications, and more. </p>
<ul>
<li>they are often found at the level nearest to the client (term used loosely to mean any component that makes requests), where they are implemented to return data quickly without taxing downstream levels.</li>
</ul>
<h2 id="cache-invalidation">Cache invalidation<a aria-hidden="true" class="anchor-heading icon-link" href="#cache-invalidation"></a></h2>
<p>Cache Invalidation is the idea that if the data is modified in the data layer, it should be invalidated in the cache; if not, this can cause inconsistent application behavior.</p>
<p>Cache invalidation involves an action that has to be carried out by something other than the cache itself. Something (e.g., a client or a pub/sub system) needs to tell the cache that a mutation happened.</p>
<p>To solve this, there are three main schemes that are used:</p>
<ol>
<li>
<p><em>Write-through cache</em>: Under this scheme, data is written into the cache and the corresponding database simultaneously. The cached data allows for fast retrieval and, since the same data gets written in the permanent storage, we will have complete data consistency between the cache and the storage. Also, this scheme ensures that nothing will get lost in case of a crash, power failure, or other system disruptions.</p>
<ul>
<li>Although write-through minimizes the risk of data loss, since every write operation must be done twice before returning success to the client, this scheme has the disadvantage of higher latency for write operations.</li>
</ul>
</li>
<li>
<p><em>Write-around cache</em>: This technique is similar to write-through cache, but data is written directly to permanent storage, bypassing the cache. This can reduce the cache being flooded with write operations that will not subsequently be re-read, but has the disadvantage that a read request for recently written data will create a “cache miss” and must be read from slower back-end storage and experience higher latency.</p>
</li>
<li>
<p><em>Write-back (ie. write-behind) cache</em>: Under this scheme, data is written to cache alone, and completion is immediately confirmed to the client. The write to the permanent storage is done after specified intervals and/or under certain conditions (such as low traffic periods). This results in low-latency and high-throughput for write-intensive applications; </p>
</li>
</ol>
<ul>
<li>this performance benefit comes with the risk of data loss in case of a crash or other adverse event because the only copy of the written data is in the cache.
<ul>
<li>To mitigate this risk, write-back caches may employ mechanisms like write-ahead logging or transaction logs to recover data in case of failures.</li>
</ul>
</li>
<li>this cache pattern is an example of weak <a href="/notes/Ql1WxSHx11UTkDnfmYlzq">consistency</a></li>
</ul>
<h3 id="with-etags">with ETags<a aria-hidden="true" class="anchor-heading icon-link" href="#with-etags"></a></h3>
<p><a href="/notes/i3w73l6ff7h60dpxyuaswc6">ETags</a> identify a certain version of a resource.</p>
<ul>
<li>ex. An API can send back an ETag with a request for a list of 20 items. This ETag identifies this unique batch of items. If an identical request is made to the same endpoint and the ETag is also identical, then we know that the data is the same as well. We can use this ETag to make decisions on whether we want to fetch again or not. If however, our identical request shows a different ETag, then we take that to mean that the data from origin has somehow changed. We can use this information to determine whether or not we should invalidate data in a cache, or whether or not to render a long list of items on the page, etc.</li>
</ul>
<h3 id="cache-eviction-policies">Cache eviction policies<a aria-hidden="true" class="anchor-heading icon-link" href="#cache-eviction-policies"></a></h3>
<p>Cache eviction means to free the memory of the old, unused data in the cache.</p>
<p>There are many cache eviction strategies, and what makes it difficult is that there is no one-size-fits-all approach. Agreeing to use one and not another can be a difficult endeavor.</p>
<p>Following are some of the most common cache eviction policies:</p>
<ul>
<li>Least Recently Used (LRU): Discards the least recently used items first (most commonly used).</li>
<li>Most Recently Used (MRU): Discards, in contrast to LRU, the most recently used items first.</li>
<li>Least Frequently Used (LFU): Counts how often an item is needed. Those that are used least often are discarded first.</li>
<li>First In First Out (FIFO): The cache evicts the first block accessed first without any regard to how often or how many times it was accessed before.</li>
<li>Last In First Out (LIFO): The cache evicts the block accessed most recently first without any regard to how often or how many times it was accessed before.</li>
<li>Random Replacement (RR): Randomly selects a candidate item and discards it to make space when necessary.</li>
</ul>
<h3 id="why-is-cache-invalidation-considered-difficult">Why is cache invalidation considered difficult?<a aria-hidden="true" class="anchor-heading icon-link" href="#why-is-cache-invalidation-considered-difficult"></a></h3>
<p>Success in a caching implementation involves seeing into the future, or multiple possible futures, which is hard in any non-deterministic situation.</p>
<ul>
<li>Sources of non-determinism include both your own workload as well as other workloads that may affect the cost of things you depend on (cache fill / eviction actions, for example).</li>
</ul>
<p>The two main reasons why cache invalidation is difficult:</p>
<ol>
<li>
<p>Space complexity issues</p>
<ul>
<li>You have to guess when the data is not likely to be needed in memory; It can't be too short that the cache is useless, and too long that you'll get a <a href="/notes/I01hENHnh8Tqu3Ok8sLzG#memory-leak">memory leak</a>.</li>
<li>Suppose we had infinite memory, then cache all the data; but we don't so we have to decide what to cache that is meaningful to have the cache implemented (is a ??K cache size enough for your use case? Should you add more?) - It's the balance with the resources available.</li>
</ul>
</li>
<li>
<p>Time complexity issues</p>
<ul>
<li>The underlying data might get changed by another process and then your process that uses the cache will be working with incorrect data</li>
<li>Suppose all your data was immutable, then cache all the data indefinitely. But this isn't always to case so you have to figure out what works for the given scenario (A person's mailing address doesn't change often, but their GPS position does).</li>
</ul>
</li>
</ol>
<p>Etags identify a certain version of a resource.</p>
<ul>
<li>ex. An API can send back an ETag with a request for a list of 20 items. This ETag identifies this unique batch of items. If an identical request is made to the same endpoint and the ETag is also identical, then we know that the data is the same as well. We can use this ETag to make decisions on whether we want to fetch again or not. If however, our identical request shows a different ETag, then we take that to mean that the data from origin has somehow changed. We can use this information to determine whether or not we should invalidate data in a cache, or whether or not to render a long list of items on the page, etc.</li>
</ul>
<h2 id="ue-resources">UE Resources<a aria-hidden="true" class="anchor-heading icon-link" href="#ue-resources"></a></h2>
<ul>
<li><a href="https://engineering.fb.com/2022/06/08/core-data/cache-invalidation">Solving cache consistency (Facebook engineering article)</a></li>
<li><a href="https://en.wikipedia.org/wiki/Cache_replacement_policies">Cache replacement policies (e.g. MRU, LRU)</a></li>
</ul>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/notes/HZSth7yP1s7aPaPPZRJPm">Scaling</a></li>
<li><a href="/notes/6RhCjcv4DkPrzU888GWV3">Apollo Client Cache</a></li>
<li><a href="/notes/kW6jznu1QgEOogMoby4E9">Distributed Cache</a></li>
<li><a href="/notes/3OMg1deJDuVeA3uR0oSsY">Materialized View</a></li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#cache-invalidation" title="Cache invalidation">Cache invalidation</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#with-etags" title="with ETags">with ETags</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#cache-eviction-policies" title="Cache eviction policies">Cache eviction policies</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#why-is-cache-invalidation-considered-difficult" title="Why is cache invalidation considered difficult?">Why is cache invalidation considered difficult?</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#ue-resources" title="UE Resources">UE Resources</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"8swgk5qh3sy2b9kkfuwx3uu","title":"Cache","desc":"","updated":1690403237937,"created":1649721490132,"custom":{},"fname":"general.arch.cache","type":"note","vault":{"fsPath":"../main/tech","name":"tech"},"contentHash":"3fbd92ffee5ccc9788f8947ed5331569","links":[{"type":"wiki","from":{"fname":"general.arch.cache","id":"8swgk5qh3sy2b9kkfuwx3uu","vaultName":"tech"},"value":"db.acid.consistency","alias":"consistency","position":{"start":{"line":19,"column":44,"offset":2576},"end":{"line":19,"column":79,"offset":2611},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"db.acid.consistency"}},{"type":"wiki","from":{"fname":"general.arch.cache","id":"8swgk5qh3sy2b9kkfuwx3uu","vaultName":"tech"},"value":"protocol.http.etag","alias":"ETags","position":{"start":{"line":23,"column":1,"offset":2629},"end":{"line":23,"column":29,"offset":2657},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"protocol.http.etag"}},{"type":"wiki","from":{"fname":"general.arch.cache","id":"8swgk5qh3sy2b9kkfuwx3uu","vaultName":"tech"},"value":"memory","alias":"memory leak","position":{"start":{"line":45,"column":157,"offset":5036},"end":{"line":45,"column":191,"offset":5070},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"memory","anchorHeader":"memory-leak"}},{"from":{"fname":"deploy.scaling","id":"HZSth7yP1s7aPaPPZRJPm","vaultName":"tech"},"type":"backlink","position":{"start":{"line":6,"column":139,"offset":1019},"end":{"line":6,"column":169,"offset":1049},"indent":[]},"value":"general.arch.cache"},{"from":{"fname":"apollo.client.cache","id":"6RhCjcv4DkPrzU888GWV3","vaultName":"tech"},"type":"backlink","position":{"start":{"line":2,"column":65,"offset":65},"end":{"line":2,"column":93,"offset":93},"indent":[]},"value":"general.arch.cache"},{"from":{"fname":"deploy.distributed.cache","id":"kW6jznu1QgEOogMoby4E9","vaultName":"tech"},"type":"backlink","position":{"start":{"line":2,"column":13,"offset":13},"end":{"line":2,"column":42,"offset":42},"indent":[]},"value":"general.arch.cache"},{"from":{"fname":"sql.view.materialized","id":"3OMg1deJDuVeA3uR0oSsY","vaultName":"tech"},"type":"backlink","position":{"start":{"line":2,"column":210,"offset":210},"end":{"line":2,"column":239,"offset":239},"indent":[]},"value":"general.arch.cache"}],"anchors":{"cache-invalidation":{"type":"header","text":"Cache invalidation","value":"cache-invalidation","line":11,"column":0,"depth":2},"with-etags":{"type":"header","text":"with ETags","value":"with-etags","line":28,"column":0,"depth":3},"cache-eviction-policies":{"type":"header","text":"Cache eviction policies","value":"cache-eviction-policies","line":32,"column":0,"depth":3},"why-is-cache-invalidation-considered-difficult":{"type":"header","text":"Why is cache invalidation considered difficult?","value":"why-is-cache-invalidation-considered-difficult","line":45,"column":0,"depth":3},"ue-resources":{"type":"header","text":"UE Resources","value":"ue-resources","line":61,"column":0,"depth":2}},"children":[],"parent":"vcEILMxyfRDtHPtCLNB5Z","data":{}},"body":"\u003ch1 id=\"cache\"\u003eCache\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#cache\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003eCaches are used in almost every computing layer: hardware, operating systems, web browsers, web applications, and more. \u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ethey are often found at the level nearest to the client (term used loosely to mean any component that makes requests), where they are implemented to return data quickly without taxing downstream levels.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"cache-invalidation\"\u003eCache invalidation\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#cache-invalidation\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eCache Invalidation is the idea that if the data is modified in the data layer, it should be invalidated in the cache; if not, this can cause inconsistent application behavior.\u003c/p\u003e\n\u003cp\u003eCache invalidation involves an action that has to be carried out by something other than the cache itself. Something (e.g., a client or a pub/sub system) needs to tell the cache that a mutation happened.\u003c/p\u003e\n\u003cp\u003eTo solve this, there are three main schemes that are used:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cem\u003eWrite-through cache\u003c/em\u003e: Under this scheme, data is written into the cache and the corresponding database simultaneously. The cached data allows for fast retrieval and, since the same data gets written in the permanent storage, we will have complete data consistency between the cache and the storage. Also, this scheme ensures that nothing will get lost in case of a crash, power failure, or other system disruptions.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAlthough write-through minimizes the risk of data loss, since every write operation must be done twice before returning success to the client, this scheme has the disadvantage of higher latency for write operations.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cem\u003eWrite-around cache\u003c/em\u003e: This technique is similar to write-through cache, but data is written directly to permanent storage, bypassing the cache. This can reduce the cache being flooded with write operations that will not subsequently be re-read, but has the disadvantage that a read request for recently written data will create a “cache miss” and must be read from slower back-end storage and experience higher latency.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003e\u003cem\u003eWrite-back (ie. write-behind) cache\u003c/em\u003e: Under this scheme, data is written to cache alone, and completion is immediately confirmed to the client. The write to the permanent storage is done after specified intervals and/or under certain conditions (such as low traffic periods). This results in low-latency and high-throughput for write-intensive applications; \u003c/p\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003ethis performance benefit comes with the risk of data loss in case of a crash or other adverse event because the only copy of the written data is in the cache.\n\u003cul\u003e\n\u003cli\u003eTo mitigate this risk, write-back caches may employ mechanisms like write-ahead logging or transaction logs to recover data in case of failures.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003ethis cache pattern is an example of weak \u003ca href=\"/notes/Ql1WxSHx11UTkDnfmYlzq\"\u003econsistency\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"with-etags\"\u003ewith ETags\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#with-etags\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\u003ca href=\"/notes/i3w73l6ff7h60dpxyuaswc6\"\u003eETags\u003c/a\u003e identify a certain version of a resource.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eex. An API can send back an ETag with a request for a list of 20 items. This ETag identifies this unique batch of items. If an identical request is made to the same endpoint and the ETag is also identical, then we know that the data is the same as well. We can use this ETag to make decisions on whether we want to fetch again or not. If however, our identical request shows a different ETag, then we take that to mean that the data from origin has somehow changed. We can use this information to determine whether or not we should invalidate data in a cache, or whether or not to render a long list of items on the page, etc.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"cache-eviction-policies\"\u003eCache eviction policies\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#cache-eviction-policies\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eCache eviction means to free the memory of the old, unused data in the cache.\u003c/p\u003e\n\u003cp\u003eThere are many cache eviction strategies, and what makes it difficult is that there is no one-size-fits-all approach. Agreeing to use one and not another can be a difficult endeavor.\u003c/p\u003e\n\u003cp\u003eFollowing are some of the most common cache eviction policies:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eLeast Recently Used (LRU): Discards the least recently used items first (most commonly used).\u003c/li\u003e\n\u003cli\u003eMost Recently Used (MRU): Discards, in contrast to LRU, the most recently used items first.\u003c/li\u003e\n\u003cli\u003eLeast Frequently Used (LFU): Counts how often an item is needed. Those that are used least often are discarded first.\u003c/li\u003e\n\u003cli\u003eFirst In First Out (FIFO): The cache evicts the first block accessed first without any regard to how often or how many times it was accessed before.\u003c/li\u003e\n\u003cli\u003eLast In First Out (LIFO): The cache evicts the block accessed most recently first without any regard to how often or how many times it was accessed before.\u003c/li\u003e\n\u003cli\u003eRandom Replacement (RR): Randomly selects a candidate item and discards it to make space when necessary.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"why-is-cache-invalidation-considered-difficult\"\u003eWhy is cache invalidation considered difficult?\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#why-is-cache-invalidation-considered-difficult\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eSuccess in a caching implementation involves seeing into the future, or multiple possible futures, which is hard in any non-deterministic situation.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eSources of non-determinism include both your own workload as well as other workloads that may affect the cost of things you depend on (cache fill / eviction actions, for example).\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe two main reasons why cache invalidation is difficult:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\n\u003cp\u003eSpace complexity issues\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eYou have to guess when the data is not likely to be needed in memory; It can't be too short that the cache is useless, and too long that you'll get a \u003ca href=\"/notes/I01hENHnh8Tqu3Ok8sLzG#memory-leak\"\u003ememory leak\u003c/a\u003e.\u003c/li\u003e\n\u003cli\u003eSuppose we had infinite memory, then cache all the data; but we don't so we have to decide what to cache that is meaningful to have the cache implemented (is a ??K cache size enough for your use case? Should you add more?) - It's the balance with the resources available.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eTime complexity issues\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThe underlying data might get changed by another process and then your process that uses the cache will be working with incorrect data\u003c/li\u003e\n\u003cli\u003eSuppose all your data was immutable, then cache all the data indefinitely. But this isn't always to case so you have to figure out what works for the given scenario (A person's mailing address doesn't change often, but their GPS position does).\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eEtags identify a certain version of a resource.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eex. An API can send back an ETag with a request for a list of 20 items. This ETag identifies this unique batch of items. If an identical request is made to the same endpoint and the ETag is also identical, then we know that the data is the same as well. We can use this ETag to make decisions on whether we want to fetch again or not. If however, our identical request shows a different ETag, then we take that to mean that the data from origin has somehow changed. We can use this information to determine whether or not we should invalidate data in a cache, or whether or not to render a long list of items on the page, etc.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"ue-resources\"\u003eUE Resources\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#ue-resources\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://engineering.fb.com/2022/06/08/core-data/cache-invalidation\"\u003eSolving cache consistency (Facebook engineering article)\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://en.wikipedia.org/wiki/Cache_replacement_policies\"\u003eCache replacement policies (e.g. MRU, LRU)\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cstrong\u003eBacklinks\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"/notes/HZSth7yP1s7aPaPPZRJPm\"\u003eScaling\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/6RhCjcv4DkPrzU888GWV3\"\u003eApollo Client Cache\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/kW6jznu1QgEOogMoby4E9\"\u003eDistributed Cache\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/3OMg1deJDuVeA3uR0oSsY\"\u003eMaterialized View\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"olZIVfSs2uLLr3BppFh4K","title":"Digital Garden","desc":"","updated":1674517603573,"created":1615482407722,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"../main/tech","name":"tech"},"contentHash":"effb007003ca6a91d7fd0c293e1d2436","links":[{"type":"wiki","from":{"fname":"root","id":"olZIVfSs2uLLr3BppFh4K","vaultName":"tech"},"value":"testing.method.unit","alias":"unit testing","position":{"start":{"line":18,"column":121,"offset":1146},"end":{"line":18,"column":157,"offset":1182},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"testing.method.unit"}},{"type":"wiki","from":{"fname":"root","id":"olZIVfSs2uLLr3BppFh4K","vaultName":"tech"},"value":"general.arch.microservice","alias":"microservices","position":{"start":{"line":18,"column":188,"offset":1213},"end":{"line":18,"column":231,"offset":1256},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"general.arch.microservice"}},{"type":"wiki","from":{"fname":"root","id":"olZIVfSs2uLLr3BppFh4K","vaultName":"tech"},"value":"paradigm.oop","alias":"OOP","position":{"start":{"line":36,"column":227,"offset":2718},"end":{"line":36,"column":247,"offset":2738},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"paradigm.oop"}}],"anchors":{"tags":{"type":"header","text":"Tags","value":"tags","line":46,"column":0,"depth":3},"resources":{"type":"header","text":"Resources","value":"resources","line":55,"column":0,"depth":2},"ue-unexamined-resources":{"type":"header","text":"UE (Unexamined) Resources","value":"ue-unexamined-resources","line":56,"column":0,"depth":3},"e-examined-resources":{"type":"header","text":"E (Examined) Resources","value":"e-examined-resources","line":59,"column":0,"depth":3},"resources-1":{"type":"header","text":"Resources","value":"resources-1","line":62,"column":0,"depth":3}},"children":["40ubf88tephzbdjte8cdsa0","zFMjbn3xihVNHjUIdZCD1","IK6NOKemuDjhfstJBovKL","ZaTr28eWk1DrXOEsc1YVb","Vi0WYVLZunVM9iR8XZJn3","ngAbg7gluvbt1bY1UIRsi","RCPPXSakm5TvKka8kOmVp","LIcuGYV0DDt1VWbvH6Sed","MPx8ykTP57I40WTZvTP7f","ZU5WmdTG1bHoE8RcmZXZG","jqWiyYJff92RjXuUQt9PQ","KihijM8OQvZ4pASkkhqzL","F9vyqvls3OBCujtukqKhy","k6jxm2b3edgkhbordpuz6v1","facc2b01-755a-409f-99f6-57bef2d1501f","bZumdyapJ2H0wWWOmJ45i","elqpgoe2r951si4xrhujppj","m5ov42Vm6mR7RQWTvl1NW","cw8cerc0cos8lh871oz8rtf","PZxxZ4iESzSlbbHJKxuAZ","UDu62Pa6BaRqlG8uGoMhy","u3zcndycwqessho5h6x0nz9","ZgCUp366YrF2Tyky2NT73","DVpVUmavSoVDA7UIlPzLX","nMCtMXVvjBsJk3iw1zoIO","ANfx9Z4a6ZA0uJuSHtbIJ","BkG557LKUYbH1DnxprEVT","1TaH8zDTM98FZ9SYaeXLM","02v7ymc144e5c4pv3edkud7","dc79799f-a55d-48ab-a8be-c48adb1b19c0","f6feef57-b8f5-451f-a09a-7b63f6a07183","4sz47Y0LKs1Si73rWtyyh","g7ulqi8no93ezeocbesc3ll","5a9fb1df-478e-4687-9be0-5cb97e61ec57","1374e9e9-1cbc-4e1f-b1ca-66b8569533dd","D8Z3rjXkSj2EOymXQXF4Z","np3c1ykvnjqv5xoombpfwqz","f529cc34-aba0-45ca-ad7e-02ddda318941","0zcauha3il2NqtxZazIo7","9bbd6f68-03b2-41f4-92e4-2ca313e8b450","5a2ab598-fa7e-4471-8bda-9f5831b679ae","uV6w4mZPoohWyZV4Xaad0","QHXEIyeZGIGMVi5Q52UWI","RgE0mZLaUjPftFPZsiAoe","mytCOts26Pidush65tdRW","fwUzxfLSPMH1eL8oBoLWx","wazdsda6h25x66edvfmeuiv","TbW7PM9bg1y5TGkiWwQ8b","xiSIDeEtIc8X0lpUQlppI","0jxgntiLNHWFuCbzqtFGF","GkdMprLUe4QQULBxmGN6V","4SYc6v5hxY5g6Ip6kjpwO","czi7ilt2i1uoqm1f2otbntj","fqVQpS9FBiXgKsZX3R3sJ","L5JUZlGAGvTxrsEBB7DY8","ttyri4pwfyn5lcx0vp9804o","TeTedoeS2LdHPR632eCpM","ulicRRwo3lSFzh3tMfWH9","p7d24vyb8m00ombzn34t50c","e65188a1-177e-4ab2-99f9-75f85d537621","fajYnbVhCRDi74xn0H30R","bArGdGwqo3iFkyKMyE7qR","4Dcp7gbEVoLLgfu7bXFai","5d700782-fb81-416e-83f9-5dd88260e350","zubgzhNFE6KlTgXcjTz6O","8lpdfWa0cbSq1XJQbcYcY","2psluywdc416t7vrql0m058","17I8ZksXvqCH1mRtZDjHp","kF916Ow84qpJJeMRkWMIo","tMLkLcrIHHBz56xVmBLkP","CSePBQ6q7qhowKESqVwt7","laZ4OfLhZNK1Kuy6GaWUr","z5IJblOknQhMzZ5QZh4ye","N36FHxfxzwJfxDY3miWyX","3bb25f58-2b50-4fa3-af55-48ea9f88a081","7x07qjgbitozdfszqzuy7ix","u93Rz4fEWGu6VBR30Zraf","9hjMHnKvYT4jLKvuDSXaV","qC5GxCZBmNb4Ip6c0kU8x","LgW7mTIALODoXc54B3p6S","UYPxfHBFWX7fb6hHU5bB6","74lYtC8NKpCzcyFOZTfR1","sEoBNAEuaTxwSmTXDonZt","dj0jr9mpvs62e2pkg3zc3yy","z8ie0xjogb6ht7gzowav5xr","qxSOd6SPN8qf9ZUojVFDX","WQoMTf6VXBaxCgksXAVsj","2Mw4XgfyCHXHNOX5yoCIY","qcdt2f7jo51muquo5r95dpo","0XJqmcdtcMZu66glBI5O8","lK8r8BXS4ThiUTe4xKIZe","93de42ca-53ea-460a-baa7-b9ec5c47cb1e","Rxs2jaGpdFzqYtP7lAJFJ","aO8W81Z0PyIb6Hs7nOHPW","lhzisalkebu4w5n01np07i0","7b5l4b6fi65n7sv9org5q1l","I01hENHnh8Tqu3Ok8sLzG","03o3n0hz9v9jtb7j889zpd4","evqsPNutOaZ8hcBCqxFQu","zhhxcjZUHdU8uRLwGb9Zh","G1aFACZB2ooWGMGwyd3ZW","YWy1C4tgoaCcw1m8JJsr7","Szj3o5iaNxPpesiCqwrbu","613syb18hb3v0u1ydvor7ru","XhvCDW3fIw6h6MhY5ticq","Q70g7SusFZBQXzkuQifv4","AzfWDH3wp7jFpL2EYxBcW","y0fwpZ9qMqirsLiFyOciU","ZF8xj8wwDUqKlrwTrCFZ1","tAJvhqhdfyZZa87QHq1TU","4hRmipi8lxpBLyzWu5JVB","iTg0C7QjvnmqBZeEigJNs","3babc3d2-79ae-470a-9c06-ab8bba2e684e","bF3UsMFya3fMeXWDspVov","ULkfbL9WpktbVYnzhl6Jw","PpNOO8JYWe6dM8wruSa7x","di40pCxDn7IiqE8lFdD46","rmW0mkerqV35I8QPji6lM","3IFIK1ByzeIxZCByryGLN","iImkYAKfkw3beAl6pLbDn","ecDe8DNWrkeQTwpTEvHje","i2it5id8qwtg27n4usg8bo1","Yqhdd9mSJGN7OJOeyoSD2","Ws5tah8tpeyn9tK8VBTg8","gWAg15uBJgkS2B0wcpMAa","l7V3v2ep1YdDCt7DOr7Ci","yM2PJBdqJnHpD63cPA6sW","qn0bre7eLbi3QMbCfWkUi","fSu0KxFL41IRouotqmbHs","0gtg24Mj1a1bQFPRGQNlO","7iQPBMltLPLbFEz2qbjPu","yoh4pwoXcfELInGKRdYf6","dCGCWXgAmiOZXbdULT1m6","jMavlje07sNa6hSEIE8WA","Xxm0JE4dKHxrQAaZfzvxD","nRb6Im4Kcmc2ZWE7K1jZ1","PAEBZCyFBZJyR7OoMZ41E","PQ6km8RgRCuyICBPOYz8f","x5tm1nfjzyawwzedy3yitgd","2bhftt8rGuxYu4pFgNqru","hjYIZpHQWuXfeEoGeJEKW","K2M9bQqVq2eQfm29eslKL","X8obW1iKwYsvNgKWGyCzy","yJwSC7hqYIezTFHf5i0Ev","c4Z7ETcOHUILRMH32Sfjw","qiR6dIu857b9M9kTqjOyK","fc2coz74cnfy5czzofx4h5x","Ku1OgHMhELajzo61Gx7ye","LUrfhDWo8wuwZu7CN9TV8","osu6JGOnvXJ5gt3tpqWZY","1a6173cd-cf13-4b34-a522-8350bf9a364f","S2sBltrPfd8a7ICuD7CuH","GLQ2pmkJUNUa93THBDVsD","md6xitz4exia2joa06i490b","oWCuBXOg6JWfZzjmKxmNl","jOmhZ8ovLYTPbpM1vqSDx","p9bov84s0isgkl1ysaw93kk","FraC6xzLy1ei91l1ICyc9","6ceBas2RE9Q4787GDngH7","734cd78d-0bc9-426b-803d-1efc84dfffe5","k4Bb09px6r0FxIRs49SXV","oaG3H1S9IUBO644nGZigu","Ka7agQJkUMRSWN0uFdkWK","si3z090WsiLasMhJBa1Az","hs6rwzt4mogiicoc4gcykbi","ljKAVERmdEiKLK9hXGKBm","zxt3lhonfdhglvijd17ua8c","dd7dopve1dudqkoibkqvti4","923tgifqf59ovv5yldtyi0a","vrjwp01goqw47fqctm4f4lo","c99gdmmppju3r1tth8cb2jx","z2pvn5qxdz84zgygqzxage8"],"parent":null,"data":{},"body":"This Dendron vault of tech knowledge is organized according to domains and their sub-domains, along with specific implementation of those domains.\n\nFor instance, Git itself is a domain. Sub-domains of Git would include things like `commit`,\n`tags`, `reflog` etc. implementations of each of those could be `cli`, `strat`\n(strategies), `inner`, and so on.\n\nThe goal of the wiki is to present data in a manner that is from the perspective\nof a querying user. Here, a user is a programmer wanting to get key information\nfrom a specific domain. For instance, if a user wants to use postgres functions\nand hasn't done them in a while, they should be able to query\n`postgres.functions` to see what information is available to them.\n\nThis wiki has been written with myself in mind. While learning each of these\ndomains, I have been sensitive to the \"aha\" moments and have noted down my\ninsights as they arose. I have refrained from capturing information that I\nconsidered obvious or otherwise non-beneficial to my own understanding.\n\nAs a result, I have allowed myself to use potentially arcane concepts to explain other ones. For example, in my note on [[unit testing|testing.method.unit]], I have made reference to the [[microservices|general.arch.microservice]] note. If these notes were made with the public in mind, this would be a very bad strategy, given that you'd have to understand microservices to be able to draw that same parallel that I've already drawn. Since these notes are written for myself, I have been fine with taking these liberties.\n\nWhat I hope to gain from this wiki is the ability to step away from any\ngiven domain for a long period of time, and be able to be passably useful for\nwhatever my goals are within a short period of time. Of course this is all\nvague sounding, and really depends on the domain along with the ends I am\ntrying to reach.\n\nTo achieve this, the system should be steadfast to:\n- be able to put information in relatively easily, without too much thought\n\trequired to its location. While location is important, Dendron makes it easy\n\tto relocate notes, if it becomes apparent that a different place makes more\n\tsense.\n- be able to extract the information that is needed, meaning there is a\n\thigh-degree in confidence in the location of the information. The idea is\n\tthat information loses a large amount of its value when it is unfindable.\n\tTherefore, a relatively strict ideology should be used when determining\n\twhere a piece of information belongs.\n\t- Some concepts might realistically belong to multiple domains. For instance, the concept of *access modifiers* can be found in both `C#` and `Typescript`. Therefore, this note should be abstracted to a common place, such as [[OOP|paradigm.oop]].\n\nThis Dendron vault is the sister component to the [General Second Brain](https://tech.kyletycholiz.com).\n\n### Tags\nThroughout the garden, I have made use of tags, which give semantic meaning to the pieces of information.\n\n- `ex.` - Denotes an *example* of the preceding piece of information\n- `spec:` - Specifies that the preceding information has some degree of *speculation* to it, and may not be 100% factual. Ideally this gets clarified over time as my understanding develops.\n- `anal:` - Denotes an *analogy* of the preceding information. Often I will attempt to link concepts to others that I have previously learned.\n- `mn:` - Denotes a *mnemonic*\n- `expl:` - Denotes an *explanation*\n\n## Resources\n### UE (Unexamined) Resources\nOften, I come across sources of information that I believe to be high-quality. They may be recommendations or found in some other way. No matter their origin, I may be in a position where I don't have the time to fully examine them (and properly extract notes), or I may not require the information at that moment in time. In cases like these, I will add reference to a section of the note called **UE Resources**. The idea is that in the future when I am ready to examine them, I have a list of resources that I can start with. This is an alternative strategy to compiling browser bookmarks, which I've found can quickly become untenable.\n\n### E (Examined) Resources\nOnce a resource has been thoroughly examined and has been mined for notes, it will be moved from *UE Resources* to *E Resources*. This is to indicate that (in my own estimation), there is nothing more to be gained from the resource that is not already in the note.\n\n### Resources\nThis heading is for inexhaustible resources. \n- A prime example would be a quality website that continually posts articles.  - Another example would be a tool, such as software that measures frequencies in a room to help acoustically treat it.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"dendronVersion":"0.83.0","vaults":[{"fsPath":"../main/tech","name":"tech"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"enableUserTags":true,"enableHashTags":true,"enableEditorDecorations":true,"enableFullHierarchyNoteTitle":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Dendron","description":"The Tech Digital Garden of Kyle Tycholiz"},"github":{"cname":"tech.kyletycholiz.com","enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"master","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","enableMermaid":true,"siteUrl":"https://tech.kyletycholiz.com","duplicateNoteBehavior":{"action":"useVault","payload":["tech"]},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"8swgk5qh3sy2b9kkfuwx3uu"},"buildId":"fo6gubzKP_KV9RZPhaoiQ","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>