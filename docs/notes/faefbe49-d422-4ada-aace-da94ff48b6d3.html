<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
  
  <title>Declaration File - Dendron</title>
  

  <link
    rel="shortcut icon"
    href="https://tycholiz.github.io/Digital-Garden/favicon.ico"
    type="image/x-icon"
  />
  <link
    rel="stylesheet"
    href="https://tycholiz.github.io/Digital-Garden/assets/css/just-the-docs-default.css"
  />
  <script
    type="text/javascript"
    src="https://tycholiz.github.io/Digital-Garden/assets/js/just-the-docs.js"
  ></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.22.0/themes/prism.min.css"
  />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"
    integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X"
    crossorigin="anonymous"
  />
  <script
    type="text/javascript"
    src="https://tycholiz.github.io/Digital-Garden/assets/js/vendor/lunr.min.js"
  ></script>
  
  <meta name="viewport" content="width=device-width, initial-scale=1" />
   
  
<meta name="description" content="Publishable code notes">
<meta name="author" content="">

<link rel="canonical" href="https://tycholiz.github.io/notes/faefbe49-d422-4ada-aace-da94ff48b6d3.html">

<meta property="og:type" content="article">
<meta property="og:url" content="https://tycholiz.github.io/notes/faefbe49-d422-4ada-aace-da94ff48b6d3.html">
<meta property="og:description" content="Publishable code notes">
<meta property="og:image" content="https://tycholiz.github.ioundefined">

<meta name="twitter:card" content="summary">

<meta name="twitter:url" content="https://tycholiz.github.io/notes/faefbe49-d422-4ada-aace-da94ff48b6d3.html">
<meta name="twitter:description" content="Publishable code notes">
<meta name="twitter:image" content="https://tycholiz.github.ioundefined">


  <meta property="og:title" content="Declaration File - Dendron" />
  <meta name="twitter:title" content="Declaration File - Dendron" />
  
</head>


<body>
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
      <symbol id="svg-link" viewBox="0 0 24 24">
        <title>Link</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
          <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
        </svg>
      </symbol>
      <symbol id="svg-search" viewBox="0 0 24 24">
        <title>Search</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
          <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </symbol>
      <symbol id="svg-menu" viewBox="0 0 24 24">
        <title>Menu</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
          <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </symbol>
      <symbol id="svg-arrow-right" viewBox="0 0 24 24">
        <title>Expand</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </symbol>
      <symbol id="svg-doc" viewBox="0 0 24 24">
        <title>Document</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
          <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
        </svg>
      </symbol>
    </svg>

    <div class="side-bar">
      <div class="site-header">
        <a href="https://tycholiz.github.io/Digital-Garden" class="site-title lh-tight">
  Dendron

 </a>
        <a href="#" id="menu-button" class="site-button">
          <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
        </a>
      </div>

      <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      </nav>
      <footer class="site-footer">
        ðŸŒ± with ðŸ’• using <a href="https://www.dendron.so/"> Dendron ðŸŒ² </a>
      </footer>
    </div>
    <div class="main" id="top">
        <div id="main-header" class="main-header">
          
            <div class="search">
              <div class="search-input-wrap">
                <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Dendron" aria-label="Search Dendron" autocomplete="off">
                <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
              </div>
              <div id="search-results" class="search-results"></div>
            </div>
          
          
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
      
        
          <nav aria-label="Breadcrumb" class="breadcrumb-nav">
            <ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="https://tycholiz.github.io/Digital-Garden">Root</a></li><li class="breadcrumb-nav-list-item"><a href="https://tycholiz.github.io/Digital-Garden/notes/f3813a1e-67df-4fdd-891f-bc4e16e3de1d.html">TypeScript</a></li><li class="breadcrumb-nav-list-item">Declaration File</li></ol>
          </nav>
        
      
      <div id="main-content" class="main-content" role="main">

        
        

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

        

        <script>
          $(function () {
            $('[data-toggle="popover"]').popover({html: true})
          })
        </script>

        

<div id="main" role="main">

  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Declaration File">
    
    <meta itemprop="datePublished" content="2021-04-04T13:28:02+00:00">
    <meta itemprop="dateModified" content="2021-04-04T13:57:25+00:00">

    <div class="page__inner-wrap">

      

      <section class="page__content" itemprop="text">

        

        <h1 id="declaration-file"><a aria-hidden="true" class="anchor-heading" href="#declaration-file"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Declaration File</h1>
<p>TypeScript is a superset of JavaScript, meaning you can write and use JavaScript libraries from within TypeScript. In such situations how should TypeScript handle the lack of Type information in JavaScript? We can either:</p>
<ul>
<li>Accept the lack of types from the JS file</li>
<li>use Declaration files, which give us an ad-hoc way to specify the shape of things in Javascript.</li>
</ul>
<p><code>.d.ts</code> files are analogous to C++ header files.</p>
<h3 id="incorporating-type-declarations-from-third-parties"><a aria-hidden="true" class="anchor-heading" href="#incorporating-type-declarations-from-third-parties"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Incorporating type declarations from third parties</h3>
<p>When we want to use Javascript 3rd party libraries in our TS project, we can often find declaration modules as packages</p>
<ul>
<li>for example, <code>@types/lodash</code> is a module that gives us types out of the box with Lodash.</li>
<li>these declaration files get saved in <code>node_modules/@types/</code></li>
</ul>
<p>When a type declaration is included in the <code>@types</code> directory, the types are automatically available for us to use in our project, as the TS compiler finds these types and makes them available during compilation time.</p>
<p><a href="http://definitelytyped.org/">DefinitelyTyped</a> is a project that hosts declaration files for popular JS libraries.</p>
<h3 id="config"><a aria-hidden="true" class="anchor-heading" href="#config"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Config</h3>
<p>"typeRoots" and "types" are the two properties of the tsconfig.json file that can be used to configure the behavior of the type declaration resolution.</p>
<h3 id="example"><a aria-hidden="true" class="anchor-heading" href="#example"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Example</h3>
<p>Imagine we had a Javascript file in a Typescript project:</p>
<pre class="language-js"><code class="language-js"><span class="token comment">// main.ts</span>
<span class="token keyword">let</span> ajala

ajala <span class="token operator">=</span> <span class="token punctuation">{</span>
 name<span class="token operator">:</span> <span class="token string">"Ajala the traveller"</span><span class="token punctuation">,</span>
 age<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
 <span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
     <span class="token keyword control-flow">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

ajala<span class="token punctuation">.</span><span class="token method function property-access">lol</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<p>When we compile this file with <code>tsc main.ts</code>, the compilation would be successful, and <code>main.js</code> is outputted.</p>
<p>If we then run <code>node main.js</code>, we will get a runtime error that <code>ajala.lol is not a function</code>. Since no type information was available for it, Typescript could not have warned us about this at compile time.</p>
<p>To fix this, we can create a file <code>main.d.ts</code>:</p>
<pre class="language-ts"><code class="language-ts"><span class="token keyword">declare</span> <span class="token keyword">module</span> <span class="token string">"MyTypes"</span> <span class="token punctuation">{</span>
	<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name"><span class="token maybe-class-name">Person</span></span> <span class="token punctuation">{</span>
		name<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
		age<span class="token operator">:</span> <span class="token builtin">number</span><span class="token punctuation">;</span>
		<span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>And then add a triple-slash directive and type annotation in <code>main.ts</code></p>
<ul>
<li>note: this triple-slash directive is possible, but not recommended. Instead, just install npm type declaration modules (below)</li>
</ul>
<pre class="language-ts"><code class="language-ts"><span class="token comment">/// &#x3C;reference path="Main.d.ts" /></span>

<span class="token keyword">import</span> <span class="token imports"><span class="token operator">*</span> <span class="token keyword">as</span> <span class="token maybe-class-name">MyTypes</span></span> <span class="token keyword">from</span> <span class="token string">"MyTypes"</span>

<span class="token keyword">let</span> ajala<span class="token operator">:</span> <span class="token maybe-class-name">MyTypes</span><span class="token punctuation">.</span><span class="token property-access"><span class="token maybe-class-name">Person</span></span>

ajala <span class="token operator">=</span> <span class="token punctuation">{</span>
	name<span class="token operator">:</span> <span class="token string">"Ajala the traveller"</span><span class="token punctuation">,</span>
	age<span class="token operator">:</span> <span class="token number">12</span><span class="token punctuation">,</span>
	<span class="token function-variable function">getName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token property-access">name</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

ajala<span class="token punctuation">.</span><span class="token method function property-access">lol</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre>
<p>With the declaration file provided and included via the triple-slash directive, the TS compiler now has information about the shape of <code>Person</code>, and will throw us an error at compile time.</p><span id="navId" data="faefbe49-d422-4ada-aace-da94ff48b6d3"></span>

                
      </section>

      
    </div>

    
  </article>

  
  
</div>


        
          <hr>
          <footer>
            
            

            
                
              </div>
          </footer>
        
    </div>
</div>


  

  <div class="search-overlay"></div>

</div>
</body>
</html>
