<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
  
  <title>Yarn - Dendron</title>
  

  <link
    rel="shortcut icon"
    href="https://tycholiz.github.io/code-notes/favicon.ico"
    type="image/x-icon"
  />
  <link
    rel="stylesheet"
    href="https://tycholiz.github.io/code-notes/assets/css/just-the-docs-default.css"
  />
  <script
    type="text/javascript"
    src="https://tycholiz.github.io/code-notes/assets/js/just-the-docs.js"
  ></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.22.0/themes/prism.min.css"
  />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"
    integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X"
    crossorigin="anonymous"
  />
  <script
    type="text/javascript"
    src="https://tycholiz.github.io/code-notes/assets/js/vendor/lunr.min.js"
  ></script>
  
  <meta name="viewport" content="width=device-width, initial-scale=1" />
   
  
<meta name="description" content="Personal knowledge space">
<meta name="author" content="">

<link rel="canonical" href="https://foo/notes/3577d6e8-1437-4f7b-9da2-c353ed232038.html">

<meta property="og:type" content="article">
<meta property="og:url" content="https://foo/notes/3577d6e8-1437-4f7b-9da2-c353ed232038.html">
<meta property="og:description" content="Personal knowledge space">
<meta property="og:image" content="https://fooundefined">

<meta name="twitter:card" content="summary">

<meta name="twitter:url" content="https://foo/notes/3577d6e8-1437-4f7b-9da2-c353ed232038.html">
<meta name="twitter:description" content="Personal knowledge space">
<meta name="twitter:image" content="https://fooundefined">


  <meta property="og:title" content="Yarn - Dendron" />
  <meta name="twitter:title" content="Yarn - Dendron" />
  
</head>


<body>
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
      <symbol id="svg-link" viewBox="0 0 24 24">
        <title>Link</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
          <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
        </svg>
      </symbol>
      <symbol id="svg-search" viewBox="0 0 24 24">
        <title>Search</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
          <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </symbol>
      <symbol id="svg-menu" viewBox="0 0 24 24">
        <title>Menu</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
          <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </symbol>
      <symbol id="svg-arrow-right" viewBox="0 0 24 24">
        <title>Expand</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </symbol>
      <symbol id="svg-doc" viewBox="0 0 24 24">
        <title>Document</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
          <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
        </svg>
      </symbol>
    </svg>

    <div class="side-bar">
      <div class="site-header">
        <a href="https://tycholiz.github.io/code-notes" class="site-title lh-tight">
  Dendron

 </a>
        <a href="#" id="menu-button" class="site-button">
          <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
        </a>
      </div>

      <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      </nav>
      <footer class="site-footer">
        ðŸŒ± with ðŸ’• using <a href="https://www.dendron.so/"> Dendron ðŸŒ² </a>
      </footer>
    </div>
    <div class="main" id="top">
        <div id="main-header" class="main-header">
          
            <div class="search">
              <div class="search-input-wrap">
                <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Dendron" aria-label="Search Dendron" autocomplete="off">
                <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
              </div>
              <div id="search-results" class="search-results"></div>
            </div>
          
          
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
      
        
          <nav aria-label="Breadcrumb" class="breadcrumb-nav">
            <ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="https://tycholiz.github.io/code-notes">Root</a></li><li class="breadcrumb-nav-list-item">Yarn</li></ol>
          </nav>
        
      
      <div id="main-content" class="main-content" role="main">

        
        

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

        

        <script>
          $(function () {
            $('[data-toggle="popover"]').popover({html: true})
          })
        </script>

        

<div id="main" role="main">

  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="Yarn">
    
    <meta itemprop="datePublished" content="2021-03-06T15:31:27+00:00">
    <meta itemprop="dateModified" content="2021-03-08T11:08:47+00:00">

    <div class="page__inner-wrap">

      

      <section class="page__content" itemprop="text">

        

        <h1 id="yarn"><a aria-hidden="true" class="anchor-heading" href="#yarn"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Yarn</h1>
<h3 id="yarnlock"><a aria-hidden="true" class="anchor-heading" href="#yarnlock"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>yarn.lock</h3>
<ul>
<li>The purpose of a lock file is to lock down the versions of the dependencies specified in a package.json file
<ul>
<li>This means that in a <code>yarn.lock</code> file, there is an identifier (ie. exact version specified) for every dependency and sub-dependency that is used for a project
<ul>
<li>sub-dependencies are the dependencies of a dependency</li>
</ul>
</li>
</ul>
</li>
<li>The equivalent of <code>yarn.lock</code> for npm is <code>package-lock.json</code>. If using both npm and yarn, we need both of them, and they need to remain in sync (use yarn's import directive to accomplish this)</li>
<li>if we didn't have a <code>yarn.lock</code>, then if a co-worker cloned our repo and ran <code>yarn install</code>, they may get different versions of a dependency, since <code>package.json</code> can specify version ranges. 
<ul>
<li>Instead, since <code>yarn.lock</code> is checked into version control, when the co-worker clones the repo and runs <code>yarn install</code>, <code>yarn.lock</code> will be checked and the version specified will be installed.</li>
</ul>
</li>
<li>critical to have if working on a team or if working alone with a CI server.</li>
<li><code>yarn.lock</code> gets updated any time a dependency is added, removed or modified
<ul>
<li>If we want to ensure <code>yarn.lock</code> is not updated, use <code>--frozen-lockfile</code>
<ul>
<li>The difference between <code>--frozen-lockfile</code> and <code>--pure-lockfile</code> is that the former will fail if an update is needed </li>
</ul>
</li>
</ul>
</li>
<li>In a perfect world, yarn.lock is unnecessary, because the point of semver is that unless the major version changes, the upgraded package will still work. In other words, if the version in package.json is listed as ^16.0.1, then <code>yarn install</code> is free to go to the latest minor version, which doesn't matter since semver defines that as fully backwards compatible.
<ul>
<li>however, in the real world not everyone follows semver best practices, and sometimes it is just mistakes which ruin backward compatibility </li>
</ul>
</li>
</ul>
<h4 id="upgrading-packages"><a aria-hidden="true" class="anchor-heading" href="#upgrading-packages"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Upgrading packages</h4>
<ul>
<li>if we have a dependency version in <code>package.json</code> specified at <code>^3.9.1</code>, this means that any version between 3.9.1 and 4.0.0 will be acceptable. Of course, since we have a lockfile, upgrades will not automatically happen.</li>
<li><code>yarn upgrade</code> allows us to upgrade all dependencies in <code>package.json</code>. If we use the <code>^</code> specifier, then the latest version within the range will be added. This will be reflected in <code>yarn.lock</code></li>
<li>we can ignore the version range by passing the <code>--latest</code> flag.
<ul>
<li>This modifies both <code>yarn.lock</code> and <code>package.json</code></li>
</ul>
</li>
<li>We can see all packages that can be upgraded with <code>yarn upgrade-interactive --latest</code></li>
</ul>
<h3 id="link"><a aria-hidden="true" class="anchor-heading" href="#link"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Link</h3>
<ul>
<li><code>yarn link</code> allows us to create symlinks to local projects, from within the project (with package.json) we are currently in.</li>
<li>ex. if we have a <code>rn-client</code> project and a <code>components</code> project, and we want to use <code>components</code> within <code>rn-client</code>, we can do the following:
<ol>
<li>go to <code>components</code> project and run <code>yarn link</code></li>
<li>go to <code>rn-client</code> project and run <code>yarn link components</code> (name field of package.json)
<ul>
<li>this creates a symlink at <code>rn-client/node_modules/components</code></li>
</ul>
</li>
<li>from <code>rn-client</code> project, <code>import components from 'components'</code> </li>
</ol>
</li>
<li>It is meant for development-only purposes</li>
<li>spec: think of <code>yarn link</code> as exporting the package, and <code>yarn link &#x3C;package></code> as importing it.</li>
</ul>
<hr>
<h2 id="children"><a aria-hidden="true" class="anchor-heading" href="#children"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Children</h2>
<ol>
<li><a href="https://tycholiz.github.io/code-notes/notes/e9d510dd-6f9a-461a-9e9d-cd866c5213f3.html">Workspaces</a></li>
<li><a href="https://tycholiz.github.io/code-notes/notes/f56cf30b-74ef-4fd8-a793-0e3528fa4dc0.html">package.json</a></li>
</ol><span id="navId" data="3577d6e8-1437-4f7b-9da2-c353ed232038"></span>

                
      </section>

      
    </div>

    
  </article>

  
  
</div>


        
          <hr>
          <footer>
            
            

            
                
              </div>
          </footer>
        
    </div>
</div>


  

  <div class="search-overlay"></div>

</div>
</body>
</html>
