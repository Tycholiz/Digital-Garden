<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><title>Kafka</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="The Tech Digital Garden of Kyle Tycholiz"/><meta property="og:title" content="Kafka"/><meta property="og:description" content="The Tech Digital Garden of Kyle Tycholiz"/><meta property="og:url" content="https://tech.kyletycholiz.com/notes/WQoMTf6VXBaxCgksXAVsj/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="3/8/2021"/><meta property="article:modified_time" content="7/25/2023"/><link rel="canonical" href="https://tech.kyletycholiz.com/notes/WQoMTf6VXBaxCgksXAVsj/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/8e7b7e4bce421c0a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8e7b7e4bce421c0a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-3d209faeb64f2f97.js" defer=""></script><script src="/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/_next/static/chunks/main-104451f3d1a5c4bc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6b338472289fe290.js" defer=""></script><script src="/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/_next/static/fo6gubzKP_KV9RZPhaoiQ/_buildManifest.js" defer=""></script><script src="/_next/static/fo6gubzKP_KV9RZPhaoiQ/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="kafka">Kafka<a aria-hidden="true" class="anchor-heading icon-link" href="#kafka"></a></h1>
<h2 id="what-is-it">What is it?<a aria-hidden="true" class="anchor-heading icon-link" href="#what-is-it"></a></h2>
<p>Kafka is a <a href="/notes/vutujFFWxQu6TshWVuMpI">distributed</a> <a href="/notes/NpY4iv9TwpGJODbVesQYe">Pub-Sub</a> messaging system.</p>
<ul>
<li>capable of handling a high volume of data</li>
<li>messages are persisted on disk and replicated within the cluster to prevent data loss.</li>
</ul>
<p>Kafka is built on top of the ZooKeeper synchronization service.</p>
<p>Traditionally, we use only databases as sole data storage, and think of that data in terms of "things", along with their state.</p>
<ul>
<li>Kafka encourages us to think of events first, and things second.</li>
</ul>
<p>Kafka stores data in a distributed log instead of a traditional database.</p>
<ul>
<li>a log is an ordered sequence of events, along with state and a description of what happened</li>
<li>Kafka is a system for managing these logs (in Kafka, a log is called a <a href="/notes/1j2qlelnxiyklb52ev5vzeu">topic</a>)</li>
</ul>
<p>Kafka's key attributes are:</p>
<ul>
<li>
<p>immutable data</p>
</li>
<li>
<p>high availability</p>
</li>
<li>
<p>high throughput</p>
</li>
<li>
<p>scalable</p>
</li>
<li>
<p>logs are easy to build at scale</p>
</li>
<li>
<p>Implementations of Kafka are declarative</p>
</li>
<li>
<p>Kafka can be quite complex to operate.</p>
<ul>
<li>AWS offers MSK (Managed Streaming for Kafka), making the management of a Kafka cluster trivial.</li>
</ul>
</li>
<li>
<p>Kafka provides database-like durability guarantees</p>
</li>
</ul>
<p>Apache Kafka is based on the commit log, and it allows users to subscribe to it and publish data to any number of systems or real-time applications. </p>
<h2 id="why-use-it">Why use it?<a aria-hidden="true" class="anchor-heading icon-link" href="#why-use-it"></a></h2>
<p>Example applications include managing passenger and driver matching at Uber</p>
<p>Data schemas are paramount in Kafka, since malformed events sent through the system can crash downstream subscribers</p>
<ul>
<li>therefore, Kafka’s streams can require both backward and forward <a href="/notes/8oqgkmx1xgbiizfv36gv5de">compatibility</a>: old messages must be readable by new consumers; new messages must be readable by old consumers.
<ul>
<li>this is why Confluent offers a schema registry tool.</li>
</ul>
</li>
</ul>
<p>There are five major APIs in Kafka:</p>
<ul>
<li><em>Producer API</em> – Permits an application to publish streams of records.</li>
<li><em>Consumer API</em> – Permits an application to subscribe to topics and processes streams of records.</li>
<li><em>Connector API</em> – Executes the reusable producer and consumer APIs that can link the topics to the existing applications.</li>
<li><em>Streams API</em> – This API converts the input streams to output and produces the result.</li>
<li><em>Admin API</em> – used to manage Kafka topics, brokers and other Kafka objects.</li>
</ul>
<h3 id="topic">Topic<a aria-hidden="true" class="anchor-heading icon-link" href="#topic"></a></h3>
<p></p><p></p><div class="portal-container">
<div class="portal-head">
<div class="portal-backlink">
<div class="portal-title">From <span class="portal-text-title">Topic</span></div>
<a href="/notes/1j2qlelnxiyklb52ev5vzeu" class="portal-arrow">Go to text <span class="right-arrow">→</span></a>
</div>
</div>
<div id="portal-parent-anchor" class="portal-parent" markdown="1">
<div class="portal-parent-fader-top"></div>
<div class="portal-parent-fader-bottom"></div><p>A topic is an ordered collection of events (ie. messages, records) stored in a durable way.</p>
<ul>
<li>A topic represents a single type of event</li>
<li>Durable - written to disk, and replicated</li>
</ul>
<p>A topic can be thought of as a feed name.</p>
<p>Messages in a topic must be first serialized so that it can be efficiently transmitted and stored in a Kafka topic.</p>
<ul>
<li>when you communicate with Kafka using a native client, that native client contains serializers that know how to serialize the data (in the case of producers) and deserialize the data (in the case of consumers)</li>
</ul>
<p>A topic has a Log which is the topic’s storage on disk.</p>
<ul>
<li>a log is broken up into partitions and segments</li>
</ul>
<p>Can be thought of as a <em>real-time stream</em></p>
<ul>
<li>Topics can be thought of as a database table
<ul>
<li>ex. if we were doing this in Postgres, we could have tables <code>geofence_entry_events</code>, <code>low_tire_pressure_warning_events</code></li>
</ul>
</li>
</ul>
<p>Kafka Services can be used as a sort of glue between microservices of an application. A microservice can consume a message from the Kafka Topic, and produce an output which gets registered to another Topic.</p>
<ul>
<li>Since it can act as glue between many services, we can produce an output from these Topics that can be consumed by a new service to perform real-time analysis of that data
<ul>
<li>This is contrast to the old-school method of running a batch-process overnight</li>
</ul>
</li>
</ul>
<p>Events in a topic are guaranteed to be in order (spec: by id)</p>
<h3 id="partitioned-nature-of-topics">Partitioned nature of Topics<a aria-hidden="true" class="anchor-heading icon-link" href="#partitioned-nature-of-topics"></a></h3>
<p>Topics are partitioned, meaning a topic is spread over a number of "buckets" located on different Kafka brokers.</p>
<ul>
<li>When a new event is published to a topic, it is actually appended to one of the topic's partitions</li>
<li>Each partition in the Kafka cluster has a leader and a set of replicas among the brokers.</li>
</ul>
<p>Kafka guarantees that any consumer of a given topic-partition will always read that partition's events in exactly the same order as they were written.</p>
<p>Events with the same event key (e.g., a customerId or vehicleId) are written to the same partition</p>
<p>Partition strategy: related events should be on the same partition</p>
</div></div><p></p><p></p>
<h3 id="kafka-connect">Kafka Connect<a aria-hidden="true" class="anchor-heading icon-link" href="#kafka-connect"></a></h3>
<p>Imagine we have multiple databases, a legacy service, and a SaaS product, and we want a way to get the data that they produce into Kafka.</p>
<ul>
<li>Kafka Connect helps us get that data into Kafka, and back out again.</li>
<li>Kafka Connect is a general term to refer to 100's of pluggable modules that handle the I/O of the whatever service we are connecting to.
<ul>
<li>ex. There would be a connector to capture row-level changes in a Postgres database.</li>
</ul>
</li>
</ul>
<p>Connectors are either Source or Sink Connectors, and are responsible for a some of the Task management, but not the actual data movement.</p>
<h3 id="kafka-streams">Kafka Streams<a aria-hidden="true" class="anchor-heading icon-link" href="#kafka-streams"></a></h3>
<ul>
<li>A Java API that performs helps us perform grouping, aggregating, filtering, enrichment (ie. table joining)
<ul>
<li>in other words, it's an expression-based language-embedded approach to relational queries.</li>
</ul>
</li>
<li>the API would be used from within the services</li>
<li>This is available to us out of the box as a consequence of using Kafka.</li>
</ul>
<p>Kafka Streams is a client library which provides an abstraction to an underlying Kafka cluster, and allows for stream manipulation operations to be performed on the hosting client. The abstraction provided for us is load-balanced by default,</p>
<h4 id="ksql">KSQL<a aria-hidden="true" class="anchor-heading icon-link" href="#ksql"></a></h4>
<ul>
<li>a language that allows us to to use SQL-like syntax to query data from one Topic, and output it into another Topic.</li>
<li>Solves the problem statement: imagine we want to perform some analysis on data kept in Kafka, but we don't want to stand up a separate service to consume that data.</li>
</ul>
<h3 id="confluent">Confluent<a aria-hidden="true" class="anchor-heading icon-link" href="#confluent"></a></h3>
<ul>
<li>a distribution of Kafka.</li>
<li>open source, but offers a paid managed service (similar to Docker)</li>
</ul>
<h3 id="kafka-vs-logstash">Kafka vs Logstash<a aria-hidden="true" class="anchor-heading icon-link" href="#kafka-vs-logstash"></a></h3>
<p><a href="https://stackoverflow.com/questions/40864312/how-logstash-is-different-than-kafka">Kafka is a cluster; Logstash is a single instance</a></p>
<h3 id="kafka-vs-rabbitmq">Kafka vs RabbitMQ<a aria-hidden="true" class="anchor-heading icon-link" href="#kafka-vs-rabbitmq"></a></h3>
<p>These are different forms of communicating. When service A calls service B to exchange information, it's similar to a phone conversation. I ask you a question, and you respond. In the meantime we're both occupied with that conversation; you have to have time to talk with me, and so do I.</p>
<p>RabbitMQ and Kafka (and similar tools) also support two more types of communication:</p>
<ol>
<li><em>Topics</em>: a topic is a one-way one to many conversation. Basically it's like standing on a soapbox and shouting to a megaphone. Whoever is interested can listen; I don't care if that is zero people or a hundred. I send my message and the broker (kafka/rabbit) makes sure whoever is subscribed to the topic all get the message.</li>
<li><em>Queues</em>: a queue is similar to sending letters to a company. I send a letter complaining about their service, and within that company someone opens and reads this letter. I'm not involved anymore after I send  the letter. While there may be a hundred workers opening letters, only one of them is going to be handling mine. Copies don't magically appear.</li>
</ol>
<p>So both queues and topics are one-way communication that are fire and forget (asynchronous). This as opposed to TCP (and HTTP on top of that) that are two-way synchronous communication. The broker guarantees that the other side gets the message. Depending on how you configure (for example) Kafka; you can either have a single service get a message (queue example), all of the services get the same message (topic example) or something in between.</p>
<p>When working with microservices you want every unit to be as decoupled as possible.</p>
<ul>
<li>Let's say you have a component that handles user information (<code>A</code>) and you have some other module that need to do something every time a user updates his info (<code>B</code>). The classic way to do it would be to make <code>A</code> send some signal (usually an http request) to <code>B</code> so it knows it has work to do. But, for that, <code>A</code> needs to know a lot about <code>B</code>. And what if you now have <code>C</code> that needs to be triggered to? Or <code>D</code> that needs to process just some of the users? <code>A</code> would need to keep track of all of this, meanings they are highly coupled.</li>
<li>With a broker, <code>A</code> just publishes that there's a change, and all other components can subscribe to this event and react accordingly. This way, components can be added or removed with minimal impact on the overall structure.</li>
</ul>
<h2 id="do-you-need-kafka">Do you need Kafka?<a aria-hidden="true" class="anchor-heading icon-link" href="#do-you-need-kafka"></a></h2>
<p>From Reddit <a href="https://www.reddit.com/r/apachekafka/comments/hyxezo/kafka_when_to_use_and_when_not_to_use/">thread</a>:</p>
<p>Kafka is like an event bus for distributed messages. It can't solve the intractable problem of distributed systems, but it does provide a nice framework for handling messages at scale.</p>
<p>I would say if you don't need Kafka, then that's a perfectly good reason not to use it. You might have a monolith, you might have a series of services that all own their data within a database, and they all communicate via REST APIs. If that works, then Kafka won't really serve a purpose.</p>
<p>You start to need Kafka when you run into the constraints of distributed scale. If you have more events than any single worker can handle, and you've decided you can't increase the available CPU and memory any further, then you start facing distributed messaging problems.</p>
<p>As soon as two computers located some distance from each other try to determine what is true, and what happened first, you'll run into problems. Your next goal is to try and figure out which constraints you're willing to bend.</p>
<p>Maybe your pipeline doesn't actually care about order, but absolutely cares that you don't drop a single record. Maybe you only care about throughput. Maybe you care about order, but not about availability. Eventually somethings gotta give. Kafka just helps you manage that infrastructure, it doesn't solve the underlying issues.</p>
<p>If you run an app that collects logs and metrics, order might not matter. Just send everything down the pipe and you'll aggregate later. But you probably wouldn't run your banking transaction on it.</p>
<h3 id="using-kafka-in-a-logging-system">Using Kafka in a Logging system<a aria-hidden="true" class="anchor-heading icon-link" href="#using-kafka-in-a-logging-system"></a></h3>
<p>"There are plenty of open-source tools available for logging. We decided to use Graylog—an excellent tool for logging—and Apache Kafka, a messaging system to collect and digest logs from our containers. The containers send logs to Kafka, and Kafka hands them off to Graylog for indexing. We chose to make the application components send logs to Kafka themselves so that we could stream logs in an easy-to-index format. Alternatively, there are tools that retrieve logs from outside the container and forward them to a logging solution."</p>
<h2 id="ue-resources">UE Resources<a aria-hidden="true" class="anchor-heading icon-link" href="#ue-resources"></a></h2>
<ul>
<li><a href="https://kafka-tutorials.confluent.io/">The place to start learning Kafka</a></li>
<li><a href="https://developer.confluent.io/learn-kafka/apache-kafka/topics/">Kafka course from Confluence</a></li>
<li><a href="https://www.confluent.io/blog/getting-started-with-kafkajs/">Getting Started with Kafkajs</a></li>
<li><a href="https://github.com/Azure/azure-functions-kafka-extension">Kafka with Azure Functions</a></li>
<li><a href="https://medium.com/@Instaclustr/apache-kafka-connect-architecture-overview-842097d3eb96">Connect Architecture</a></li>
<li><a href="https://developers.redhat.com/articles/2022/05/03/fine-tune-kafka-performance-kafka-optimization-theorem#">Fine-tuning Kafka performance</a></li>
<li><a href="https://notes.stephenholiday.com/Kafka.pdf">Kafka Whitepaper</a></li>
</ul>
<h2 id="tools">Tools<a aria-hidden="true" class="anchor-heading icon-link" href="#tools"></a></h2>
<ul>
<li><a href="https://github.com/cloudhut/kowl">Kafka dashboard</a></li>
</ul>
<hr>
<strong>Children</strong>
<ol>
<li><a href="/notes/dk8tnpywoun81bewo03wwk2">Broker</a></li>
<li><a href="/notes/m1ugcz0q19q3k8biaf9q74l">CLI</a></li>
<li><a href="/notes/19azbksfmjmqv0voc9xdnkm">Connect</a></li>
<li><a href="/notes/1u9hxzro1d2jd3mekt38lgx">Consumer</a></li>
<li><a href="/notes/6c0c0dt6yitq5u3231qayzx">Local</a></li>
<li><a href="/notes/t30166dyj75zi946168kbol">Producer</a></li>
<li><a href="/notes/7diu8z6ojbm610237nmot5l">Schema Registry</a></li>
<li><a href="/notes/se427npjl4bazz30m40drsc">Stream</a></li>
<li><a href="/notes/1j2qlelnxiyklb52ev5vzeu">Topic</a></li>
</ol>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/notes/ulicRRwo3lSFzh3tMfWH9">Apache Flink</a></li>
<li><a href="/notes/xISza0hg9S9FjXgmkfYgB">Data Mesh</a></li>
<li><a href="/notes/7n3tUhrwbvz8nNu0bTlWz">EventBridge</a></li>
<li><a href="/notes/mP0bWcHx4tIFklY9Ge8vh">Kinesis</a></li>
<li><a href="/notes/3r7tbyDBkWsTEM3czdzZZ">Lambda</a></li>
<li><a href="/notes/vtLtsv3Vsdt6pTTASCq4u">Streaming Architecture</a></li>
<li><a href="/notes/Skg9BUUhw2xIBmwrkEP4u">Messaging Pattern</a></li>
<li><a href="/notes/wbs6c9snnonnyzm8vk2t4b9">Strategies</a></li>
<li><a href="/notes/i0cxm46r54o0242vn13g38n">Observable</a></li>
<li><a href="/notes/0pUoWXrTC07Z9B1ijwosK">Dead Letter Queue</a></li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#what-is-it" title="What is it?">What is it?</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#why-use-it" title="Why use it?">Why use it?</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#topic" title="Topic">Topic</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#kafka-connect" title="Kafka Connect">Kafka Connect</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#kafka-streams" title="Kafka Streams">Kafka Streams</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#ksql" title="KSQL">KSQL</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#confluent" title="Confluent">Confluent</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#kafka-vs-logstash" title="Kafka vs Logstash">Kafka vs Logstash</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#kafka-vs-rabbitmq" title="Kafka vs RabbitMQ">Kafka vs RabbitMQ</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#do-you-need-kafka" title="Do you need Kafka?">Do you need Kafka?</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#using-kafka-in-a-logging-system" title="Using Kafka in a Logging system">Using Kafka in a Logging system</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#ue-resources" title="UE Resources">UE Resources</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#tools" title="Tools">Tools</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"WQoMTf6VXBaxCgksXAVsj","title":"Kafka","desc":"","updated":1690256778746,"created":1615222852556,"custom":{},"fname":"kafka","type":"note","vault":{"fsPath":"../main/tech","name":"tech"},"contentHash":"136d89ad779ea5622ffc57acac555b12","links":[{"type":"wiki","from":{"fname":"kafka","id":"WQoMTf6VXBaxCgksXAVsj","vaultName":"tech"},"value":"deploy.distributed","alias":"distributed","position":{"start":{"line":3,"column":12,"offset":27},"end":{"line":3,"column":46,"offset":61},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"deploy.distributed"}},{"type":"wiki","from":{"fname":"kafka","id":"WQoMTf6VXBaxCgksXAVsj","vaultName":"tech"},"value":"general.patterns.messaging.pubsub","alias":"Pub-Sub","position":{"start":{"line":3,"column":47,"offset":62},"end":{"line":3,"column":92,"offset":107},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"general.patterns.messaging.pubsub"}},{"type":"wiki","from":{"fname":"kafka","id":"WQoMTf6VXBaxCgksXAVsj","vaultName":"tech"},"value":"kafka.topic","alias":"topic","position":{"start":{"line":14,"column":74,"offset":762},"end":{"line":14,"column":95,"offset":783},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"kafka.topic"}},{"type":"wiki","from":{"fname":"kafka","id":"WQoMTf6VXBaxCgksXAVsj","vaultName":"tech"},"value":"api.compatability","alias":"compatibility","position":{"start":{"line":34,"column":68,"offset":1582},"end":{"line":34,"column":103,"offset":1617},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"api.compatability"}},{"type":"ref","from":{"fname":"kafka","id":"WQoMTf6VXBaxCgksXAVsj","vaultName":"tech"},"value":"kafka.topic","position":{"start":{"line":45,"column":1,"offset":2285},"end":{"line":45,"column":17,"offset":2301},"indent":[]},"xvault":false,"to":{"fname":"kafka.topic"}},{"from":{"fname":"flink","id":"ulicRRwo3lSFzh3tMfWH9","vaultName":"tech"},"type":"backlink","position":{"start":{"line":15,"column":100,"offset":1204},"end":{"line":15,"column":109,"offset":1213},"indent":[]},"value":"kafka"},{"from":{"fname":"data.mesh","id":"xISza0hg9S9FjXgmkfYgB","vaultName":"tech"},"type":"backlink","position":{"start":{"line":28,"column":19,"offset":1809},"end":{"line":28,"column":28,"offset":1818},"indent":[]},"value":"kafka"},{"from":{"fname":"aws.svc.event-bridge","id":"7n3tUhrwbvz8nNu0bTlWz","vaultName":"tech"},"type":"backlink","position":{"start":{"line":40,"column":37,"offset":2702},"end":{"line":40,"column":46,"offset":2711},"indent":[]},"value":"kafka"},{"from":{"fname":"aws.svc.kinesis","id":"mP0bWcHx4tIFklY9Ge8vh","vaultName":"tech"},"type":"backlink","position":{"start":{"line":5,"column":33,"offset":214},"end":{"line":5,"column":42,"offset":223},"indent":[]},"value":"kafka"},{"from":{"fname":"general.arch.lambda","id":"3r7tbyDBkWsTEM3czdzZZ","vaultName":"tech"},"type":"backlink","position":{"start":{"line":7,"column":187,"offset":568},"end":{"line":7,"column":209,"offset":590},"indent":[]},"value":"kafka"},{"from":{"fname":"general.arch.streaming","id":"vtLtsv3Vsdt6pTTASCq4u","vaultName":"tech"},"type":"backlink","position":{"start":{"line":5,"column":32,"offset":467},"end":{"line":5,"column":47,"offset":482},"indent":[]},"value":"kafka"},{"from":{"fname":"general.patterns.messaging","id":"Skg9BUUhw2xIBmwrkEP4u","vaultName":"tech"},"type":"backlink","position":{"start":{"line":51,"column":3,"offset":3706},"end":{"line":51,"column":12,"offset":3715},"indent":[]},"value":"kafka"},{"from":{"fname":"db.distributed.replication.strategies","id":"wbs6c9snnonnyzm8vk2t4b9","vaultName":"tech"},"type":"backlink","position":{"start":{"line":13,"column":78,"offset":609},"end":{"line":13,"column":87,"offset":618},"indent":[]},"value":"kafka"},{"from":{"fname":"general.patterns.behavioural.observable","id":"i0cxm46r54o0242vn13g38n","vaultName":"tech"},"type":"backlink","position":{"start":{"line":76,"column":105,"offset":4790},"end":{"line":76,"column":114,"offset":4799},"indent":[]},"value":"kafka"},{"from":{"fname":"general.patterns.messaging.DLQ","id":"0pUoWXrTC07Z9B1ijwosK","vaultName":"tech"},"type":"backlink","position":{"start":{"line":10,"column":102,"offset":512},"end":{"line":10,"column":111,"offset":521},"indent":[]},"value":"kafka"}],"anchors":{"what-is-it":{"type":"header","text":"What is it?","value":"what-is-it","line":8,"column":0,"depth":2},"why-use-it":{"type":"header","text":"Why use it?","value":"why-use-it","line":36,"column":0,"depth":2},"topic":{"type":"header","text":"Topic","value":"topic","line":50,"column":0,"depth":3},"kafka-connect":{"type":"header","text":"Kafka Connect","value":"kafka-connect","line":53,"column":0,"depth":3},"kafka-streams":{"type":"header","text":"Kafka Streams","value":"kafka-streams","line":61,"column":0,"depth":3},"ksql":{"type":"header","text":"KSQL","value":"ksql","line":69,"column":0,"depth":4},"confluent":{"type":"header","text":"Confluent","value":"confluent","line":73,"column":0,"depth":3},"kafka-vs-logstash":{"type":"header","text":"Kafka vs Logstash","value":"kafka-vs-logstash","line":77,"column":0,"depth":3},"kafka-vs-rabbitmq":{"type":"header","text":"Kafka vs RabbitMQ","value":"kafka-vs-rabbitmq","line":80,"column":0,"depth":3},"do-you-need-kafka":{"type":"header","text":"Do you need Kafka?","value":"do-you-need-kafka","line":93,"column":0,"depth":2},"using-kafka-in-a-logging-system":{"type":"header","text":"Using Kafka in a Logging system","value":"using-kafka-in-a-logging-system","line":108,"column":0,"depth":3},"ue-resources":{"type":"header","text":"UE Resources","value":"ue-resources","line":111,"column":0,"depth":2},"tools":{"type":"header","text":"Tools","value":"tools","line":120,"column":0,"depth":2}},"children":["dk8tnpywoun81bewo03wwk2","m1ugcz0q19q3k8biaf9q74l","19azbksfmjmqv0voc9xdnkm","1u9hxzro1d2jd3mekt38lgx","6c0c0dt6yitq5u3231qayzx","t30166dyj75zi946168kbol","7diu8z6ojbm610237nmot5l","se427npjl4bazz30m40drsc","1j2qlelnxiyklb52ev5vzeu"],"parent":"olZIVfSs2uLLr3BppFh4K","data":{}},"body":"\u003ch1 id=\"kafka\"\u003eKafka\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#kafka\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003ch2 id=\"what-is-it\"\u003eWhat is it?\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#what-is-it\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eKafka is a \u003ca href=\"/notes/vutujFFWxQu6TshWVuMpI\"\u003edistributed\u003c/a\u003e \u003ca href=\"/notes/NpY4iv9TwpGJODbVesQYe\"\u003ePub-Sub\u003c/a\u003e messaging system.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ecapable of handling a high volume of data\u003c/li\u003e\n\u003cli\u003emessages are persisted on disk and replicated within the cluster to prevent data loss.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eKafka is built on top of the ZooKeeper synchronization service.\u003c/p\u003e\n\u003cp\u003eTraditionally, we use only databases as sole data storage, and think of that data in terms of \"things\", along with their state.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eKafka encourages us to think of events first, and things second.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eKafka stores data in a distributed log instead of a traditional database.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ea log is an ordered sequence of events, along with state and a description of what happened\u003c/li\u003e\n\u003cli\u003eKafka is a system for managing these logs (in Kafka, a log is called a \u003ca href=\"/notes/1j2qlelnxiyklb52ev5vzeu\"\u003etopic\u003c/a\u003e)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eKafka's key attributes are:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eimmutable data\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ehigh availability\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ehigh throughput\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003escalable\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003elogs are easy to build at scale\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eImplementations of Kafka are declarative\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eKafka can be quite complex to operate.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eAWS offers MSK (Managed Streaming for Kafka), making the management of a Kafka cluster trivial.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eKafka provides database-like durability guarantees\u003c/p\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eApache Kafka is based on the commit log, and it allows users to subscribe to it and publish data to any number of systems or real-time applications. \u003c/p\u003e\n\u003ch2 id=\"why-use-it\"\u003eWhy use it?\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#why-use-it\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eExample applications include managing passenger and driver matching at Uber\u003c/p\u003e\n\u003cp\u003eData schemas are paramount in Kafka, since malformed events sent through the system can crash downstream subscribers\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003etherefore, Kafka’s streams can require both backward and forward \u003ca href=\"/notes/8oqgkmx1xgbiizfv36gv5de\"\u003ecompatibility\u003c/a\u003e: old messages must be readable by new consumers; new messages must be readable by old consumers.\n\u003cul\u003e\n\u003cli\u003ethis is why Confluent offers a schema registry tool.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThere are five major APIs in Kafka:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003cem\u003eProducer API\u003c/em\u003e – Permits an application to publish streams of records.\u003c/li\u003e\n\u003cli\u003e\u003cem\u003eConsumer API\u003c/em\u003e – Permits an application to subscribe to topics and processes streams of records.\u003c/li\u003e\n\u003cli\u003e\u003cem\u003eConnector API\u003c/em\u003e – Executes the reusable producer and consumer APIs that can link the topics to the existing applications.\u003c/li\u003e\n\u003cli\u003e\u003cem\u003eStreams API\u003c/em\u003e – This API converts the input streams to output and produces the result.\u003c/li\u003e\n\u003cli\u003e\u003cem\u003eAdmin API\u003c/em\u003e – used to manage Kafka topics, brokers and other Kafka objects.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"topic\"\u003eTopic\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#topic\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\u003cdiv class=\"portal-container\"\u003e\n\u003cdiv class=\"portal-head\"\u003e\n\u003cdiv class=\"portal-backlink\"\u003e\n\u003cdiv class=\"portal-title\"\u003eFrom \u003cspan class=\"portal-text-title\"\u003eTopic\u003c/span\u003e\u003c/div\u003e\n\u003ca href=\"/notes/1j2qlelnxiyklb52ev5vzeu\" class=\"portal-arrow\"\u003eGo to text \u003cspan class=\"right-arrow\"\u003e→\u003c/span\u003e\u003c/a\u003e\n\u003c/div\u003e\n\u003c/div\u003e\n\u003cdiv id=\"portal-parent-anchor\" class=\"portal-parent\" markdown=\"1\"\u003e\n\u003cdiv class=\"portal-parent-fader-top\"\u003e\u003c/div\u003e\n\u003cdiv class=\"portal-parent-fader-bottom\"\u003e\u003c/div\u003e\u003cp\u003eA topic is an ordered collection of events (ie. messages, records) stored in a durable way.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eA topic represents a single type of event\u003c/li\u003e\n\u003cli\u003eDurable - written to disk, and replicated\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eA topic can be thought of as a feed name.\u003c/p\u003e\n\u003cp\u003eMessages in a topic must be first serialized so that it can be efficiently transmitted and stored in a Kafka topic.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ewhen you communicate with Kafka using a native client, that native client contains serializers that know how to serialize the data (in the case of producers) and deserialize the data (in the case of consumers)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eA topic has a Log which is the topic’s storage on disk.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ea log is broken up into partitions and segments\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eCan be thought of as a \u003cem\u003ereal-time stream\u003c/em\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eTopics can be thought of as a database table\n\u003cul\u003e\n\u003cli\u003eex. if we were doing this in Postgres, we could have tables \u003ccode\u003egeofence_entry_events\u003c/code\u003e, \u003ccode\u003elow_tire_pressure_warning_events\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eKafka Services can be used as a sort of glue between microservices of an application. A microservice can consume a message from the Kafka Topic, and produce an output which gets registered to another Topic.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eSince it can act as glue between many services, we can produce an output from these Topics that can be consumed by a new service to perform real-time analysis of that data\n\u003cul\u003e\n\u003cli\u003eThis is contrast to the old-school method of running a batch-process overnight\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eEvents in a topic are guaranteed to be in order (spec: by id)\u003c/p\u003e\n\u003ch3 id=\"partitioned-nature-of-topics\"\u003ePartitioned nature of Topics\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#partitioned-nature-of-topics\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eTopics are partitioned, meaning a topic is spread over a number of \"buckets\" located on different Kafka brokers.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eWhen a new event is published to a topic, it is actually appended to one of the topic's partitions\u003c/li\u003e\n\u003cli\u003eEach partition in the Kafka cluster has a leader and a set of replicas among the brokers.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eKafka guarantees that any consumer of a given topic-partition will always read that partition's events in exactly the same order as they were written.\u003c/p\u003e\n\u003cp\u003eEvents with the same event key (e.g., a customerId or vehicleId) are written to the same partition\u003c/p\u003e\n\u003cp\u003ePartition strategy: related events should be on the same partition\u003c/p\u003e\n\u003c/div\u003e\u003c/div\u003e\u003cp\u003e\u003c/p\u003e\u003cp\u003e\u003c/p\u003e\n\u003ch3 id=\"kafka-connect\"\u003eKafka Connect\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#kafka-connect\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eImagine we have multiple databases, a legacy service, and a SaaS product, and we want a way to get the data that they produce into Kafka.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eKafka Connect helps us get that data into Kafka, and back out again.\u003c/li\u003e\n\u003cli\u003eKafka Connect is a general term to refer to 100's of pluggable modules that handle the I/O of the whatever service we are connecting to.\n\u003cul\u003e\n\u003cli\u003eex. There would be a connector to capture row-level changes in a Postgres database.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eConnectors are either Source or Sink Connectors, and are responsible for a some of the Task management, but not the actual data movement.\u003c/p\u003e\n\u003ch3 id=\"kafka-streams\"\u003eKafka Streams\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#kafka-streams\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eA Java API that performs helps us perform grouping, aggregating, filtering, enrichment (ie. table joining)\n\u003cul\u003e\n\u003cli\u003ein other words, it's an expression-based language-embedded approach to relational queries.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003ethe API would be used from within the services\u003c/li\u003e\n\u003cli\u003eThis is available to us out of the box as a consequence of using Kafka.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eKafka Streams is a client library which provides an abstraction to an underlying Kafka cluster, and allows for stream manipulation operations to be performed on the hosting client. The abstraction provided for us is load-balanced by default,\u003c/p\u003e\n\u003ch4 id=\"ksql\"\u003eKSQL\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#ksql\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003ea language that allows us to to use SQL-like syntax to query data from one Topic, and output it into another Topic.\u003c/li\u003e\n\u003cli\u003eSolves the problem statement: imagine we want to perform some analysis on data kept in Kafka, but we don't want to stand up a separate service to consume that data.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"confluent\"\u003eConfluent\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#confluent\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003ea distribution of Kafka.\u003c/li\u003e\n\u003cli\u003eopen source, but offers a paid managed service (similar to Docker)\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"kafka-vs-logstash\"\u003eKafka vs Logstash\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#kafka-vs-logstash\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\u003ca href=\"https://stackoverflow.com/questions/40864312/how-logstash-is-different-than-kafka\"\u003eKafka is a cluster; Logstash is a single instance\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"kafka-vs-rabbitmq\"\u003eKafka vs RabbitMQ\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#kafka-vs-rabbitmq\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eThese are different forms of communicating. When service A calls service B to exchange information, it's similar to a phone conversation. I ask you a question, and you respond. In the meantime we're both occupied with that conversation; you have to have time to talk with me, and so do I.\u003c/p\u003e\n\u003cp\u003eRabbitMQ and Kafka (and similar tools) also support two more types of communication:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003e\u003cem\u003eTopics\u003c/em\u003e: a topic is a one-way one to many conversation. Basically it's like standing on a soapbox and shouting to a megaphone. Whoever is interested can listen; I don't care if that is zero people or a hundred. I send my message and the broker (kafka/rabbit) makes sure whoever is subscribed to the topic all get the message.\u003c/li\u003e\n\u003cli\u003e\u003cem\u003eQueues\u003c/em\u003e: a queue is similar to sending letters to a company. I send a letter complaining about their service, and within that company someone opens and reads this letter. I'm not involved anymore after I send  the letter. While there may be a hundred workers opening letters, only one of them is going to be handling mine. Copies don't magically appear.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eSo both queues and topics are one-way communication that are fire and forget (asynchronous). This as opposed to TCP (and HTTP on top of that) that are two-way synchronous communication. The broker guarantees that the other side gets the message. Depending on how you configure (for example) Kafka; you can either have a single service get a message (queue example), all of the services get the same message (topic example) or something in between.\u003c/p\u003e\n\u003cp\u003eWhen working with microservices you want every unit to be as decoupled as possible.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eLet's say you have a component that handles user information (\u003ccode\u003eA\u003c/code\u003e) and you have some other module that need to do something every time a user updates his info (\u003ccode\u003eB\u003c/code\u003e). The classic way to do it would be to make \u003ccode\u003eA\u003c/code\u003e send some signal (usually an http request) to \u003ccode\u003eB\u003c/code\u003e so it knows it has work to do. But, for that, \u003ccode\u003eA\u003c/code\u003e needs to know a lot about \u003ccode\u003eB\u003c/code\u003e. And what if you now have \u003ccode\u003eC\u003c/code\u003e that needs to be triggered to? Or \u003ccode\u003eD\u003c/code\u003e that needs to process just some of the users? \u003ccode\u003eA\u003c/code\u003e would need to keep track of all of this, meanings they are highly coupled.\u003c/li\u003e\n\u003cli\u003eWith a broker, \u003ccode\u003eA\u003c/code\u003e just publishes that there's a change, and all other components can subscribe to this event and react accordingly. This way, components can be added or removed with minimal impact on the overall structure.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"do-you-need-kafka\"\u003eDo you need Kafka?\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#do-you-need-kafka\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eFrom Reddit \u003ca href=\"https://www.reddit.com/r/apachekafka/comments/hyxezo/kafka_when_to_use_and_when_not_to_use/\"\u003ethread\u003c/a\u003e:\u003c/p\u003e\n\u003cp\u003eKafka is like an event bus for distributed messages. It can't solve the intractable problem of distributed systems, but it does provide a nice framework for handling messages at scale.\u003c/p\u003e\n\u003cp\u003eI would say if you don't need Kafka, then that's a perfectly good reason not to use it. You might have a monolith, you might have a series of services that all own their data within a database, and they all communicate via REST APIs. If that works, then Kafka won't really serve a purpose.\u003c/p\u003e\n\u003cp\u003eYou start to need Kafka when you run into the constraints of distributed scale. If you have more events than any single worker can handle, and you've decided you can't increase the available CPU and memory any further, then you start facing distributed messaging problems.\u003c/p\u003e\n\u003cp\u003eAs soon as two computers located some distance from each other try to determine what is true, and what happened first, you'll run into problems. Your next goal is to try and figure out which constraints you're willing to bend.\u003c/p\u003e\n\u003cp\u003eMaybe your pipeline doesn't actually care about order, but absolutely cares that you don't drop a single record. Maybe you only care about throughput. Maybe you care about order, but not about availability. Eventually somethings gotta give. Kafka just helps you manage that infrastructure, it doesn't solve the underlying issues.\u003c/p\u003e\n\u003cp\u003eIf you run an app that collects logs and metrics, order might not matter. Just send everything down the pipe and you'll aggregate later. But you probably wouldn't run your banking transaction on it.\u003c/p\u003e\n\u003ch3 id=\"using-kafka-in-a-logging-system\"\u003eUsing Kafka in a Logging system\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#using-kafka-in-a-logging-system\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\"There are plenty of open-source tools available for logging. We decided to use Graylog—an excellent tool for logging—and Apache Kafka, a messaging system to collect and digest logs from our containers. The containers send logs to Kafka, and Kafka hands them off to Graylog for indexing. We chose to make the application components send logs to Kafka themselves so that we could stream logs in an easy-to-index format. Alternatively, there are tools that retrieve logs from outside the container and forward them to a logging solution.\"\u003c/p\u003e\n\u003ch2 id=\"ue-resources\"\u003eUE Resources\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#ue-resources\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://kafka-tutorials.confluent.io/\"\u003eThe place to start learning Kafka\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://developer.confluent.io/learn-kafka/apache-kafka/topics/\"\u003eKafka course from Confluence\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://www.confluent.io/blog/getting-started-with-kafkajs/\"\u003eGetting Started with Kafkajs\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/Azure/azure-functions-kafka-extension\"\u003eKafka with Azure Functions\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://medium.com/@Instaclustr/apache-kafka-connect-architecture-overview-842097d3eb96\"\u003eConnect Architecture\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://developers.redhat.com/articles/2022/05/03/fine-tune-kafka-performance-kafka-optimization-theorem#\"\u003eFine-tuning Kafka performance\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://notes.stephenholiday.com/Kafka.pdf\"\u003eKafka Whitepaper\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"tools\"\u003eTools\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#tools\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/cloudhut/kowl\"\u003eKafka dashboard\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cstrong\u003eChildren\u003c/strong\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca href=\"/notes/dk8tnpywoun81bewo03wwk2\"\u003eBroker\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/m1ugcz0q19q3k8biaf9q74l\"\u003eCLI\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/19azbksfmjmqv0voc9xdnkm\"\u003eConnect\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/1u9hxzro1d2jd3mekt38lgx\"\u003eConsumer\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/6c0c0dt6yitq5u3231qayzx\"\u003eLocal\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/t30166dyj75zi946168kbol\"\u003eProducer\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/7diu8z6ojbm610237nmot5l\"\u003eSchema Registry\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/se427npjl4bazz30m40drsc\"\u003eStream\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/1j2qlelnxiyklb52ev5vzeu\"\u003eTopic\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003cstrong\u003eBacklinks\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"/notes/ulicRRwo3lSFzh3tMfWH9\"\u003eApache Flink\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/xISza0hg9S9FjXgmkfYgB\"\u003eData Mesh\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/7n3tUhrwbvz8nNu0bTlWz\"\u003eEventBridge\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/mP0bWcHx4tIFklY9Ge8vh\"\u003eKinesis\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/3r7tbyDBkWsTEM3czdzZZ\"\u003eLambda\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/vtLtsv3Vsdt6pTTASCq4u\"\u003eStreaming Architecture\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/Skg9BUUhw2xIBmwrkEP4u\"\u003eMessaging Pattern\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/wbs6c9snnonnyzm8vk2t4b9\"\u003eStrategies\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/i0cxm46r54o0242vn13g38n\"\u003eObservable\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/notes/0pUoWXrTC07Z9B1ijwosK\"\u003eDead Letter Queue\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"olZIVfSs2uLLr3BppFh4K","title":"Digital Garden","desc":"","updated":1674517603573,"created":1615482407722,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"../main/tech","name":"tech"},"contentHash":"effb007003ca6a91d7fd0c293e1d2436","links":[{"type":"wiki","from":{"fname":"root","id":"olZIVfSs2uLLr3BppFh4K","vaultName":"tech"},"value":"testing.method.unit","alias":"unit testing","position":{"start":{"line":18,"column":121,"offset":1146},"end":{"line":18,"column":157,"offset":1182},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"testing.method.unit"}},{"type":"wiki","from":{"fname":"root","id":"olZIVfSs2uLLr3BppFh4K","vaultName":"tech"},"value":"general.arch.microservice","alias":"microservices","position":{"start":{"line":18,"column":188,"offset":1213},"end":{"line":18,"column":231,"offset":1256},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"general.arch.microservice"}},{"type":"wiki","from":{"fname":"root","id":"olZIVfSs2uLLr3BppFh4K","vaultName":"tech"},"value":"paradigm.oop","alias":"OOP","position":{"start":{"line":36,"column":227,"offset":2718},"end":{"line":36,"column":247,"offset":2738},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"paradigm.oop"}}],"anchors":{"tags":{"type":"header","text":"Tags","value":"tags","line":46,"column":0,"depth":3},"resources":{"type":"header","text":"Resources","value":"resources","line":55,"column":0,"depth":2},"ue-unexamined-resources":{"type":"header","text":"UE (Unexamined) Resources","value":"ue-unexamined-resources","line":56,"column":0,"depth":3},"e-examined-resources":{"type":"header","text":"E (Examined) Resources","value":"e-examined-resources","line":59,"column":0,"depth":3},"resources-1":{"type":"header","text":"Resources","value":"resources-1","line":62,"column":0,"depth":3}},"children":["40ubf88tephzbdjte8cdsa0","zFMjbn3xihVNHjUIdZCD1","IK6NOKemuDjhfstJBovKL","ZaTr28eWk1DrXOEsc1YVb","Vi0WYVLZunVM9iR8XZJn3","ngAbg7gluvbt1bY1UIRsi","RCPPXSakm5TvKka8kOmVp","LIcuGYV0DDt1VWbvH6Sed","MPx8ykTP57I40WTZvTP7f","ZU5WmdTG1bHoE8RcmZXZG","jqWiyYJff92RjXuUQt9PQ","KihijM8OQvZ4pASkkhqzL","F9vyqvls3OBCujtukqKhy","k6jxm2b3edgkhbordpuz6v1","facc2b01-755a-409f-99f6-57bef2d1501f","bZumdyapJ2H0wWWOmJ45i","elqpgoe2r951si4xrhujppj","m5ov42Vm6mR7RQWTvl1NW","cw8cerc0cos8lh871oz8rtf","PZxxZ4iESzSlbbHJKxuAZ","UDu62Pa6BaRqlG8uGoMhy","u3zcndycwqessho5h6x0nz9","ZgCUp366YrF2Tyky2NT73","DVpVUmavSoVDA7UIlPzLX","nMCtMXVvjBsJk3iw1zoIO","ANfx9Z4a6ZA0uJuSHtbIJ","BkG557LKUYbH1DnxprEVT","1TaH8zDTM98FZ9SYaeXLM","02v7ymc144e5c4pv3edkud7","dc79799f-a55d-48ab-a8be-c48adb1b19c0","f6feef57-b8f5-451f-a09a-7b63f6a07183","4sz47Y0LKs1Si73rWtyyh","g7ulqi8no93ezeocbesc3ll","5a9fb1df-478e-4687-9be0-5cb97e61ec57","1374e9e9-1cbc-4e1f-b1ca-66b8569533dd","D8Z3rjXkSj2EOymXQXF4Z","np3c1ykvnjqv5xoombpfwqz","f529cc34-aba0-45ca-ad7e-02ddda318941","0zcauha3il2NqtxZazIo7","9bbd6f68-03b2-41f4-92e4-2ca313e8b450","5a2ab598-fa7e-4471-8bda-9f5831b679ae","uV6w4mZPoohWyZV4Xaad0","QHXEIyeZGIGMVi5Q52UWI","RgE0mZLaUjPftFPZsiAoe","mytCOts26Pidush65tdRW","fwUzxfLSPMH1eL8oBoLWx","wazdsda6h25x66edvfmeuiv","TbW7PM9bg1y5TGkiWwQ8b","xiSIDeEtIc8X0lpUQlppI","0jxgntiLNHWFuCbzqtFGF","GkdMprLUe4QQULBxmGN6V","4SYc6v5hxY5g6Ip6kjpwO","czi7ilt2i1uoqm1f2otbntj","fqVQpS9FBiXgKsZX3R3sJ","L5JUZlGAGvTxrsEBB7DY8","ttyri4pwfyn5lcx0vp9804o","TeTedoeS2LdHPR632eCpM","ulicRRwo3lSFzh3tMfWH9","p7d24vyb8m00ombzn34t50c","e65188a1-177e-4ab2-99f9-75f85d537621","fajYnbVhCRDi74xn0H30R","bArGdGwqo3iFkyKMyE7qR","4Dcp7gbEVoLLgfu7bXFai","5d700782-fb81-416e-83f9-5dd88260e350","zubgzhNFE6KlTgXcjTz6O","8lpdfWa0cbSq1XJQbcYcY","2psluywdc416t7vrql0m058","17I8ZksXvqCH1mRtZDjHp","kF916Ow84qpJJeMRkWMIo","tMLkLcrIHHBz56xVmBLkP","CSePBQ6q7qhowKESqVwt7","laZ4OfLhZNK1Kuy6GaWUr","z5IJblOknQhMzZ5QZh4ye","N36FHxfxzwJfxDY3miWyX","3bb25f58-2b50-4fa3-af55-48ea9f88a081","7x07qjgbitozdfszqzuy7ix","u93Rz4fEWGu6VBR30Zraf","9hjMHnKvYT4jLKvuDSXaV","qC5GxCZBmNb4Ip6c0kU8x","LgW7mTIALODoXc54B3p6S","UYPxfHBFWX7fb6hHU5bB6","74lYtC8NKpCzcyFOZTfR1","sEoBNAEuaTxwSmTXDonZt","dj0jr9mpvs62e2pkg3zc3yy","z8ie0xjogb6ht7gzowav5xr","qxSOd6SPN8qf9ZUojVFDX","WQoMTf6VXBaxCgksXAVsj","2Mw4XgfyCHXHNOX5yoCIY","qcdt2f7jo51muquo5r95dpo","0XJqmcdtcMZu66glBI5O8","lK8r8BXS4ThiUTe4xKIZe","93de42ca-53ea-460a-baa7-b9ec5c47cb1e","Rxs2jaGpdFzqYtP7lAJFJ","aO8W81Z0PyIb6Hs7nOHPW","lhzisalkebu4w5n01np07i0","7b5l4b6fi65n7sv9org5q1l","I01hENHnh8Tqu3Ok8sLzG","03o3n0hz9v9jtb7j889zpd4","evqsPNutOaZ8hcBCqxFQu","zhhxcjZUHdU8uRLwGb9Zh","G1aFACZB2ooWGMGwyd3ZW","YWy1C4tgoaCcw1m8JJsr7","Szj3o5iaNxPpesiCqwrbu","613syb18hb3v0u1ydvor7ru","XhvCDW3fIw6h6MhY5ticq","Q70g7SusFZBQXzkuQifv4","AzfWDH3wp7jFpL2EYxBcW","y0fwpZ9qMqirsLiFyOciU","ZF8xj8wwDUqKlrwTrCFZ1","tAJvhqhdfyZZa87QHq1TU","4hRmipi8lxpBLyzWu5JVB","iTg0C7QjvnmqBZeEigJNs","3babc3d2-79ae-470a-9c06-ab8bba2e684e","bF3UsMFya3fMeXWDspVov","ULkfbL9WpktbVYnzhl6Jw","PpNOO8JYWe6dM8wruSa7x","di40pCxDn7IiqE8lFdD46","rmW0mkerqV35I8QPji6lM","3IFIK1ByzeIxZCByryGLN","iImkYAKfkw3beAl6pLbDn","ecDe8DNWrkeQTwpTEvHje","i2it5id8qwtg27n4usg8bo1","Yqhdd9mSJGN7OJOeyoSD2","Ws5tah8tpeyn9tK8VBTg8","gWAg15uBJgkS2B0wcpMAa","l7V3v2ep1YdDCt7DOr7Ci","yM2PJBdqJnHpD63cPA6sW","qn0bre7eLbi3QMbCfWkUi","fSu0KxFL41IRouotqmbHs","0gtg24Mj1a1bQFPRGQNlO","7iQPBMltLPLbFEz2qbjPu","yoh4pwoXcfELInGKRdYf6","dCGCWXgAmiOZXbdULT1m6","jMavlje07sNa6hSEIE8WA","Xxm0JE4dKHxrQAaZfzvxD","nRb6Im4Kcmc2ZWE7K1jZ1","PAEBZCyFBZJyR7OoMZ41E","PQ6km8RgRCuyICBPOYz8f","x5tm1nfjzyawwzedy3yitgd","2bhftt8rGuxYu4pFgNqru","hjYIZpHQWuXfeEoGeJEKW","K2M9bQqVq2eQfm29eslKL","X8obW1iKwYsvNgKWGyCzy","yJwSC7hqYIezTFHf5i0Ev","c4Z7ETcOHUILRMH32Sfjw","qiR6dIu857b9M9kTqjOyK","fc2coz74cnfy5czzofx4h5x","Ku1OgHMhELajzo61Gx7ye","LUrfhDWo8wuwZu7CN9TV8","osu6JGOnvXJ5gt3tpqWZY","1a6173cd-cf13-4b34-a522-8350bf9a364f","S2sBltrPfd8a7ICuD7CuH","GLQ2pmkJUNUa93THBDVsD","md6xitz4exia2joa06i490b","oWCuBXOg6JWfZzjmKxmNl","jOmhZ8ovLYTPbpM1vqSDx","p9bov84s0isgkl1ysaw93kk","FraC6xzLy1ei91l1ICyc9","6ceBas2RE9Q4787GDngH7","734cd78d-0bc9-426b-803d-1efc84dfffe5","k4Bb09px6r0FxIRs49SXV","oaG3H1S9IUBO644nGZigu","Ka7agQJkUMRSWN0uFdkWK","si3z090WsiLasMhJBa1Az","hs6rwzt4mogiicoc4gcykbi","ljKAVERmdEiKLK9hXGKBm","zxt3lhonfdhglvijd17ua8c","dd7dopve1dudqkoibkqvti4","923tgifqf59ovv5yldtyi0a","vrjwp01goqw47fqctm4f4lo","c99gdmmppju3r1tth8cb2jx","z2pvn5qxdz84zgygqzxage8"],"parent":null,"data":{},"body":"This Dendron vault of tech knowledge is organized according to domains and their sub-domains, along with specific implementation of those domains.\n\nFor instance, Git itself is a domain. Sub-domains of Git would include things like `commit`,\n`tags`, `reflog` etc. implementations of each of those could be `cli`, `strat`\n(strategies), `inner`, and so on.\n\nThe goal of the wiki is to present data in a manner that is from the perspective\nof a querying user. Here, a user is a programmer wanting to get key information\nfrom a specific domain. For instance, if a user wants to use postgres functions\nand hasn't done them in a while, they should be able to query\n`postgres.functions` to see what information is available to them.\n\nThis wiki has been written with myself in mind. While learning each of these\ndomains, I have been sensitive to the \"aha\" moments and have noted down my\ninsights as they arose. I have refrained from capturing information that I\nconsidered obvious or otherwise non-beneficial to my own understanding.\n\nAs a result, I have allowed myself to use potentially arcane concepts to explain other ones. For example, in my note on [[unit testing|testing.method.unit]], I have made reference to the [[microservices|general.arch.microservice]] note. If these notes were made with the public in mind, this would be a very bad strategy, given that you'd have to understand microservices to be able to draw that same parallel that I've already drawn. Since these notes are written for myself, I have been fine with taking these liberties.\n\nWhat I hope to gain from this wiki is the ability to step away from any\ngiven domain for a long period of time, and be able to be passably useful for\nwhatever my goals are within a short period of time. Of course this is all\nvague sounding, and really depends on the domain along with the ends I am\ntrying to reach.\n\nTo achieve this, the system should be steadfast to:\n- be able to put information in relatively easily, without too much thought\n\trequired to its location. While location is important, Dendron makes it easy\n\tto relocate notes, if it becomes apparent that a different place makes more\n\tsense.\n- be able to extract the information that is needed, meaning there is a\n\thigh-degree in confidence in the location of the information. The idea is\n\tthat information loses a large amount of its value when it is unfindable.\n\tTherefore, a relatively strict ideology should be used when determining\n\twhere a piece of information belongs.\n\t- Some concepts might realistically belong to multiple domains. For instance, the concept of *access modifiers* can be found in both `C#` and `Typescript`. Therefore, this note should be abstracted to a common place, such as [[OOP|paradigm.oop]].\n\nThis Dendron vault is the sister component to the [General Second Brain](https://tech.kyletycholiz.com).\n\n### Tags\nThroughout the garden, I have made use of tags, which give semantic meaning to the pieces of information.\n\n- `ex.` - Denotes an *example* of the preceding piece of information\n- `spec:` - Specifies that the preceding information has some degree of *speculation* to it, and may not be 100% factual. Ideally this gets clarified over time as my understanding develops.\n- `anal:` - Denotes an *analogy* of the preceding information. Often I will attempt to link concepts to others that I have previously learned.\n- `mn:` - Denotes a *mnemonic*\n- `expl:` - Denotes an *explanation*\n\n## Resources\n### UE (Unexamined) Resources\nOften, I come across sources of information that I believe to be high-quality. They may be recommendations or found in some other way. No matter their origin, I may be in a position where I don't have the time to fully examine them (and properly extract notes), or I may not require the information at that moment in time. In cases like these, I will add reference to a section of the note called **UE Resources**. The idea is that in the future when I am ready to examine them, I have a list of resources that I can start with. This is an alternative strategy to compiling browser bookmarks, which I've found can quickly become untenable.\n\n### E (Examined) Resources\nOnce a resource has been thoroughly examined and has been mined for notes, it will be moved from *UE Resources* to *E Resources*. This is to indicate that (in my own estimation), there is nothing more to be gained from the resource that is not already in the note.\n\n### Resources\nThis heading is for inexhaustible resources. \n- A prime example would be a quality website that continually posts articles.  - Another example would be a tool, such as software that measures frequencies in a room to help acoustically treat it.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"dendronVersion":"0.83.0","vaults":[{"fsPath":"../main/tech","name":"tech"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"enableUserTags":true,"enableHashTags":true,"enableEditorDecorations":true,"enableFullHierarchyNoteTitle":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Dendron","description":"The Tech Digital Garden of Kyle Tycholiz"},"github":{"cname":"tech.kyletycholiz.com","enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"master","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","enableMermaid":true,"siteUrl":"https://tech.kyletycholiz.com","duplicateNoteBehavior":{"action":"useVault","payload":["tech"]},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"WQoMTf6VXBaxCgksXAVsj"},"buildId":"fo6gubzKP_KV9RZPhaoiQ","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>