<!DOCTYPE html>

<html lang="en-US">
<head>
  <meta charset="UTF-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
  
  <title>useCallback - Dendron</title>
  

  <link
    rel="shortcut icon"
    href="https://tycholiz.github.io/favicon.ico"
    type="image/x-icon"
  />
  <link
    rel="stylesheet"
    href="https://tycholiz.github.io/assets/css/just-the-docs-default.css"
  />
  <script
    type="text/javascript"
    src="https://tycholiz.github.io/assets/js/just-the-docs.js"
  ></script>
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.22.0/themes/prism.min.css"
  />
  <link
    rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css"
    integrity="sha384-AfEj0r4/OFrOo5t7NnNe46zW/tFgW6x/bCJG8FqQCEo3+Aro6EYUG4+cU+KJWu/X"
    crossorigin="anonymous"
  />
  <script
    type="text/javascript"
    src="https://tycholiz.github.io/assets/js/vendor/lunr.min.js"
  ></script>
  
  <meta name="viewport" content="width=device-width, initial-scale=1" />
   
  
<meta name="description" content="Personal knowledge space">
<meta name="author" content="">

<link rel="canonical" href="https://foo/notes/f4849eb5-f56b-409b-bbe4-344f4521ce4a.html">

<meta property="og:type" content="article">
<meta property="og:url" content="https://foo/notes/f4849eb5-f56b-409b-bbe4-344f4521ce4a.html">
<meta property="og:description" content="Personal knowledge space">
<meta property="og:image" content="https://fooundefined">

<meta name="twitter:card" content="summary">

<meta name="twitter:url" content="https://foo/notes/f4849eb5-f56b-409b-bbe4-344f4521ce4a.html">
<meta name="twitter:description" content="Personal knowledge space">
<meta name="twitter:image" content="https://fooundefined">


  <meta property="og:title" content="useCallback - Dendron" />
  <meta name="twitter:title" content="useCallback - Dendron" />
  
</head>


<body>
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
      <symbol id="svg-link" viewBox="0 0 24 24">
        <title>Link</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link">
          <path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path>
        </svg>
      </symbol>
      <symbol id="svg-search" viewBox="0 0 24 24">
        <title>Search</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search">
          <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line>
        </svg>
      </symbol>
      <symbol id="svg-menu" viewBox="0 0 24 24">
        <title>Menu</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu">
          <line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </symbol>
      <symbol id="svg-arrow-right" viewBox="0 0 24 24">
        <title>Expand</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right">
          <polyline points="9 18 15 12 9 6"></polyline>
        </svg>
      </symbol>
      <symbol id="svg-doc" viewBox="0 0 24 24">
        <title>Document</title>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file">
          <path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline>
        </svg>
      </symbol>
    </svg>

    <div class="side-bar">
      <div class="site-header">
        <a href="https://tycholiz.github.io" class="site-title lh-tight">
  Dendron

 </a>
        <a href="#" id="menu-button" class="site-button">
          <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg>
        </a>
      </div>

      <nav role="navigation" aria-label="Main" id="site-nav" class="site-nav">
      </nav>
      <footer class="site-footer">
        ðŸŒ± with ðŸ’• using <a href="https://www.dendron.so/"> Dendron ðŸŒ² </a>
      </footer>
    </div>
    <div class="main" id="top">
        <div id="main-header" class="main-header">
          
            <div class="search">
              <div class="search-input-wrap">
                <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Dendron" aria-label="Search Dendron" autocomplete="off">
                <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label>
              </div>
              <div id="search-results" class="search-results"></div>
            </div>
          
          
    </div>
    <div id="main-content-wrap" class="main-content-wrap">
      
        
          <nav aria-label="Breadcrumb" class="breadcrumb-nav">
            <ol class="breadcrumb-nav-list"><li class="breadcrumb-nav-list-item"><a href="https://tycholiz.github.io">Root</a></li><li class="breadcrumb-nav-list-item"><a href="https://tycholiz.github.io/notes/b6226bd4-551d-4670-a956-158bdce3f5a6.html">React</a></li><li class="breadcrumb-nav-list-item"><a href="https://tycholiz.github.io/notes/734beb81-47b0-41b5-a964-fe05af534458.html">Lang</a></li><li class="breadcrumb-nav-list-item"><a href="https://tycholiz.github.io/notes/59dedd99-adb7-430f-a849-b303425e3209.html">Hooks</a></li><li class="breadcrumb-nav-list-item">useCallback</li></ol>
          </nav>
        
      
      <div id="main-content" class="main-content" role="main">

        
        

        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
        <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.0/dist/umd/popper.min.js" integrity="sha384-Q6E9RHvbIyZFJoft+2mJbHaEWldlvI9IOYy5n3zV9zzTtmI3UksdQRVvoxMfooAo" crossorigin="anonymous"></script>
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js" integrity="sha384-OgVRvuATP1z7JjHLkuOU7Xw704+h835Lr+6QL9UvYjZE3Ipu6Tp75j7Bh/kR0JKI" crossorigin="anonymous"></script>

        

        <script>
          $(function () {
            $('[data-toggle="popover"]').popover({html: true})
          })
        </script>

        

<div id="main" role="main">

  <article class="page" itemscope itemtype="https://schema.org/CreativeWork">
    <meta itemprop="headline" content="useCallback">
    
    <meta itemprop="datePublished" content="2021-03-06T14:40:58+00:00">
    <meta itemprop="dateModified" content="2021-04-14T10:15:39+00:00">

    <div class="page__inner-wrap">

      

      <section class="page__content" itemprop="text">

        

        <h1 id="usecallback"><a aria-hidden="true" class="anchor-heading" href="#usecallback"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>useCallback</h1>
<h1 id="usecallback--usememo"><a aria-hidden="true" class="anchor-heading" href="#usecallback--usememo"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>useCallback &#x26; useMemo</h1>
<p>The purpose of useCallback and useMemo is to prevent unnecessary re-renders and make your code more efficient.</p>
<ul>
<li>In the days of class components, we had a <code>render()</code> function. Anything placed inside would get re-calculated on every render, but we could also give the class methods (putting functions outside of <code>render()</code>). These methods would not get recalculated on each render, and would lead to performance gains. Since functional components naturally render everything (<code>render()</code> method is implicit), they inherently have a performance issue. <code>useCallback</code> and <code>useMemo</code> exist to alleviate this problem.</li>
<li><em>useCallback</em> - Allows you to cache an instance of a function between renders.</li>
<li><em>useMemo</em> - Allows you to cache a value between renders.
<ul>
<li>the cache is local to the component position w/in the tree</li>
</ul>
</li>
<li>You should consider using useCallback and/or useMemo hooks on the following situations:
1) Processing large amounts of data
2) Working with interactive graphs and charts
3) Implementing animations
4) Incorporating component lazy loading (useMemo specifically)</li>
</ul>
<h2 id="usecallback-1"><a aria-hidden="true" class="anchor-heading" href="#usecallback-1"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>useCallback</h2>
<ul>
<li>useCallback returns a memoized callback.</li>
<li><code>useCallback</code> accepts a function, and returns the same instance of the function being passed instead of creating a new one when a component re-renders, which is the default behavior.</li>
<li>with this hook, a new function is only created when the variables passed to the dependency array change (kind of like <code>useEffect</code>). Otherwise, we use the same instance of that function between re-renders of the component (ie. different instances of the same component).</li>
<li>Recall that in React, components will only re-render (and will ALWAYS re-render) when there are changes to either its state or changes to the props it receives. This means that not only will the JSX re-render, but the functions defined in the component will be called each time. But what if we want to prevent those functions from being called each time, and only call them when some values change?</li>
</ul>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> additionResult <span class="token operator">=</span> <span class="token function">useCallback</span><span class="token punctuation">(</span><span class="token function">add</span><span class="token punctuation">(</span>firstVal<span class="token punctuation">,</span> secondVal<span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">[</span>firstVal<span class="token punctuation">,</span> secondVal<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre>
<ul>
<li>
<p>In this example, the <code>additionResult</code> doesn't necessarily get called each time the component re-renders. In fact, it only gets called if either <code>firstVal</code> or <code>secondVal</code> have changed between those 2 renders.</p>
</li>
<li>
<p><a href="https://kentcdodds.com/blog/usememo-and-usecallback">when to use</a></p>
</li>
</ul>
<h2 id="usememo"><a aria-hidden="true" class="anchor-heading" href="#usememo"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>useMemo</h2>
<ul>
<li>similar to <code>useCallback</code>, but instead of returning a function, it calls the function and gives us the return value of the function (again, only when one of the dependencies change)
<ul>
<li>In other words, useMemo calls the passed function only when necessary and it returns a cached value on all the other renders.</li>
</ul>
</li>
<li><code>useMemo</code> "caches" the value, while <code>useCallback</code> "caches" the function</li>
</ul>
<h3 id="example"><a aria-hidden="true" class="anchor-heading" href="#example"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Example</h3>
<p>Imagine we had a function that we passed down to a child component.</p>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> <span class="token function-variable function">getItems</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token arrow operator">=></span> <span class="token punctuation">{</span>
	<span class="token keyword control-flow">return</span> <span class="token punctuation">[</span>number<span class="token punctuation">,</span> number <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> number <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre>
<p><a href="https://gist.github.com/fayezosaadi/8d54fe30d8bf855c23e6d7c13a31e346">Fayez example</a></p><span id="navId" data="f4849eb5-f56b-409b-bbe4-344f4521ce4a"></span>

                
      </section>

      
    </div>

    
  </article>

  
  
</div>


        
          <hr>
          <footer>
            
            

            
                
              </div>
          </footer>
        
    </div>
</div>


  

  <div class="search-overlay"></div>

</div>
</body>
</html>
