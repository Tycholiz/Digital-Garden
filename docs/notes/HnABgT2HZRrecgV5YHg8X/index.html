<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><title>CLI</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Publishable tech notes"/><meta property="og:title" content="CLI"/><meta property="og:description" content="Publishable tech notes"/><meta property="og:url" content="https://tycholiz.github.io/Digital-Garden/notes/HnABgT2HZRrecgV5YHg8X/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="5/28/2021"/><meta property="article:modified_time" content="6/16/2021"/><link rel="canonical" href="https://tycholiz.github.io/Digital-Garden/notes/HnABgT2HZRrecgV5YHg8X/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/Digital-Garden/_next/static/css/804c5fc85a5d7e04.css" as="style"/><link rel="stylesheet" href="/Digital-Garden/_next/static/css/804c5fc85a5d7e04.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/Digital-Garden/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/Digital-Garden/_next/static/chunks/webpack-d53c65e15128d807.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/framework-dc33c0b5493501f0.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/main-9409ea3202b3ee44.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/pages/_app-585c2573c1834e35.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/155-0a8d44b6408c244d.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/pages/notes/%5Bid%5D-30a63e62504f2dc5.js" defer=""></script><script src="/Digital-Garden/_next/static/s-Pdpb0Y8fVIEUakhzEMN/_buildManifest.js" defer=""></script><script src="/Digital-Garden/_next/static/s-Pdpb0Y8fVIEUakhzEMN/_ssgManifest.js" defer=""></script><script src="/Digital-Garden/_next/static/s-Pdpb0Y8fVIEUakhzEMN/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div class="ant-col ant-col-xs-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"></div><div class="ant-col ant-col-xs-12"></div><div style="margin-left:4px;display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout site-layout" style="margin-top:64px"><section class="ant-layout site-layout" style="flex-direction:row"><section class="ant-layout site-layout-sidebar" style="flex:0 0 auto;width:calc((100% - 992px) / 2 + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></section><section class="ant-layout side-layout-main" style="max-width:1200px;display:initial"><main class="ant-layout-content main-content" role="main" style="padding:0 24px"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="cli"><a aria-hidden="true" class="anchor-heading" href="#cli"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>CLI</h1>
<p>All of these commands send requests to the Kubernetes API</p>
<h5 id="apply"><a aria-hidden="true" class="anchor-heading" href="#apply"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Apply</h5>
<p><code>kubectl apply -f rs/rs.yml</code></p>
<ul>
<li>apply a configuration to a resource.</li>
<li>we can create resources with this command, by <code>apply</code>ing to a resource that doesn't exist.
<ul>
<li>we can also <code>create</code> with <code>--save-config</code></li>
</ul>
</li>
</ul>
<h5 id="config"><a aria-hidden="true" class="anchor-heading" href="#config"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Config</h5>
<p><code>kubectl config current-context</code></p>
<ul>
<li>see where kubectl is pointing</li>
</ul>
<h5 id="create"><a aria-hidden="true" class="anchor-heading" href="#create"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Create</h5>
<p><code>kubectl create -f pod/db.yml</code></p>
<ul>
<li>create a pod based on the db.yml file</li>
<li>note: we didn't need to specify that we were creating a pod, since the resource type is already defined in the yml file (<code>kind</code> field).</li>
<li><code>--record</code> allows us to track each change to our resources such as a Deployments.</li>
</ul>
<h5 id="delete"><a aria-hidden="true" class="anchor-heading" href="#delete"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Delete</h5>
<p><code>kubectl delete pod &#x3C;podname></code></p>
<ul>
<li>delete a pod</li>
</ul>
<h5 id="describe"><a aria-hidden="true" class="anchor-heading" href="#describe"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Describe</h5>
<ul>
<li>give information on a resource (aka Kubernetes object)
<code>kubectl describe pod &#x3C;podname></code>
<code>kubectl describe -f db.yml</code></li>
</ul>
<h5 id="exec"><a aria-hidden="true" class="anchor-heading" href="#exec"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Exec</h5>
<ul>
<li>execute a new process inside the first container within a pod
<ul>
<li>almost the same as <code>docker container exec</code>, except kubectl allows us to execute a process in a container running in any node within the cluster (<code>docker container exec</code> is limited to container running on a specific node)</li>
</ul>
</li>
<li>pass <code>-c &#x3C;containername></code> to specify which container to run the process in.</li>
</ul>
<h6 id="list-processes-in-pod"><a aria-hidden="true" class="anchor-heading" href="#list-processes-in-pod"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>List processes in pod</h6>
<p><code>kubectl exec db -- ps aux</code></p>
<h6 id="open-bash-shell-in-pod"><a aria-hidden="true" class="anchor-heading" href="#open-bash-shell-in-pod"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Open bash shell in pod</h6>
<p><code>kubectl exec -it db bash</code></p>
<h6 id="list-env-variables-in-a-pod"><a aria-hidden="true" class="anchor-heading" href="#list-env-variables-in-a-pod"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>List env variables in a pod</h6>
<p><code>kubectl exec &#x3C;POD_NAME> env</code></p>
<ul>
<li>list environment variables available in a Pod</li>
</ul>
<h5 id="expose"><a aria-hidden="true" class="anchor-heading" href="#expose"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Expose</h5>
<ul>
<li>expose a resource as a new Kubernetes service
<pre><code>- the resource can be a Deployment, another Service, a ReplicaSet, a ReplicationController, or a Pod
</code></pre>
ex</li>
</ul>
<pre class="language-sh"><code class="language-sh">kubectl expose rs go-demo-2 \
	--name=go-demo-2-svc \
	# this port will be exposed on every node of the cluster to the outside world,
	# and it will be routed to one of the Pods controlled by the ReplicaSet
	--target-port=28017 \
	--type=NodePort # what type of service?
</code></pre>
<h5 id="get"><a aria-hidden="true" class="anchor-heading" href="#get"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Get</h5>
<p><code>kubectl get all --all-namespaces</code></p>
<ul>
<li>get all components that make up the cluster</li>
</ul>
<p><code>kubectl get nodes</code></p>
<ul>
<li>get all nodes of a cluster</li>
</ul>
<p><code>kubectl get pods</code></p>
<ul>
<li>get all pods of a cluster</li>
<li>pass <code>-o wide</code> or <code>-o yaml</code> for more info</li>
<li><code>--show-labels</code> to see the labels on each pod</li>
</ul>
<p><code>kubectl get rs</code></p>
<ul>
<li>get all ReplicaSets</li>
</ul>
<p><code>kubectl get ep</code></p>
<ul>
<li>get endpoints of a cluster</li>
</ul>
<p><code>kubectl get -f pod/go-demo-2.yml -o jsonpath="{.spec.containers[*].name}"</code></p>
<ul>
<li>format output as only including the <code>name</code> property, within <code>spec.containers</code></li>
</ul>
<h5 id="logs"><a aria-hidden="true" class="anchor-heading" href="#logs"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Logs</h5>
<ul>
<li>get logs from a pod
<code>kubectl logs &#x3C;podname></code></li>
</ul>
<p><code>-f</code> to follow the logs in real-time</p>
<h5 id="label"><a aria-hidden="true" class="anchor-heading" href="#label"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Label</h5>
<ul>
<li>We can remove a label from a pod:
<ul>
<li><code>kubectl label pod/pod.yml service-</code> will remove the service label (the <code>-</code> at the end is the syntax for removing labels)</li>
</ul>
</li>
</ul>
<h5 id="rollout"><a aria-hidden="true" class="anchor-heading" href="#rollout"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Rollout</h5>
<ul>
<li>allows us to manage the rollout of a resource
<code>kubectl rollout status -w -f deploy/go-demo-2-api.yml</code></li>
</ul>
<p><code>kubectl rollout history -f deploy/go-demo-2-api.yml</code></p>
<ul>
<li>This lets us see how many revisions of the software there have been, and which command created each revision.
<code>kubectl rollout undo -f deploy/go-demo-2-api.yml</code>
<code>kubectl rollout undo -f deploy/go-demo-2-api.yml --to-revision=2</code></li>
</ul>
<h5 id="set"><a aria-hidden="true" class="anchor-heading" href="#set"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Set</h5>
<ul>
<li>set configuration properties for resources
<ul>
<li>ex. update docker image of a pod template, update env variables of a pod template etc.</li>
</ul>
</li>
<li>note: the output of this command only indicates that the definition (ex. of the image used in the Deployment) was successfully updated. This means that if we used an image that doesn't exist, we would still get a "success" output from this command.</li>
</ul>
<hr>
<h2 id="backlinks"><a aria-hidden="true" class="anchor-heading" href="#backlinks"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Backlinks</h2>
<ul>
<li><a href="/Digital-Garden/notes/ryBzcGWSKyybRXnyKxteV">Service</a></li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#apply" title="Apply">Apply</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#config" title="Config">Config</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#create" title="Create">Create</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#delete" title="Delete">Delete</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#describe" title="Describe">Describe</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#exec" title="Exec">Exec</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#list-processes-in-pod" title="List processes in pod">List processes in pod</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#open-bash-shell-in-pod" title="Open bash shell in pod">Open bash shell in pod</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#list-env-variables-in-a-pod" title="List env variables in a pod">List env variables in a pod</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#expose" title="Expose">Expose</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#get" title="Get">Get</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#logs" title="Logs">Logs</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#label" title="Label">Label</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#rollout" title="Rollout">Rollout</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#set" title="Set">Set</a></div></div></div></div></div></div></div></div></div></main><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></section></section></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"HnABgT2HZRrecgV5YHg8X","title":"CLI","desc":"","updated":1623886825562,"created":1622222277996,"custom":{},"fname":"k8s.kubectl.cli","type":"note","vault":{"fsPath":"../main/tech","name":"tech"},"contentHash":"c60b2b73b04fcef78955366a2fd164ca","links":[{"from":{"fname":"k8s.objects.service","vaultName":"tech"},"type":"backlink","position":{"start":{"line":42,"column":1,"offset":2608},"end":{"line":42,"column":69,"offset":2676},"indent":[]},"value":"k8s.kubectl.cli"}],"anchors":{"apply":{"type":"header","text":"Apply","value":"apply","line":10,"column":0,"depth":5},"config":{"type":"header","text":"Config","value":"config","line":16,"column":0,"depth":5},"create":{"type":"header","text":"Create","value":"create","line":20,"column":0,"depth":5},"delete":{"type":"header","text":"Delete","value":"delete","line":26,"column":0,"depth":5},"describe":{"type":"header","text":"Describe","value":"describe","line":30,"column":0,"depth":5},"exec":{"type":"header","text":"Exec","value":"exec","line":35,"column":0,"depth":5},"list-processes-in-pod":{"type":"header","text":"List processes in pod","value":"list-processes-in-pod","line":40,"column":0,"depth":6},"open-bash-shell-in-pod":{"type":"header","text":"Open bash shell in pod","value":"open-bash-shell-in-pod","line":43,"column":0,"depth":6},"list-env-variables-in-a-pod":{"type":"header","text":"List env variables in a pod","value":"list-env-variables-in-a-pod","line":46,"column":0,"depth":6},"expose":{"type":"header","text":"Expose","value":"expose","line":50,"column":0,"depth":5},"get":{"type":"header","text":"Get","value":"get","line":63,"column":0,"depth":5},"logs":{"type":"header","text":"Logs","value":"logs","line":84,"column":0,"depth":5},"label":{"type":"header","text":"Label","value":"label","line":90,"column":0,"depth":5},"rollout":{"type":"header","text":"Rollout","value":"rollout","line":94,"column":0,"depth":5},"set":{"type":"header","text":"Set","value":"set","line":103,"column":0,"depth":5}},"children":[],"parent":"nhxmrkFjzHtZZmOBkWfhh","data":{}},"body":"\u003ch1 id=\"cli\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#cli\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eCLI\u003c/h1\u003e\n\u003cp\u003eAll of these commands send requests to the Kubernetes API\u003c/p\u003e\n\u003ch5 id=\"apply\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#apply\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eApply\u003c/h5\u003e\n\u003cp\u003e\u003ccode\u003ekubectl apply -f rs/rs.yml\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eapply a configuration to a resource.\u003c/li\u003e\n\u003cli\u003ewe can create resources with this command, by \u003ccode\u003eapply\u003c/code\u003eing to a resource that doesn't exist.\n\u003cul\u003e\n\u003cli\u003ewe can also \u003ccode\u003ecreate\u003c/code\u003e with \u003ccode\u003e--save-config\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch5 id=\"config\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#config\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eConfig\u003c/h5\u003e\n\u003cp\u003e\u003ccode\u003ekubectl config current-context\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003esee where kubectl is pointing\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch5 id=\"create\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#create\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eCreate\u003c/h5\u003e\n\u003cp\u003e\u003ccode\u003ekubectl create -f pod/db.yml\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ecreate a pod based on the db.yml file\u003c/li\u003e\n\u003cli\u003enote: we didn't need to specify that we were creating a pod, since the resource type is already defined in the yml file (\u003ccode\u003ekind\u003c/code\u003e field).\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e--record\u003c/code\u003e allows us to track each change to our resources such as a Deployments.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch5 id=\"delete\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#delete\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eDelete\u003c/h5\u003e\n\u003cp\u003e\u003ccode\u003ekubectl delete pod \u0026#x3C;podname\u003e\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003edelete a pod\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch5 id=\"describe\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#describe\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eDescribe\u003c/h5\u003e\n\u003cul\u003e\n\u003cli\u003egive information on a resource (aka Kubernetes object)\n\u003ccode\u003ekubectl describe pod \u0026#x3C;podname\u003e\u003c/code\u003e\n\u003ccode\u003ekubectl describe -f db.yml\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch5 id=\"exec\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#exec\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eExec\u003c/h5\u003e\n\u003cul\u003e\n\u003cli\u003eexecute a new process inside the first container within a pod\n\u003cul\u003e\n\u003cli\u003ealmost the same as \u003ccode\u003edocker container exec\u003c/code\u003e, except kubectl allows us to execute a process in a container running in any node within the cluster (\u003ccode\u003edocker container exec\u003c/code\u003e is limited to container running on a specific node)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003epass \u003ccode\u003e-c \u0026#x3C;containername\u003e\u003c/code\u003e to specify which container to run the process in.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch6 id=\"list-processes-in-pod\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#list-processes-in-pod\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eList processes in pod\u003c/h6\u003e\n\u003cp\u003e\u003ccode\u003ekubectl exec db -- ps aux\u003c/code\u003e\u003c/p\u003e\n\u003ch6 id=\"open-bash-shell-in-pod\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#open-bash-shell-in-pod\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eOpen bash shell in pod\u003c/h6\u003e\n\u003cp\u003e\u003ccode\u003ekubectl exec -it db bash\u003c/code\u003e\u003c/p\u003e\n\u003ch6 id=\"list-env-variables-in-a-pod\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#list-env-variables-in-a-pod\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eList env variables in a pod\u003c/h6\u003e\n\u003cp\u003e\u003ccode\u003ekubectl exec \u0026#x3C;POD_NAME\u003e env\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003elist environment variables available in a Pod\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch5 id=\"expose\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#expose\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eExpose\u003c/h5\u003e\n\u003cul\u003e\n\u003cli\u003eexpose a resource as a new Kubernetes service\n\u003cpre\u003e\u003ccode\u003e- the resource can be a Deployment, another Service, a ReplicaSet, a ReplicationController, or a Pod\n\u003c/code\u003e\u003c/pre\u003e\nex\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre class=\"language-sh\"\u003e\u003ccode class=\"language-sh\"\u003ekubectl expose rs go-demo-2 \\\n\t--name=go-demo-2-svc \\\n\t# this port will be exposed on every node of the cluster to the outside world,\n\t# and it will be routed to one of the Pods controlled by the ReplicaSet\n\t--target-port=28017 \\\n\t--type=NodePort # what type of service?\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch5 id=\"get\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#get\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eGet\u003c/h5\u003e\n\u003cp\u003e\u003ccode\u003ekubectl get all --all-namespaces\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eget all components that make up the cluster\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003ekubectl get nodes\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eget all nodes of a cluster\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003ekubectl get pods\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eget all pods of a cluster\u003c/li\u003e\n\u003cli\u003epass \u003ccode\u003e-o wide\u003c/code\u003e or \u003ccode\u003e-o yaml\u003c/code\u003e for more info\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003e--show-labels\u003c/code\u003e to see the labels on each pod\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003ekubectl get rs\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eget all ReplicaSets\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003ekubectl get ep\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eget endpoints of a cluster\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003ekubectl get -f pod/go-demo-2.yml -o jsonpath=\"{.spec.containers[*].name}\"\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eformat output as only including the \u003ccode\u003ename\u003c/code\u003e property, within \u003ccode\u003espec.containers\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch5 id=\"logs\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#logs\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eLogs\u003c/h5\u003e\n\u003cul\u003e\n\u003cli\u003eget logs from a pod\n\u003ccode\u003ekubectl logs \u0026#x3C;podname\u003e\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003e-f\u003c/code\u003e to follow the logs in real-time\u003c/p\u003e\n\u003ch5 id=\"label\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#label\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eLabel\u003c/h5\u003e\n\u003cul\u003e\n\u003cli\u003eWe can remove a label from a pod:\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003ekubectl label pod/pod.yml service-\u003c/code\u003e will remove the service label (the \u003ccode\u003e-\u003c/code\u003e at the end is the syntax for removing labels)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch5 id=\"rollout\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#rollout\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eRollout\u003c/h5\u003e\n\u003cul\u003e\n\u003cli\u003eallows us to manage the rollout of a resource\n\u003ccode\u003ekubectl rollout status -w -f deploy/go-demo-2-api.yml\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003ekubectl rollout history -f deploy/go-demo-2-api.yml\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThis lets us see how many revisions of the software there have been, and which command created each revision.\n\u003ccode\u003ekubectl rollout undo -f deploy/go-demo-2-api.yml\u003c/code\u003e\n\u003ccode\u003ekubectl rollout undo -f deploy/go-demo-2-api.yml --to-revision=2\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch5 id=\"set\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#set\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eSet\u003c/h5\u003e\n\u003cul\u003e\n\u003cli\u003eset configuration properties for resources\n\u003cul\u003e\n\u003cli\u003eex. update docker image of a pod template, update env variables of a pod template etc.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003enote: the output of this command only indicates that the definition (ex. of the image used in the Deployment) was successfully updated. This means that if we used an image that doesn't exist, we would still get a \"success\" output from this command.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"backlinks\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#backlinks\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eBacklinks\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"/Digital-Garden/notes/ryBzcGWSKyybRXnyKxteV\"\u003eService\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"olZIVfSs2uLLr3BppFh4K","title":"Root","desc":"","updated":1618676699718,"created":1615482407722,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"../main/tech","name":"tech"},"contentHash":"777fb4dab9bcf63cbfe772245d7e4871","links":[],"anchors":{"digital-garden":{"type":"header","text":"Digital Garden","value":"digital-garden","line":8,"column":0,"depth":1}},"children":["zFMjbn3xihVNHjUIdZCD1","IK6NOKemuDjhfstJBovKL","RS8qp1GxwtiJopCUHTTtq","ZaTr28eWk1DrXOEsc1YVb","Vi0WYVLZunVM9iR8XZJn3","ngAbg7gluvbt1bY1UIRsi","RCPPXSakm5TvKka8kOmVp","MPx8ykTP57I40WTZvTP7f","ZU5WmdTG1bHoE8RcmZXZG","jqWiyYJff92RjXuUQt9PQ","KihijM8OQvZ4pASkkhqzL","F9vyqvls3OBCujtukqKhy","facc2b01-755a-409f-99f6-57bef2d1501f","m5ov42Vm6mR7RQWTvl1NW","YYt62mSW964cwb5nP0hva","PZxxZ4iESzSlbbHJKxuAZ","UDu62Pa6BaRqlG8uGoMhy","nMCtMXVvjBsJk3iw1zoIO","ANfx9Z4a6ZA0uJuSHtbIJ","BkG557LKUYbH1DnxprEVT","1TaH8zDTM98FZ9SYaeXLM","dc79799f-a55d-48ab-a8be-c48adb1b19c0","f6feef57-b8f5-451f-a09a-7b63f6a07183","4sz47Y0LKs1Si73rWtyyh","5a9fb1df-478e-4687-9be0-5cb97e61ec57","1374e9e9-1cbc-4e1f-b1ca-66b8569533dd","f529cc34-aba0-45ca-ad7e-02ddda318941","0zcauha3il2NqtxZazIo7","9bbd6f68-03b2-41f4-92e4-2ca313e8b450","5a2ab598-fa7e-4471-8bda-9f5831b679ae","uV6w4mZPoohWyZV4Xaad0","RgE0mZLaUjPftFPZsiAoe","mytCOts26Pidush65tdRW","fwUzxfLSPMH1eL8oBoLWx","TbW7PM9bg1y5TGkiWwQ8b","xiSIDeEtIc8X0lpUQlppI","0jxgntiLNHWFuCbzqtFGF","GkdMprLUe4QQULBxmGN6V","4SYc6v5hxY5g6Ip6kjpwO","fqVQpS9FBiXgKsZX3R3sJ","L5JUZlGAGvTxrsEBB7DY8","963c4b54-02bd-4943-a15f-52cf59ffd0f4","TeTedoeS2LdHPR632eCpM","e65188a1-177e-4ab2-99f9-75f85d537621","fajYnbVhCRDi74xn0H30R","bArGdGwqo3iFkyKMyE7qR","4Dcp7gbEVoLLgfu7bXFai","5d700782-fb81-416e-83f9-5dd88260e350","zubgzhNFE6KlTgXcjTz6O","8lpdfWa0cbSq1XJQbcYcY","17I8ZksXvqCH1mRtZDjHp","kF916Ow84qpJJeMRkWMIo","tMLkLcrIHHBz56xVmBLkP","CSePBQ6q7qhowKESqVwt7","laZ4OfLhZNK1Kuy6GaWUr","z5IJblOknQhMzZ5QZh4ye","N36FHxfxzwJfxDY3miWyX","3bb25f58-2b50-4fa3-af55-48ea9f88a081","aOqNcxZh8qN4MoBJcvGTc","u93Rz4fEWGu6VBR30Zraf","9hjMHnKvYT4jLKvuDSXaV","LgW7mTIALODoXc54B3p6S","UYPxfHBFWX7fb6hHU5bB6","qxSOd6SPN8qf9ZUojVFDX","WQoMTf6VXBaxCgksXAVsj","2Mw4XgfyCHXHNOX5yoCIY","UFrwsXzC1yr7Ge8FF8Vbo","a8edc4ac-028b-40ec-872a-e4a005b04b2a","0XJqmcdtcMZu66glBI5O8","lK8r8BXS4ThiUTe4xKIZe","93de42ca-53ea-460a-baa7-b9ec5c47cb1e","Rxs2jaGpdFzqYtP7lAJFJ","aO8W81Z0PyIb6Hs7nOHPW","I01hENHnh8Tqu3Ok8sLzG","evqsPNutOaZ8hcBCqxFQu","zhhxcjZUHdU8uRLwGb9Zh","G1aFACZB2ooWGMGwyd3ZW","YWy1C4tgoaCcw1m8JJsr7","Szj3o5iaNxPpesiCqwrbu","XhvCDW3fIw6h6MhY5ticq","Q70g7SusFZBQXzkuQifv4","AzfWDH3wp7jFpL2EYxBcW","y0fwpZ9qMqirsLiFyOciU","ZF8xj8wwDUqKlrwTrCFZ1","tAJvhqhdfyZZa87QHq1TU","4hRmipi8lxpBLyzWu5JVB","iTg0C7QjvnmqBZeEigJNs","3babc3d2-79ae-470a-9c06-ab8bba2e684e","bF3UsMFya3fMeXWDspVov","ULkfbL9WpktbVYnzhl6Jw","PpNOO8JYWe6dM8wruSa7x","di40pCxDn7IiqE8lFdD46","rmW0mkerqV35I8QPji6lM","3IFIK1ByzeIxZCByryGLN","iImkYAKfkw3beAl6pLbDn","tho65KN0ZpjQlVvP1fEzM","ecDe8DNWrkeQTwpTEvHje","Yqhdd9mSJGN7OJOeyoSD2","NEhsoOfR7J6o01ielAuUm","Ws5tah8tpeyn9tK8VBTg8","Bqpifx2HX3vjLhX9yvhTV","gWAg15uBJgkS2B0wcpMAa","l7V3v2ep1YdDCt7DOr7Ci","yM2PJBdqJnHpD63cPA6sW","qn0bre7eLbi3QMbCfWkUi","fSu0KxFL41IRouotqmbHs","0gtg24Mj1a1bQFPRGQNlO","7iQPBMltLPLbFEz2qbjPu","yoh4pwoXcfELInGKRdYf6","dCGCWXgAmiOZXbdULT1m6","jMavlje07sNa6hSEIE8WA","Xxm0JE4dKHxrQAaZfzvxD","PAEBZCyFBZJyR7OoMZ41E","PQ6km8RgRCuyICBPOYz8f","2bhftt8rGuxYu4pFgNqru","hjYIZpHQWuXfeEoGeJEKW","K2M9bQqVq2eQfm29eslKL","X8obW1iKwYsvNgKWGyCzy","yJwSC7hqYIezTFHf5i0Ev","c4Z7ETcOHUILRMH32Sfjw","qiR6dIu857b9M9kTqjOyK","8vflbCVkwZtYcqdDDTNAz","Ku1OgHMhELajzo61Gx7ye","LUrfhDWo8wuwZu7CN9TV8","osu6JGOnvXJ5gt3tpqWZY","1a6173cd-cf13-4b34-a522-8350bf9a364f","ZgCUp366YrF2Tyky2NT73","S2sBltrPfd8a7ICuD7CuH","oWCuBXOg6JWfZzjmKxmNl","jOmhZ8ovLYTPbpM1vqSDx","FraC6xzLy1ei91l1ICyc9","6ceBas2RE9Q4787GDngH7","734cd78d-0bc9-426b-803d-1efc84dfffe5","k4Bb09px6r0FxIRs49SXV","oaG3H1S9IUBO644nGZigu","Ka7agQJkUMRSWN0uFdkWK","si3z090WsiLasMhJBa1Az","ljKAVERmdEiKLK9hXGKBm","LIcuGYV0DDt1VWbvH6Sed","MgUSrpNCIwDOW4fX3vPOF","bZumdyapJ2H0wWWOmJ45i","QHXEIyeZGIGMVi5Q52UWI","i5Fya3Vzzm0rBT0ctByuo"],"parent":null,"data":{},"body":"\n# Digital Garden\n\nThis Wiki of Personal Information is organized according to domains and their\nsub-domains, along with specific implementation of those domains.\n\nFor instance, Git itself is a domain. Sub-domains of Git, would be `commit`,\n`tags`, `reflog` etc. implementations of each of those could be `cli`, `strat`\n(strategies), `inner` etc.\n\nThe goal of the wiki is to present data in a manner that is from the perspective\nof a querying user. Here, a user is a programmer wanting to get key information\nfrom a specific domain. For instance, if a user wants to use postgres functions\nand hasn't done them in a while, they should be able to query\n`postgres.functions` to see what information is available to them.\n\nThis wiki has been written with myself in mind. While learning each of these\ndomains, I have been sensitive to the \"aha\" moments and have noted down my\ninsights as they arose. I have refrained from capturing information that I\nconsidered obvious or otherwise non-beneficial to my own understanding.\n\nThe ability I hope to gain from this wiki is the ability to step away from any\ngiven domain for a long period of time, and be able to be passably useful for\nwhatever my goals are within a short period of time. Of course, this is all\nvague sounding, and really depends on the domain, along with the ends I am\ntrying to reach.\n\nTo achieve this, the system should be steadfast to:\n- be able to put information in relatively easily, without too much thought\n\trequired to make that determination.\n- be able to extract the information that we need, meaning there is a\n\thigh-degree in confidence in the location of the information. The idea is\n\tthat information loses a large amount of its value when it is unfindable.\n\tTherefore, a relatively strict ideology should be used when determining\n\twhere a piece of information belongs.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":3,"useFMTitle":true,"useNoteTitleForLink":true,"noLegacyNoteRef":true,"mermaid":true,"useKatex":true,"dev":{"enablePreviewV2":true},"site":{"assetsPrefix":"/Digital-Garden","siteUrl":"https://tycholiz.github.io","copyAssets":true,"siteHierarchies":["root"],"siteRootDir":"docs","usePrettyRefs":true,"title":"Dendron","description":"Publishable tech notes","duplicateNoteBehavior":{"action":"useVault","payload":["tech"]},"siteLastModified":true,"gh_edit_branch":"main","usePrettyLinks":true,"siteNotesDir":"notes","siteFaviconPath":"favicon.ico","gh_edit_link":true,"gh_edit_link_text":"Edit this page on GitHub","gh_root":"docs/","gh_edit_view_mode":"edit","writeStubs":true,"siteIndex":"root"},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{}},"workspace":{"dendronVersion":"0.67.1","vaults":[{"fsPath":"../main/tech","name":"tech"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"enableUserTags":true,"enableHashTags":true},"usePrettyRefs":true}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"HnABgT2HZRrecgV5YHg8X"},"buildId":"s-Pdpb0Y8fVIEUakhzEMN","assetPrefix":"/Digital-Garden","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>