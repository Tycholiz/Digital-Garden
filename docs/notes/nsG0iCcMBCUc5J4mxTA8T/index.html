<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><title>Triggers</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="The Tech Digital Garden of Kyle Tycholiz"/><meta property="og:title" content="Triggers"/><meta property="og:description" content="The Tech Digital Garden of Kyle Tycholiz"/><meta property="og:url" content="https://tech.kyletycholiz.com/notes/nsG0iCcMBCUc5J4mxTA8T/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="3/4/2021"/><meta property="article:modified_time" content="11/13/2023"/><link rel="canonical" href="https://tech.kyletycholiz.com/notes/nsG0iCcMBCUc5J4mxTA8T/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/8e7b7e4bce421c0a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8e7b7e4bce421c0a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-3d209faeb64f2f97.js" defer=""></script><script src="/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/_next/static/chunks/main-104451f3d1a5c4bc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6b338472289fe290.js" defer=""></script><script src="/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/_next/static/fo6gubzKP_KV9RZPhaoiQ/_buildManifest.js" defer=""></script><script src="/_next/static/fo6gubzKP_KV9RZPhaoiQ/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="triggers">Triggers<a aria-hidden="true" class="anchor-heading icon-link" href="#triggers"></a></h1>
<p>A trigger is a callback that is executed whenever a table (or view) is modified. Triggers can also be set to listen for specific user actions much like a callback.</p>
<ul>
<li>Can also be set up to be executed by using the INSTEAD OF condition.</li>
</ul>
<p>2 main types of trigger:</p>
<ol>
<li>row-level trigger</li>
<li>statement-level trigger</li>
</ol>
<ul>
<li>the difference between these two is in how many times each would be called in response to an event. 
<ul>
<li>ex. if you issue an UPDATE statement that affects 20 rows, the row-level trigger will be invoked 20 times, while the statement level trigger will be invoked 1 time.</li>
</ul>
</li>
</ul>
<p>examples</p>
<ul>
<li>restrict DML (actions that modify the db) operations to business hours </li>
<li>Automatically generate derived column values</li>
</ul>
<p>We can think of a trigger like a middleware that sits between the user's request (that interacts with the db) and the sql server. Every time our db is interacted with, listeners are able "intercept" the query and act on it</p>
<ul>
<li>Most triggers are only activated by either INSERT or UPDATE statements.</li>
<li>We can specify columns on a trigger, which will cause the trigger to only fire if those columns are operated on (ex. we update those columns)</li>
<li>If multiple triggers of the same kind are defined for the same event, they will be fired in alphanumerical order.
<ul>
<li>which is why it is useful to prepend them with numbers</li>
</ul>
</li>
</ul>
<h2 id="syntax">Syntax<a aria-hidden="true" class="anchor-heading icon-link" href="#syntax"></a></h2>
<ul>
<li>A trigger that is marked <code>FOR EACH ROW</code> is called once for every row that the operation modifies.</li>
<li>a trigger that is marked <code>FOR EACH STATEMENT</code> only executes once for any given operation</li>
<li><code>WHEN</code> allows us to determine whether or not the trigger should be fired
<ul>
<li>In row-level triggers the <code>WHEN</code> condition can examine the old and/or new values of columns of the row</li>
<li>ex. only execute the function if <code>OLD.balance</code> does not equal <code>NEW.balance</code>
<ul>
<li><code>WHEN (OLD.balance IS DISTINCT FROM NEW.balance)</code></li>
</ul>
</li>
<li>ex. only execute function if anything has changed
<ul>
<li><code>WHEN (OLD.* IS DISTINCT FROM NEW.*)</code></li>
</ul>
</li>
</ul>
</li>
<li><code>CONSTRAINT</code> allows us to adjust the timing of when the trigger actually fires.
<ul>
<li>The trigger can be fired either:
<ul>
<li>At the end of the statement which caused the triggering event</li>
<li>At the end of the containing transaction, which is the <code>COMMIT</code> (called deferred triggers)</li>
</ul>
</li>
<li>Each constraint has its own IMMEDIATE or DEFERRED mode.</li>
<li>only available <code>AFTER ROW</code></li>
</ul>
</li>
</ul>
<h1 id="parts-of-a-trigger">Parts of a Trigger<a aria-hidden="true" class="anchor-heading icon-link" href="#parts-of-a-trigger"></a></h1>
<ul>
<li>2 parts to a trigger: the trigger itself, and the function that is executed by the trigger</li>
</ul>
<h2 id="trigger">Trigger<a aria-hidden="true" class="anchor-heading icon-link" href="#trigger"></a></h2>
<h3 id="beforeafter-triggers">Before/After Triggers<a aria-hidden="true" class="anchor-heading icon-link" href="#beforeafter-triggers"></a></h3>
<p>The trigger can be specified to fire before the operation is attempted on a row, or after the operation has completed (after constraints are checked and the INSERT, UPDATE, or DELETE has completed)</p>
<ul>
<li>Trigger can also be set to fire <em>instead of</em> having the operation be performed. This only works on views</li>
</ul>
<h4 id="before">Before<a aria-hidden="true" class="anchor-heading icon-link" href="#before"></a></h4>
<ul>
<li>the constraints will not-yet have been checked, allowing us to perform some action before the actual operation has taken place.
<ul>
<li>ex. Imagine we want to keep only one of the user's credit cards specified as <code>is_primary</code>. Because of the uniqueness constraints applied on the table (allowing only one <code>is_primary</code> card per user), we must set <code>is_primary</code> to <code>false</code> for all of our cards, any time the user attempts to insert a new card where <code>is_primary</code> is true. 
<ul>
<li>If we had instead ran the trigger <em>after</em> the <code>insert</code>, then we might have gotten an error, since we are potentially trying to insert a new card with <code>is_primary = true</code>, while one may already exist.</li>
</ul>
</li>
</ul>
</li>
<li>If the trigger fires before the event, the trigger can skip the operation for the current row, or change the row being inserted (for INSERT and UPDATE operations only)</li>
<li>in <code>BEFORE</code>, the <code>WHEN</code> condition is evaluated just before the function is executed
<ul>
<li>Therefore, using <code>WHEN</code> (in the trigger itself) has the same effect as testing the same condition at the beginning of the triggered function with <code>TG_WHEN</code></li>
<li>The implication of this is that the <code>NEW</code> value seen by the function is the current value, and not the value that would exist <em>following</em> the operation
<ul>
<li>Also consider that while this "current value" normally means "prior to the operation being performed", there is the possibility that previous triggers in the chain have already executed, potentially changing what "current value" means to us.</li>
</ul>
</li>
<li>Another implication is that in <code>BEFORE</code>, a trigger's <code>WHEN</code> condition cannot examine the columns of the <code>NEW</code> row that is to be inserted/updated (because they wouldn't have been set yet)</li>
</ul>
</li>
</ul>
<h4 id="after">After<a aria-hidden="true" class="anchor-heading icon-link" href="#after"></a></h4>
<ul>
<li>rows will be impacted with consideration to the constraints</li>
<li>If the trigger fires after the event, all changes, including the effects of other triggers, are "visible" to the trigger.</li>
<li>in <code>AFTER</code>, the <code>WHEN</code> condition is evaluated after the row update occurs.
<ul>
<li>The <code>WHEN</code> condition here also determines whether an event is queued to fire a trigger, following the operation.
<ul>
<li>Therefore, if <code>WHEN</code> does not return true, we do not have to queue an event; nor to re-fetch the row at the end of the statement
<ul>
<li>This can result in significant speedups in statements that modify many rows, if the trigger only needs to be fired for a few of the rows.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="trigger-function">Trigger Function<a aria-hidden="true" class="anchor-heading icon-link" href="#trigger-function"></a></h2>
<p>A trigger function returns a <code>trigger</code></p>
<ul>
<li>The function body must return either <code>NULL</code> or a row value having exactly the structure of the table the trigger was fired for.
<ul>
<li>ie. the the row being returned must have the same type of the table.</li>
</ul>
</li>
</ul>
<p>Depending on if we are using row-level triggers or table-level triggers, the function will be called for each row that is affected, or will be called once per table.</p>
<h3 id="infinite-loops">Infinite loops<a aria-hidden="true" class="anchor-heading icon-link" href="#infinite-loops"></a></h3>
<p>if a trigger function updates a row in the same table that the trigger is for and the operation is the same, then it will trigger a recursive infinite loop, since the trigger function will cause the trigger to fire in response to the </p>
<ul>
<li>ex. we have a trigger that is set to fire on update of <code>users</code> table, and the trigger function itself updates a row in that table. This update, will cause the trigger to fire again, and so on.</li>
</ul>
<h3 id="return-value-of-trigger-functions">Return value of trigger functions<a aria-hidden="true" class="anchor-heading icon-link" href="#return-value-of-trigger-functions"></a></h3>
<p><code>BEFORE</code></p>
<ul>
<li>if we return <code>null</code> from the function, we are signalling to the trigger manager signal that we want to skip the rest of the operation for this row, meaning 2 things happen:
<ol>
<li>subsequent triggers will be short-circuited </li>
<li>the operation will not occur for this row.</li>
</ol>
</li>
<li>if we return a non-<code>null</code> value, then the operation proceeds with that value. 
<ul>
<li>returning a row value that is different from the original value of <code>NEW</code> will alter the row to be inserted/updated
<ul>
<li>Therefore, if we want the trigger to succeed normally without altering the <code>NEW</code> row value, then we must return <code>NEW</code>
<ul>
<li>This means that we could alter single columns in the row, with <code>NEW.col = X</code>, and proceeding to return <code>NEW</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>a statement-level trigger fired <code>BEFORE</code> always ignores the return value of the trigger function, so it might as well be <code>null</code>.</li>
</ul>
<p><code>AFTER</code></p>
<ul>
<li>return value of a row-level trigger (or statement-level trigger) fired <code>AFTER</code> will always be ignored, so it might as well be <code>null</code></li>
</ul>
<h3 id="trigger-local-variables">Trigger Local Variables<a aria-hidden="true" class="anchor-heading icon-link" href="#trigger-local-variables"></a></h3>
<p>A function called by a trigger receives data about its calling environment (called <code>TriggerData</code>)</p>
<ul>
<li>prefixed by <code>TG_</code></li>
</ul>
<p><code>NEW</code> </p>
<ul>
<li>variable holding the new database row for INSERT/UPDATE operations in row-level triggers</li>
<li>type: <code>record</code></li>
<li>in statement-level triggers and <code>DELETE</code> operations, this value is <code>null</code>
<ul>
<li>this shows why we can return <code>null</code> from the trigger function on <code>DELETE</code> operations. There is nothing to return to the table!</li>
<li>must still return a non-<code>null</code> value from a DELETE trigger function, or we will short-circuit the trigger action. Normally, <code>OLD</code> is returned, since <code>NEW</code> is null</li>
</ul>
</li>
</ul>
<p><code>OLD</code></p>
<ul>
<li>variable holding the old database row for UPDATE/DELETE operations in row-level triggers</li>
<li>type: <code>record</code></li>
<li>in statement-level triggers and <code>INSERT</code> operations, this value is <code>null</code></li>
</ul>
<p><code>TG_WHEN</code></p>
<ul>
<li>evaluates to BEFORE, AFTER, or INSTEAD OF, depending on the trigger's definition.</li>
<li>type: <code>text</code></li>
</ul>
<p><code>TG_OP</code></p>
<ul>
<li>evaluates to INSERT, UPDATE, DELETE, or TRUNCATE telling for which operation the trigger was fired.</li>
<li>type: <code>text</code></li>
</ul>
<p><code>TG_ARGV</code></p>
<ul>
<li>the arguments passed in to the trigger's function call</li>
<li>type: <code>text[]</code></li>
</ul>
<p>Also
<code>TG_TABLE_NAME</code>, <code>TG_TABLE_SCHEMA</code>, <code>TG_NARGS</code> (# of args)</p>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/notes/wbs6c9snnonnyzm8vk2t4b9">Strategies</a></li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#syntax" title="Syntax">Syntax</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#parts-of-a-trigger" title="Parts of a Trigger">Parts of a Trigger</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#trigger" title="Trigger">Trigger</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#beforeafter-triggers" title="Before/After Triggers">Before/After Triggers</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#before" title="Before">Before</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#after" title="After">After</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#trigger-function" title="Trigger Function">Trigger Function</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#infinite-loops" title="Infinite loops">Infinite loops</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#return-value-of-trigger-functions" title="Return value of trigger functions">Return value of trigger functions</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#trigger-local-variables" title="Trigger Local Variables">Trigger Local Variables</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"nsG0iCcMBCUc5J4mxTA8T","title":"Triggers","desc":"","updated":1699897944439,"created":1614835076700,"custom":{},"fname":"pg.lang.triggers","type":"note","vault":{"fsPath":"../main/tech","name":"tech"},"contentHash":"42b9b16fc73f35c616dd1d0881719f35","links":[{"from":{"fname":"db.distributed.replication.strategies","id":"wbs6c9snnonnyzm8vk2t4b9","vaultName":"tech"},"type":"backlink","position":{"start":{"line":59,"column":43,"offset":4492},"end":{"line":59,"column":72,"offset":4521},"indent":[]},"value":"pg.lang.triggers"}],"anchors":{"syntax":{"type":"header","text":"Syntax","value":"syntax","line":27,"column":0,"depth":2},"parts-of-a-trigger":{"type":"header","text":"Parts of a Trigger","value":"parts-of-a-trigger","line":43,"column":0,"depth":1},"trigger":{"type":"header","text":"Trigger","value":"trigger","line":46,"column":0,"depth":2},"beforeafter-triggers":{"type":"header","text":"Before/After Triggers","value":"beforeafter-triggers","line":48,"column":0,"depth":3},"before":{"type":"header","text":"Before","value":"before","line":52,"column":0,"depth":4},"after":{"type":"header","text":"After","value":"after","line":63,"column":0,"depth":4},"trigger-function":{"type":"header","text":"Trigger Function","value":"trigger-function","line":71,"column":0,"depth":2},"infinite-loops":{"type":"header","text":"Infinite loops","value":"infinite-loops","line":78,"column":0,"depth":3},"return-value-of-trigger-functions":{"type":"header","text":"Return value of trigger functions","value":"return-value-of-trigger-functions","line":82,"column":0,"depth":3},"trigger-local-variables":{"type":"header","text":"Trigger Local Variables","value":"trigger-local-variables","line":96,"column":0,"depth":3}},"children":[],"parent":"OV4weBB6tmbhEK7I4R8Jm","data":{}},"body":"\u003ch1 id=\"triggers\"\u003eTriggers\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#triggers\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003eA trigger is a callback that is executed whenever a table (or view) is modified. Triggers can also be set to listen for specific user actions much like a callback.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eCan also be set up to be executed by using the INSTEAD OF condition.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e2 main types of trigger:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003erow-level trigger\u003c/li\u003e\n\u003cli\u003estatement-level trigger\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003ethe difference between these two is in how many times each would be called in response to an event. \n\u003cul\u003e\n\u003cli\u003eex. if you issue an UPDATE statement that affects 20 rows, the row-level trigger will be invoked 20 times, while the statement level trigger will be invoked 1 time.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eexamples\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003erestrict DML (actions that modify the db) operations to business hours \u003c/li\u003e\n\u003cli\u003eAutomatically generate derived column values\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eWe can think of a trigger like a middleware that sits between the user's request (that interacts with the db) and the sql server. Every time our db is interacted with, listeners are able \"intercept\" the query and act on it\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eMost triggers are only activated by either INSERT or UPDATE statements.\u003c/li\u003e\n\u003cli\u003eWe can specify columns on a trigger, which will cause the trigger to only fire if those columns are operated on (ex. we update those columns)\u003c/li\u003e\n\u003cli\u003eIf multiple triggers of the same kind are defined for the same event, they will be fired in alphanumerical order.\n\u003cul\u003e\n\u003cli\u003ewhich is why it is useful to prepend them with numbers\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"syntax\"\u003eSyntax\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#syntax\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eA trigger that is marked \u003ccode\u003eFOR EACH ROW\u003c/code\u003e is called once for every row that the operation modifies.\u003c/li\u003e\n\u003cli\u003ea trigger that is marked \u003ccode\u003eFOR EACH STATEMENT\u003c/code\u003e only executes once for any given operation\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eWHEN\u003c/code\u003e allows us to determine whether or not the trigger should be fired\n\u003cul\u003e\n\u003cli\u003eIn row-level triggers the \u003ccode\u003eWHEN\u003c/code\u003e condition can examine the old and/or new values of columns of the row\u003c/li\u003e\n\u003cli\u003eex. only execute the function if \u003ccode\u003eOLD.balance\u003c/code\u003e does not equal \u003ccode\u003eNEW.balance\u003c/code\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eWHEN (OLD.balance IS DISTINCT FROM NEW.balance)\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eex. only execute function if anything has changed\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eWHEN (OLD.* IS DISTINCT FROM NEW.*)\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eCONSTRAINT\u003c/code\u003e allows us to adjust the timing of when the trigger actually fires.\n\u003cul\u003e\n\u003cli\u003eThe trigger can be fired either:\n\u003cul\u003e\n\u003cli\u003eAt the end of the statement which caused the triggering event\u003c/li\u003e\n\u003cli\u003eAt the end of the containing transaction, which is the \u003ccode\u003eCOMMIT\u003c/code\u003e (called deferred triggers)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eEach constraint has its own IMMEDIATE or DEFERRED mode.\u003c/li\u003e\n\u003cli\u003eonly available \u003ccode\u003eAFTER ROW\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"parts-of-a-trigger\"\u003eParts of a Trigger\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#parts-of-a-trigger\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e2 parts to a trigger: the trigger itself, and the function that is executed by the trigger\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"trigger\"\u003eTrigger\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#trigger\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"beforeafter-triggers\"\u003eBefore/After Triggers\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#beforeafter-triggers\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eThe trigger can be specified to fire before the operation is attempted on a row, or after the operation has completed (after constraints are checked and the INSERT, UPDATE, or DELETE has completed)\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eTrigger can also be set to fire \u003cem\u003einstead of\u003c/em\u003e having the operation be performed. This only works on views\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"before\"\u003eBefore\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#before\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003ethe constraints will not-yet have been checked, allowing us to perform some action before the actual operation has taken place.\n\u003cul\u003e\n\u003cli\u003eex. Imagine we want to keep only one of the user's credit cards specified as \u003ccode\u003eis_primary\u003c/code\u003e. Because of the uniqueness constraints applied on the table (allowing only one \u003ccode\u003eis_primary\u003c/code\u003e card per user), we must set \u003ccode\u003eis_primary\u003c/code\u003e to \u003ccode\u003efalse\u003c/code\u003e for all of our cards, any time the user attempts to insert a new card where \u003ccode\u003eis_primary\u003c/code\u003e is true. \n\u003cul\u003e\n\u003cli\u003eIf we had instead ran the trigger \u003cem\u003eafter\u003c/em\u003e the \u003ccode\u003einsert\u003c/code\u003e, then we might have gotten an error, since we are potentially trying to insert a new card with \u003ccode\u003eis_primary = true\u003c/code\u003e, while one may already exist.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eIf the trigger fires before the event, the trigger can skip the operation for the current row, or change the row being inserted (for INSERT and UPDATE operations only)\u003c/li\u003e\n\u003cli\u003ein \u003ccode\u003eBEFORE\u003c/code\u003e, the \u003ccode\u003eWHEN\u003c/code\u003e condition is evaluated just before the function is executed\n\u003cul\u003e\n\u003cli\u003eTherefore, using \u003ccode\u003eWHEN\u003c/code\u003e (in the trigger itself) has the same effect as testing the same condition at the beginning of the triggered function with \u003ccode\u003eTG_WHEN\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eThe implication of this is that the \u003ccode\u003eNEW\u003c/code\u003e value seen by the function is the current value, and not the value that would exist \u003cem\u003efollowing\u003c/em\u003e the operation\n\u003cul\u003e\n\u003cli\u003eAlso consider that while this \"current value\" normally means \"prior to the operation being performed\", there is the possibility that previous triggers in the chain have already executed, potentially changing what \"current value\" means to us.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eAnother implication is that in \u003ccode\u003eBEFORE\u003c/code\u003e, a trigger's \u003ccode\u003eWHEN\u003c/code\u003e condition cannot examine the columns of the \u003ccode\u003eNEW\u003c/code\u003e row that is to be inserted/updated (because they wouldn't have been set yet)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"after\"\u003eAfter\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#after\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003erows will be impacted with consideration to the constraints\u003c/li\u003e\n\u003cli\u003eIf the trigger fires after the event, all changes, including the effects of other triggers, are \"visible\" to the trigger.\u003c/li\u003e\n\u003cli\u003ein \u003ccode\u003eAFTER\u003c/code\u003e, the \u003ccode\u003eWHEN\u003c/code\u003e condition is evaluated after the row update occurs.\n\u003cul\u003e\n\u003cli\u003eThe \u003ccode\u003eWHEN\u003c/code\u003e condition here also determines whether an event is queued to fire a trigger, following the operation.\n\u003cul\u003e\n\u003cli\u003eTherefore, if \u003ccode\u003eWHEN\u003c/code\u003e does not return true, we do not have to queue an event; nor to re-fetch the row at the end of the statement\n\u003cul\u003e\n\u003cli\u003eThis can result in significant speedups in statements that modify many rows, if the trigger only needs to be fired for a few of the rows.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"trigger-function\"\u003eTrigger Function\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#trigger-function\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eA trigger function returns a \u003ccode\u003etrigger\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThe function body must return either \u003ccode\u003eNULL\u003c/code\u003e or a row value having exactly the structure of the table the trigger was fired for.\n\u003cul\u003e\n\u003cli\u003eie. the the row being returned must have the same type of the table.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eDepending on if we are using row-level triggers or table-level triggers, the function will be called for each row that is affected, or will be called once per table.\u003c/p\u003e\n\u003ch3 id=\"infinite-loops\"\u003eInfinite loops\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#infinite-loops\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eif a trigger function updates a row in the same table that the trigger is for and the operation is the same, then it will trigger a recursive infinite loop, since the trigger function will cause the trigger to fire in response to the \u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eex. we have a trigger that is set to fire on update of \u003ccode\u003eusers\u003c/code\u003e table, and the trigger function itself updates a row in that table. This update, will cause the trigger to fire again, and so on.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"return-value-of-trigger-functions\"\u003eReturn value of trigger functions\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#return-value-of-trigger-functions\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003eBEFORE\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eif we return \u003ccode\u003enull\u003c/code\u003e from the function, we are signalling to the trigger manager signal that we want to skip the rest of the operation for this row, meaning 2 things happen:\n\u003col\u003e\n\u003cli\u003esubsequent triggers will be short-circuited \u003c/li\u003e\n\u003cli\u003ethe operation will not occur for this row.\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003eif we return a non-\u003ccode\u003enull\u003c/code\u003e value, then the operation proceeds with that value. \n\u003cul\u003e\n\u003cli\u003ereturning a row value that is different from the original value of \u003ccode\u003eNEW\u003c/code\u003e will alter the row to be inserted/updated\n\u003cul\u003e\n\u003cli\u003eTherefore, if we want the trigger to succeed normally without altering the \u003ccode\u003eNEW\u003c/code\u003e row value, then we must return \u003ccode\u003eNEW\u003c/code\u003e\n\u003cul\u003e\n\u003cli\u003eThis means that we could alter single columns in the row, with \u003ccode\u003eNEW.col = X\u003c/code\u003e, and proceeding to return \u003ccode\u003eNEW\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003ea statement-level trigger fired \u003ccode\u003eBEFORE\u003c/code\u003e always ignores the return value of the trigger function, so it might as well be \u003ccode\u003enull\u003c/code\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003eAFTER\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ereturn value of a row-level trigger (or statement-level trigger) fired \u003ccode\u003eAFTER\u003c/code\u003e will always be ignored, so it might as well be \u003ccode\u003enull\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"trigger-local-variables\"\u003eTrigger Local Variables\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#trigger-local-variables\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eA function called by a trigger receives data about its calling environment (called \u003ccode\u003eTriggerData\u003c/code\u003e)\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eprefixed by \u003ccode\u003eTG_\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003eNEW\u003c/code\u003e \u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003evariable holding the new database row for INSERT/UPDATE operations in row-level triggers\u003c/li\u003e\n\u003cli\u003etype: \u003ccode\u003erecord\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003ein statement-level triggers and \u003ccode\u003eDELETE\u003c/code\u003e operations, this value is \u003ccode\u003enull\u003c/code\u003e\n\u003cul\u003e\n\u003cli\u003ethis shows why we can return \u003ccode\u003enull\u003c/code\u003e from the trigger function on \u003ccode\u003eDELETE\u003c/code\u003e operations. There is nothing to return to the table!\u003c/li\u003e\n\u003cli\u003emust still return a non-\u003ccode\u003enull\u003c/code\u003e value from a DELETE trigger function, or we will short-circuit the trigger action. Normally, \u003ccode\u003eOLD\u003c/code\u003e is returned, since \u003ccode\u003eNEW\u003c/code\u003e is null\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003eOLD\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003evariable holding the old database row for UPDATE/DELETE operations in row-level triggers\u003c/li\u003e\n\u003cli\u003etype: \u003ccode\u003erecord\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003ein statement-level triggers and \u003ccode\u003eINSERT\u003c/code\u003e operations, this value is \u003ccode\u003enull\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003eTG_WHEN\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eevaluates to BEFORE, AFTER, or INSTEAD OF, depending on the trigger's definition.\u003c/li\u003e\n\u003cli\u003etype: \u003ccode\u003etext\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003eTG_OP\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eevaluates to INSERT, UPDATE, DELETE, or TRUNCATE telling for which operation the trigger was fired.\u003c/li\u003e\n\u003cli\u003etype: \u003ccode\u003etext\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003eTG_ARGV\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ethe arguments passed in to the trigger's function call\u003c/li\u003e\n\u003cli\u003etype: \u003ccode\u003etext[]\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eAlso\n\u003ccode\u003eTG_TABLE_NAME\u003c/code\u003e, \u003ccode\u003eTG_TABLE_SCHEMA\u003c/code\u003e, \u003ccode\u003eTG_NARGS\u003c/code\u003e (# of args)\u003c/p\u003e\n\u003chr\u003e\n\u003cstrong\u003eBacklinks\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"/notes/wbs6c9snnonnyzm8vk2t4b9\"\u003eStrategies\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"olZIVfSs2uLLr3BppFh4K","title":"Digital Garden","desc":"","updated":1674517603573,"created":1615482407722,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"../main/tech","name":"tech"},"contentHash":"effb007003ca6a91d7fd0c293e1d2436","links":[{"type":"wiki","from":{"fname":"root","id":"olZIVfSs2uLLr3BppFh4K","vaultName":"tech"},"value":"testing.method.unit","alias":"unit testing","position":{"start":{"line":18,"column":121,"offset":1146},"end":{"line":18,"column":157,"offset":1182},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"testing.method.unit"}},{"type":"wiki","from":{"fname":"root","id":"olZIVfSs2uLLr3BppFh4K","vaultName":"tech"},"value":"general.arch.microservice","alias":"microservices","position":{"start":{"line":18,"column":188,"offset":1213},"end":{"line":18,"column":231,"offset":1256},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"general.arch.microservice"}},{"type":"wiki","from":{"fname":"root","id":"olZIVfSs2uLLr3BppFh4K","vaultName":"tech"},"value":"paradigm.oop","alias":"OOP","position":{"start":{"line":36,"column":227,"offset":2718},"end":{"line":36,"column":247,"offset":2738},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"paradigm.oop"}}],"anchors":{"tags":{"type":"header","text":"Tags","value":"tags","line":46,"column":0,"depth":3},"resources":{"type":"header","text":"Resources","value":"resources","line":55,"column":0,"depth":2},"ue-unexamined-resources":{"type":"header","text":"UE (Unexamined) Resources","value":"ue-unexamined-resources","line":56,"column":0,"depth":3},"e-examined-resources":{"type":"header","text":"E (Examined) Resources","value":"e-examined-resources","line":59,"column":0,"depth":3},"resources-1":{"type":"header","text":"Resources","value":"resources-1","line":62,"column":0,"depth":3}},"children":["40ubf88tephzbdjte8cdsa0","zFMjbn3xihVNHjUIdZCD1","IK6NOKemuDjhfstJBovKL","ZaTr28eWk1DrXOEsc1YVb","Vi0WYVLZunVM9iR8XZJn3","ngAbg7gluvbt1bY1UIRsi","RCPPXSakm5TvKka8kOmVp","LIcuGYV0DDt1VWbvH6Sed","MPx8ykTP57I40WTZvTP7f","ZU5WmdTG1bHoE8RcmZXZG","jqWiyYJff92RjXuUQt9PQ","KihijM8OQvZ4pASkkhqzL","F9vyqvls3OBCujtukqKhy","k6jxm2b3edgkhbordpuz6v1","facc2b01-755a-409f-99f6-57bef2d1501f","bZumdyapJ2H0wWWOmJ45i","elqpgoe2r951si4xrhujppj","m5ov42Vm6mR7RQWTvl1NW","cw8cerc0cos8lh871oz8rtf","PZxxZ4iESzSlbbHJKxuAZ","UDu62Pa6BaRqlG8uGoMhy","u3zcndycwqessho5h6x0nz9","ZgCUp366YrF2Tyky2NT73","DVpVUmavSoVDA7UIlPzLX","nMCtMXVvjBsJk3iw1zoIO","ANfx9Z4a6ZA0uJuSHtbIJ","BkG557LKUYbH1DnxprEVT","1TaH8zDTM98FZ9SYaeXLM","02v7ymc144e5c4pv3edkud7","dc79799f-a55d-48ab-a8be-c48adb1b19c0","f6feef57-b8f5-451f-a09a-7b63f6a07183","4sz47Y0LKs1Si73rWtyyh","g7ulqi8no93ezeocbesc3ll","5a9fb1df-478e-4687-9be0-5cb97e61ec57","1374e9e9-1cbc-4e1f-b1ca-66b8569533dd","D8Z3rjXkSj2EOymXQXF4Z","np3c1ykvnjqv5xoombpfwqz","f529cc34-aba0-45ca-ad7e-02ddda318941","0zcauha3il2NqtxZazIo7","9bbd6f68-03b2-41f4-92e4-2ca313e8b450","5a2ab598-fa7e-4471-8bda-9f5831b679ae","uV6w4mZPoohWyZV4Xaad0","QHXEIyeZGIGMVi5Q52UWI","RgE0mZLaUjPftFPZsiAoe","mytCOts26Pidush65tdRW","fwUzxfLSPMH1eL8oBoLWx","wazdsda6h25x66edvfmeuiv","TbW7PM9bg1y5TGkiWwQ8b","xiSIDeEtIc8X0lpUQlppI","0jxgntiLNHWFuCbzqtFGF","GkdMprLUe4QQULBxmGN6V","4SYc6v5hxY5g6Ip6kjpwO","czi7ilt2i1uoqm1f2otbntj","fqVQpS9FBiXgKsZX3R3sJ","L5JUZlGAGvTxrsEBB7DY8","ttyri4pwfyn5lcx0vp9804o","TeTedoeS2LdHPR632eCpM","ulicRRwo3lSFzh3tMfWH9","p7d24vyb8m00ombzn34t50c","e65188a1-177e-4ab2-99f9-75f85d537621","fajYnbVhCRDi74xn0H30R","bArGdGwqo3iFkyKMyE7qR","4Dcp7gbEVoLLgfu7bXFai","5d700782-fb81-416e-83f9-5dd88260e350","zubgzhNFE6KlTgXcjTz6O","8lpdfWa0cbSq1XJQbcYcY","2psluywdc416t7vrql0m058","17I8ZksXvqCH1mRtZDjHp","kF916Ow84qpJJeMRkWMIo","tMLkLcrIHHBz56xVmBLkP","CSePBQ6q7qhowKESqVwt7","laZ4OfLhZNK1Kuy6GaWUr","z5IJblOknQhMzZ5QZh4ye","N36FHxfxzwJfxDY3miWyX","3bb25f58-2b50-4fa3-af55-48ea9f88a081","7x07qjgbitozdfszqzuy7ix","u93Rz4fEWGu6VBR30Zraf","9hjMHnKvYT4jLKvuDSXaV","qC5GxCZBmNb4Ip6c0kU8x","LgW7mTIALODoXc54B3p6S","UYPxfHBFWX7fb6hHU5bB6","74lYtC8NKpCzcyFOZTfR1","sEoBNAEuaTxwSmTXDonZt","dj0jr9mpvs62e2pkg3zc3yy","z8ie0xjogb6ht7gzowav5xr","qxSOd6SPN8qf9ZUojVFDX","WQoMTf6VXBaxCgksXAVsj","2Mw4XgfyCHXHNOX5yoCIY","qcdt2f7jo51muquo5r95dpo","0XJqmcdtcMZu66glBI5O8","lK8r8BXS4ThiUTe4xKIZe","93de42ca-53ea-460a-baa7-b9ec5c47cb1e","Rxs2jaGpdFzqYtP7lAJFJ","aO8W81Z0PyIb6Hs7nOHPW","lhzisalkebu4w5n01np07i0","7b5l4b6fi65n7sv9org5q1l","I01hENHnh8Tqu3Ok8sLzG","03o3n0hz9v9jtb7j889zpd4","evqsPNutOaZ8hcBCqxFQu","zhhxcjZUHdU8uRLwGb9Zh","G1aFACZB2ooWGMGwyd3ZW","YWy1C4tgoaCcw1m8JJsr7","Szj3o5iaNxPpesiCqwrbu","613syb18hb3v0u1ydvor7ru","XhvCDW3fIw6h6MhY5ticq","Q70g7SusFZBQXzkuQifv4","AzfWDH3wp7jFpL2EYxBcW","y0fwpZ9qMqirsLiFyOciU","ZF8xj8wwDUqKlrwTrCFZ1","tAJvhqhdfyZZa87QHq1TU","4hRmipi8lxpBLyzWu5JVB","iTg0C7QjvnmqBZeEigJNs","3babc3d2-79ae-470a-9c06-ab8bba2e684e","bF3UsMFya3fMeXWDspVov","ULkfbL9WpktbVYnzhl6Jw","PpNOO8JYWe6dM8wruSa7x","di40pCxDn7IiqE8lFdD46","rmW0mkerqV35I8QPji6lM","3IFIK1ByzeIxZCByryGLN","iImkYAKfkw3beAl6pLbDn","ecDe8DNWrkeQTwpTEvHje","i2it5id8qwtg27n4usg8bo1","Yqhdd9mSJGN7OJOeyoSD2","Ws5tah8tpeyn9tK8VBTg8","gWAg15uBJgkS2B0wcpMAa","l7V3v2ep1YdDCt7DOr7Ci","yM2PJBdqJnHpD63cPA6sW","qn0bre7eLbi3QMbCfWkUi","fSu0KxFL41IRouotqmbHs","0gtg24Mj1a1bQFPRGQNlO","7iQPBMltLPLbFEz2qbjPu","yoh4pwoXcfELInGKRdYf6","dCGCWXgAmiOZXbdULT1m6","jMavlje07sNa6hSEIE8WA","Xxm0JE4dKHxrQAaZfzvxD","nRb6Im4Kcmc2ZWE7K1jZ1","PAEBZCyFBZJyR7OoMZ41E","PQ6km8RgRCuyICBPOYz8f","x5tm1nfjzyawwzedy3yitgd","2bhftt8rGuxYu4pFgNqru","hjYIZpHQWuXfeEoGeJEKW","K2M9bQqVq2eQfm29eslKL","X8obW1iKwYsvNgKWGyCzy","yJwSC7hqYIezTFHf5i0Ev","c4Z7ETcOHUILRMH32Sfjw","qiR6dIu857b9M9kTqjOyK","fc2coz74cnfy5czzofx4h5x","Ku1OgHMhELajzo61Gx7ye","LUrfhDWo8wuwZu7CN9TV8","osu6JGOnvXJ5gt3tpqWZY","1a6173cd-cf13-4b34-a522-8350bf9a364f","S2sBltrPfd8a7ICuD7CuH","GLQ2pmkJUNUa93THBDVsD","md6xitz4exia2joa06i490b","oWCuBXOg6JWfZzjmKxmNl","jOmhZ8ovLYTPbpM1vqSDx","p9bov84s0isgkl1ysaw93kk","FraC6xzLy1ei91l1ICyc9","6ceBas2RE9Q4787GDngH7","734cd78d-0bc9-426b-803d-1efc84dfffe5","k4Bb09px6r0FxIRs49SXV","oaG3H1S9IUBO644nGZigu","Ka7agQJkUMRSWN0uFdkWK","si3z090WsiLasMhJBa1Az","hs6rwzt4mogiicoc4gcykbi","ljKAVERmdEiKLK9hXGKBm","zxt3lhonfdhglvijd17ua8c","dd7dopve1dudqkoibkqvti4","923tgifqf59ovv5yldtyi0a","vrjwp01goqw47fqctm4f4lo","c99gdmmppju3r1tth8cb2jx","z2pvn5qxdz84zgygqzxage8"],"parent":null,"data":{},"body":"This Dendron vault of tech knowledge is organized according to domains and their sub-domains, along with specific implementation of those domains.\n\nFor instance, Git itself is a domain. Sub-domains of Git would include things like `commit`,\n`tags`, `reflog` etc. implementations of each of those could be `cli`, `strat`\n(strategies), `inner`, and so on.\n\nThe goal of the wiki is to present data in a manner that is from the perspective\nof a querying user. Here, a user is a programmer wanting to get key information\nfrom a specific domain. For instance, if a user wants to use postgres functions\nand hasn't done them in a while, they should be able to query\n`postgres.functions` to see what information is available to them.\n\nThis wiki has been written with myself in mind. While learning each of these\ndomains, I have been sensitive to the \"aha\" moments and have noted down my\ninsights as they arose. I have refrained from capturing information that I\nconsidered obvious or otherwise non-beneficial to my own understanding.\n\nAs a result, I have allowed myself to use potentially arcane concepts to explain other ones. For example, in my note on [[unit testing|testing.method.unit]], I have made reference to the [[microservices|general.arch.microservice]] note. If these notes were made with the public in mind, this would be a very bad strategy, given that you'd have to understand microservices to be able to draw that same parallel that I've already drawn. Since these notes are written for myself, I have been fine with taking these liberties.\n\nWhat I hope to gain from this wiki is the ability to step away from any\ngiven domain for a long period of time, and be able to be passably useful for\nwhatever my goals are within a short period of time. Of course this is all\nvague sounding, and really depends on the domain along with the ends I am\ntrying to reach.\n\nTo achieve this, the system should be steadfast to:\n- be able to put information in relatively easily, without too much thought\n\trequired to its location. While location is important, Dendron makes it easy\n\tto relocate notes, if it becomes apparent that a different place makes more\n\tsense.\n- be able to extract the information that is needed, meaning there is a\n\thigh-degree in confidence in the location of the information. The idea is\n\tthat information loses a large amount of its value when it is unfindable.\n\tTherefore, a relatively strict ideology should be used when determining\n\twhere a piece of information belongs.\n\t- Some concepts might realistically belong to multiple domains. For instance, the concept of *access modifiers* can be found in both `C#` and `Typescript`. Therefore, this note should be abstracted to a common place, such as [[OOP|paradigm.oop]].\n\nThis Dendron vault is the sister component to the [General Second Brain](https://tech.kyletycholiz.com).\n\n### Tags\nThroughout the garden, I have made use of tags, which give semantic meaning to the pieces of information.\n\n- `ex.` - Denotes an *example* of the preceding piece of information\n- `spec:` - Specifies that the preceding information has some degree of *speculation* to it, and may not be 100% factual. Ideally this gets clarified over time as my understanding develops.\n- `anal:` - Denotes an *analogy* of the preceding information. Often I will attempt to link concepts to others that I have previously learned.\n- `mn:` - Denotes a *mnemonic*\n- `expl:` - Denotes an *explanation*\n\n## Resources\n### UE (Unexamined) Resources\nOften, I come across sources of information that I believe to be high-quality. They may be recommendations or found in some other way. No matter their origin, I may be in a position where I don't have the time to fully examine them (and properly extract notes), or I may not require the information at that moment in time. In cases like these, I will add reference to a section of the note called **UE Resources**. The idea is that in the future when I am ready to examine them, I have a list of resources that I can start with. This is an alternative strategy to compiling browser bookmarks, which I've found can quickly become untenable.\n\n### E (Examined) Resources\nOnce a resource has been thoroughly examined and has been mined for notes, it will be moved from *UE Resources* to *E Resources*. This is to indicate that (in my own estimation), there is nothing more to be gained from the resource that is not already in the note.\n\n### Resources\nThis heading is for inexhaustible resources. \n- A prime example would be a quality website that continually posts articles.  - Another example would be a tool, such as software that measures frequencies in a room to help acoustically treat it.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"dendronVersion":"0.83.0","vaults":[{"fsPath":"../main/tech","name":"tech"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"enableUserTags":true,"enableHashTags":true,"enableEditorDecorations":true,"enableFullHierarchyNoteTitle":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Dendron","description":"The Tech Digital Garden of Kyle Tycholiz"},"github":{"cname":"tech.kyletycholiz.com","enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"master","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","enableMermaid":true,"siteUrl":"https://tech.kyletycholiz.com","duplicateNoteBehavior":{"action":"useVault","payload":["tech"]},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"nsG0iCcMBCUc5J4mxTA8T"},"buildId":"fo6gubzKP_KV9RZPhaoiQ","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>