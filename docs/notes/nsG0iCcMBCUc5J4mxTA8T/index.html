<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><title>Triggers</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Publishable tech notes"/><meta property="og:title" content="Triggers"/><meta property="og:description" content="Publishable tech notes"/><meta property="og:url" content="https://tycholiz.github.io/Digital-Garden/notes/nsG0iCcMBCUc5J4mxTA8T/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="3/4/2021"/><meta property="article:modified_time" content="11/12/2021"/><link rel="canonical" href="https://tycholiz.github.io/Digital-Garden/notes/nsG0iCcMBCUc5J4mxTA8T/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/Digital-Garden/_next/static/css/804c5fc85a5d7e04.css" as="style"/><link rel="stylesheet" href="/Digital-Garden/_next/static/css/804c5fc85a5d7e04.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/Digital-Garden/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/Digital-Garden/_next/static/chunks/webpack-d53c65e15128d807.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/framework-dc33c0b5493501f0.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/main-9409ea3202b3ee44.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/pages/_app-585c2573c1834e35.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/155-0a8d44b6408c244d.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/pages/notes/%5Bid%5D-30a63e62504f2dc5.js" defer=""></script><script src="/Digital-Garden/_next/static/s-Pdpb0Y8fVIEUakhzEMN/_buildManifest.js" defer=""></script><script src="/Digital-Garden/_next/static/s-Pdpb0Y8fVIEUakhzEMN/_ssgManifest.js" defer=""></script><script src="/Digital-Garden/_next/static/s-Pdpb0Y8fVIEUakhzEMN/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div class="ant-col ant-col-xs-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"></div><div class="ant-col ant-col-xs-12"></div><div style="margin-left:4px;display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout site-layout" style="margin-top:64px"><section class="ant-layout site-layout" style="flex-direction:row"><section class="ant-layout site-layout-sidebar" style="flex:0 0 auto;width:calc((100% - 992px) / 2 + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></section><section class="ant-layout side-layout-main" style="max-width:1200px;display:initial"><main class="ant-layout-content main-content" role="main" style="padding:0 24px"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="triggers"><a aria-hidden="true" class="anchor-heading" href="#triggers"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Triggers</h1>
<h1 id="trigger"><a aria-hidden="true" class="anchor-heading" href="#trigger"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Trigger</h1>
<ul>
<li>a callback that is executed whenever a table (or view) is modified. Triggers can also be set to listen for specific user actions much like a callback.
<ul>
<li>Can also be set up to be executed by using the INSTEAD OF condition.</li>
</ul>
</li>
<li>2 main types of trigger:
<ol>
<li>row-level trigger</li>
<li>statement-level trigger</li>
</ol>
<ul>
<li>the difference between these two is in how many times each would be called in response to an event. 
<ul>
<li>ex. if you issue an UPDATE statement that affects 20 rows, the row-level trigger will be invoked 20 times, while the statement level trigger will be invoked 1 time.</li>
</ul>
</li>
</ul>
</li>
<li>examples
<ul>
<li>restrict DML (actions that modify the db) operations to business hours </li>
<li>Automatically generate derived column values</li>
</ul>
</li>
<li>You can think of a trigger like a middleware that sits between the user's request (that interacts with the db) and the sql server. Every time our db is interacted with, listeners are able "intercept" the query and act on it</li>
<li>Most triggers are only activated by either INSERT or UPDATE statements.</li>
<li>We can specify columns on a trigger, which will cause the trigger to only fire if those columns are operated on (ex. we update those columns)</li>
<li>If multiple triggers of the same kind are defined for the same event, they will be fired in alphanumerical order.
<ul>
<li>which is why it is useful to prepend them with numbers</li>
</ul>
</li>
</ul>
<h2 id="syntax"><a aria-hidden="true" class="anchor-heading" href="#syntax"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Syntax</h2>
<ul>
<li>A trigger that is marked <code>FOR EACH ROW</code> is called once for every row that the operation modifies.</li>
<li>a trigger that is marked <code>FOR EACH STATEMENT</code> only executes once for any given operation</li>
<li><code>WHEN</code> allows us to determine whether or not the trigger should be fired
<ul>
<li>In row-level triggers the <code>WHEN</code> condition can examine the old and/or new values of columns of the row</li>
<li>ex. only execute the function if <code>OLD.balance</code> does not equal <code>NEW.balance</code>
<ul>
<li><code>WHEN (OLD.balance IS DISTINCT FROM NEW.balance)</code></li>
</ul>
</li>
<li>ex. only execute function if anything has changed
<ul>
<li><code>WHEN (OLD.* IS DISTINCT FROM NEW.*)</code></li>
</ul>
</li>
</ul>
</li>
<li><code>CONSTRAINT</code> allows us to adjust the timing of when the trigger actually fires.
<ul>
<li>The trigger can be fired either:
<ul>
<li>At the end of the statement which caused the triggering event</li>
<li>At the end of the containing transaction, which is the <code>COMMIT</code> (called deferred triggers)</li>
</ul>
</li>
<li>Each constraint has its own IMMEDIATE or DEFERRED mode.</li>
<li>only available <code>AFTER ROW</code></li>
</ul>
</li>
</ul>
<h1 id="parts-of-a-trigger"><a aria-hidden="true" class="anchor-heading" href="#parts-of-a-trigger"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Parts of a Trigger</h1>
<ul>
<li>2 parts to a trigger: the trigger itself, and the function that is executed by the trigger</li>
</ul>
<h2 id="trigger-1"><a aria-hidden="true" class="anchor-heading" href="#trigger-1"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Trigger</h2>
<h3 id="beforeafter-triggers"><a aria-hidden="true" class="anchor-heading" href="#beforeafter-triggers"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Before/After Triggers</h3>
<p>The trigger can be specified to fire before the operation is attempted on a row, or after the operation has completed (after constraints are checked and the INSERT, UPDATE, or DELETE has completed)</p>
<ul>
<li>Trigger can also be set to fire <em>instead of</em> having the operation be performed. This only works on views</li>
</ul>
<h4 id="before"><a aria-hidden="true" class="anchor-heading" href="#before"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Before</h4>
<ul>
<li>the constraints will not-yet have been checked, allowing us to perform some action before the actual operation has taken place.
<ul>
<li>ex. Imagine we want to keep only one of the user's credit cards specified as <code>is_primary</code>. Because of the uniqueness constraints applied on the table (allowing only one <code>is_primary</code> card per user), we must set <code>is_primary</code> to <code>false</code> for all of our cards, any time the user attempts to insert a new card where <code>is_primary</code> is true. 
<ul>
<li>If we had instead ran the trigger <em>after</em> the <code>insert</code>, then we might have gotten an error, since we are potentially trying to insert a new card with <code>is_primary = true</code>, while one may already exist.</li>
</ul>
</li>
</ul>
</li>
<li>If the trigger fires before the event, the trigger can skip the operation for the current row, or change the row being inserted (for INSERT and UPDATE operations only)</li>
<li>in <code>BEFORE</code>, the <code>WHEN</code> condition is evaluated just before the function is executed
<ul>
<li>Therefore, using <code>WHEN</code> (in the trigger itself) has the same effect as testing the same condition at the beginning of the triggered function with <code>TG_WHEN</code></li>
<li>The implication of this is that the <code>NEW</code> value seen by the function is the current value, and not the value that would exist <em>following</em> the operation
<ul>
<li>Also consider that while this "current value" normally means "prior to the operation being performed", there is the possibility that previous triggers in the chain have already executed, potentially changing what "current value" means to us.</li>
</ul>
</li>
<li>Another implication is that in <code>BEFORE</code>, a trigger's <code>WHEN</code> condition cannot examine the columns of the <code>NEW</code> row that is to be inserted/updated (because they wouldn't have been set yet)</li>
</ul>
</li>
</ul>
<h4 id="after"><a aria-hidden="true" class="anchor-heading" href="#after"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>After</h4>
<ul>
<li>rows will be impacted with consideration to the constraints</li>
<li>If the trigger fires after the event, all changes, including the effects of other triggers, are "visible" to the trigger.</li>
<li>in <code>AFTER</code>, the <code>WHEN</code> condition is evaluated after the row update occurs.
<ul>
<li>The <code>WHEN</code> condition here also determines whether an event is queued to fire a trigger, following the operation.
<ul>
<li>Therefore, if <code>WHEN</code> does not return true, we do not have to queue an event; nor to re-fetch the row at the end of the statement
<ul>
<li>This can result in significant speedups in statements that modify many rows, if the trigger only needs to be fired for a few of the rows.</li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h2 id="trigger-function"><a aria-hidden="true" class="anchor-heading" href="#trigger-function"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Trigger Function</h2>
<p>Depending on if we are using row-level triggers or table-level triggers, the function will be called for each row that is affected, or will be called once per table.</p>
<p>A trigger function must return either <code>NULL</code> or a row value having exactly the structure of the table the trigger was fired for.</p>
<ul>
<li>
<p>ie. the the row being returned must have the same type of the table.</p>
</li>
<li>
<p>a trigger function returns a <code>trigger</code></p>
</li>
<li>
<p>if a trigger function updates a row in the same table that the trigger is for and the operation is the same, then it will trigger a recursive infinite loop, since the trigger function will cause the trigger to fire in response to the </p>
<ul>
<li>ex. we have a trigger that is set to fire on update of <code>users</code> table, and the trigger function itself updates a row in that table. This update, will cause the trigger to fire again, and so on.</li>
</ul>
</li>
</ul>
<h3 id="return-value-of-trigger-functions"><a aria-hidden="true" class="anchor-heading" href="#return-value-of-trigger-functions"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Return value of trigger functions</h3>
<p><code>BEFORE</code></p>
<ul>
<li>if we return <code>null</code> from the function, we are signalling to the trigger manager signal that we want to skip the rest of the operation for this row, meaning 2 things happen:
<ol>
<li>subsequent triggers will be short-circuited </li>
<li>the operation will not occur for this row.</li>
</ol>
</li>
<li>if we return a non-<code>null</code> value, then the operation proceeds with that value. 
<ul>
<li>returning a row value that is different from the original value of <code>NEW</code> will alter the row to be inserted/updated
<ul>
<li>Therefore, if we want the trigger to succeed normally without altering the <code>NEW</code> row value, then we must return <code>NEW</code>
<ul>
<li>This means that we could alter single columns in the row, with <code>NEW.col = X</code>, and proceeding to return <code>NEW</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li>a statement-level trigger fired <code>BEFORE</code> always ignores the return value of the trigger function, so it might as well be <code>null</code>.</li>
</ul>
<p><code>AFTER</code></p>
<ul>
<li>return value of a row-level trigger (or statement-level trigger) fired <code>AFTER</code> will always be ignored, so it might as well be <code>null</code></li>
</ul>
<h3 id="trigger-local-variables"><a aria-hidden="true" class="anchor-heading" href="#trigger-local-variables"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Trigger Local Variables</h3>
<p>A function called by a trigger receives data about its calling environment (called <code>TriggerData</code>)</p>
<ul>
<li>prefixed by <code>TG_</code></li>
</ul>
<p><code>NEW</code> </p>
<ul>
<li>variable holding the new database row for INSERT/UPDATE operations in row-level triggers</li>
<li>type: <code>record</code></li>
<li>in statement-level triggers and <code>DELETE</code> operations, this value is <code>null</code>
<ul>
<li>this shows why we can return <code>null</code> from the trigger function on <code>DELETE</code> operations. There is nothing to return to the table!</li>
<li>must still return a non-<code>null</code> value from a DELETE trigger function, or we will short-circuit the trigger action. Normally, <code>OLD</code> is returned, since <code>NEW</code> is null</li>
</ul>
</li>
</ul>
<p><code>OLD</code></p>
<ul>
<li>variable holding the old database row for UPDATE/DELETE operations in row-level triggers</li>
<li>type: <code>record</code></li>
<li>in statement-level triggers and <code>INSERT</code> operations, this value is <code>null</code></li>
</ul>
<p><code>TG_WHEN</code></p>
<ul>
<li>evaluates to BEFORE, AFTER, or INSTEAD OF, depending on the trigger's definition.</li>
<li>type: <code>text</code></li>
</ul>
<p><code>TG_OP</code></p>
<ul>
<li>evaluates to INSERT, UPDATE, DELETE, or TRUNCATE telling for which operation the trigger was fired.</li>
<li>type: <code>text</code></li>
</ul>
<p><code>TG_ARGV</code></p>
<ul>
<li>the arguments passed in to the trigger's function call</li>
<li>type: <code>text[]</code></li>
</ul>
<p>Also
<code>TG_TABLE_NAME</code>, <code>TG_TABLE_SCHEMA</code>, <code>TG_NARGS</code> (# of args)</p></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#trigger" title="Trigger">Trigger</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#syntax" title="Syntax">Syntax</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#parts-of-a-trigger" title="Parts of a Trigger">Parts of a Trigger</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#trigger-1" title="Trigger">Trigger</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#beforeafter-triggers" title="Before/After Triggers">Before/After Triggers</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#before" title="Before">Before</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#after" title="After">After</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#trigger-function" title="Trigger Function">Trigger Function</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#return-value-of-trigger-functions" title="Return value of trigger functions">Return value of trigger functions</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#trigger-local-variables" title="Trigger Local Variables">Trigger Local Variables</a></div></div></div></div></div></div></div></div></div></main><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></section></section></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"nsG0iCcMBCUc5J4mxTA8T","title":"Triggers","desc":"","updated":1636742857238,"created":1614835076700,"custom":{},"fname":"pg.lang.triggers","type":"note","vault":{"fsPath":"../main/tech","name":"tech"},"contentHash":"70d6615d2330e0445486a357da5a0433","links":[],"anchors":{"trigger":{"type":"header","text":"Trigger","value":"trigger","line":8,"column":0,"depth":1},"syntax":{"type":"header","text":"Syntax","value":"syntax","line":25,"column":0,"depth":2},"parts-of-a-trigger":{"type":"header","text":"Parts of a Trigger","value":"parts-of-a-trigger","line":41,"column":0,"depth":1},"trigger-1":{"type":"header","text":"Trigger","value":"trigger-1","line":44,"column":0,"depth":2},"beforeafter-triggers":{"type":"header","text":"Before/After Triggers","value":"beforeafter-triggers","line":46,"column":0,"depth":3},"before":{"type":"header","text":"Before","value":"before","line":50,"column":0,"depth":4},"after":{"type":"header","text":"After","value":"after","line":61,"column":0,"depth":4},"trigger-function":{"type":"header","text":"Trigger Function","value":"trigger-function","line":69,"column":0,"depth":2},"return-value-of-trigger-functions":{"type":"header","text":"Return value of trigger functions","value":"return-value-of-trigger-functions","line":79,"column":0,"depth":3},"trigger-local-variables":{"type":"header","text":"Trigger Local Variables","value":"trigger-local-variables","line":93,"column":0,"depth":3}},"children":[],"parent":"OV4weBB6tmbhEK7I4R8Jm","data":{}},"body":"\u003ch1 id=\"triggers\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#triggers\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eTriggers\u003c/h1\u003e\n\u003ch1 id=\"trigger\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#trigger\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eTrigger\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003ea callback that is executed whenever a table (or view) is modified. Triggers can also be set to listen for specific user actions much like a callback.\n\u003cul\u003e\n\u003cli\u003eCan also be set up to be executed by using the INSTEAD OF condition.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e2 main types of trigger:\n\u003col\u003e\n\u003cli\u003erow-level trigger\u003c/li\u003e\n\u003cli\u003estatement-level trigger\u003c/li\u003e\n\u003c/ol\u003e\n\u003cul\u003e\n\u003cli\u003ethe difference between these two is in how many times each would be called in response to an event. \n\u003cul\u003e\n\u003cli\u003eex. if you issue an UPDATE statement that affects 20 rows, the row-level trigger will be invoked 20 times, while the statement level trigger will be invoked 1 time.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eexamples\n\u003cul\u003e\n\u003cli\u003erestrict DML (actions that modify the db) operations to business hours \u003c/li\u003e\n\u003cli\u003eAutomatically generate derived column values\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eYou can think of a trigger like a middleware that sits between the user's request (that interacts with the db) and the sql server. Every time our db is interacted with, listeners are able \"intercept\" the query and act on it\u003c/li\u003e\n\u003cli\u003eMost triggers are only activated by either INSERT or UPDATE statements.\u003c/li\u003e\n\u003cli\u003eWe can specify columns on a trigger, which will cause the trigger to only fire if those columns are operated on (ex. we update those columns)\u003c/li\u003e\n\u003cli\u003eIf multiple triggers of the same kind are defined for the same event, they will be fired in alphanumerical order.\n\u003cul\u003e\n\u003cli\u003ewhich is why it is useful to prepend them with numbers\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"syntax\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#syntax\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eSyntax\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eA trigger that is marked \u003ccode\u003eFOR EACH ROW\u003c/code\u003e is called once for every row that the operation modifies.\u003c/li\u003e\n\u003cli\u003ea trigger that is marked \u003ccode\u003eFOR EACH STATEMENT\u003c/code\u003e only executes once for any given operation\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eWHEN\u003c/code\u003e allows us to determine whether or not the trigger should be fired\n\u003cul\u003e\n\u003cli\u003eIn row-level triggers the \u003ccode\u003eWHEN\u003c/code\u003e condition can examine the old and/or new values of columns of the row\u003c/li\u003e\n\u003cli\u003eex. only execute the function if \u003ccode\u003eOLD.balance\u003c/code\u003e does not equal \u003ccode\u003eNEW.balance\u003c/code\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eWHEN (OLD.balance IS DISTINCT FROM NEW.balance)\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eex. only execute function if anything has changed\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eWHEN (OLD.* IS DISTINCT FROM NEW.*)\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eCONSTRAINT\u003c/code\u003e allows us to adjust the timing of when the trigger actually fires.\n\u003cul\u003e\n\u003cli\u003eThe trigger can be fired either:\n\u003cul\u003e\n\u003cli\u003eAt the end of the statement which caused the triggering event\u003c/li\u003e\n\u003cli\u003eAt the end of the containing transaction, which is the \u003ccode\u003eCOMMIT\u003c/code\u003e (called deferred triggers)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eEach constraint has its own IMMEDIATE or DEFERRED mode.\u003c/li\u003e\n\u003cli\u003eonly available \u003ccode\u003eAFTER ROW\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"parts-of-a-trigger\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#parts-of-a-trigger\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eParts of a Trigger\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e2 parts to a trigger: the trigger itself, and the function that is executed by the trigger\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"trigger-1\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#trigger-1\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eTrigger\u003c/h2\u003e\n\u003ch3 id=\"beforeafter-triggers\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#beforeafter-triggers\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eBefore/After Triggers\u003c/h3\u003e\n\u003cp\u003eThe trigger can be specified to fire before the operation is attempted on a row, or after the operation has completed (after constraints are checked and the INSERT, UPDATE, or DELETE has completed)\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eTrigger can also be set to fire \u003cem\u003einstead of\u003c/em\u003e having the operation be performed. This only works on views\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"before\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#before\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eBefore\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003ethe constraints will not-yet have been checked, allowing us to perform some action before the actual operation has taken place.\n\u003cul\u003e\n\u003cli\u003eex. Imagine we want to keep only one of the user's credit cards specified as \u003ccode\u003eis_primary\u003c/code\u003e. Because of the uniqueness constraints applied on the table (allowing only one \u003ccode\u003eis_primary\u003c/code\u003e card per user), we must set \u003ccode\u003eis_primary\u003c/code\u003e to \u003ccode\u003efalse\u003c/code\u003e for all of our cards, any time the user attempts to insert a new card where \u003ccode\u003eis_primary\u003c/code\u003e is true. \n\u003cul\u003e\n\u003cli\u003eIf we had instead ran the trigger \u003cem\u003eafter\u003c/em\u003e the \u003ccode\u003einsert\u003c/code\u003e, then we might have gotten an error, since we are potentially trying to insert a new card with \u003ccode\u003eis_primary = true\u003c/code\u003e, while one may already exist.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eIf the trigger fires before the event, the trigger can skip the operation for the current row, or change the row being inserted (for INSERT and UPDATE operations only)\u003c/li\u003e\n\u003cli\u003ein \u003ccode\u003eBEFORE\u003c/code\u003e, the \u003ccode\u003eWHEN\u003c/code\u003e condition is evaluated just before the function is executed\n\u003cul\u003e\n\u003cli\u003eTherefore, using \u003ccode\u003eWHEN\u003c/code\u003e (in the trigger itself) has the same effect as testing the same condition at the beginning of the triggered function with \u003ccode\u003eTG_WHEN\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eThe implication of this is that the \u003ccode\u003eNEW\u003c/code\u003e value seen by the function is the current value, and not the value that would exist \u003cem\u003efollowing\u003c/em\u003e the operation\n\u003cul\u003e\n\u003cli\u003eAlso consider that while this \"current value\" normally means \"prior to the operation being performed\", there is the possibility that previous triggers in the chain have already executed, potentially changing what \"current value\" means to us.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eAnother implication is that in \u003ccode\u003eBEFORE\u003c/code\u003e, a trigger's \u003ccode\u003eWHEN\u003c/code\u003e condition cannot examine the columns of the \u003ccode\u003eNEW\u003c/code\u003e row that is to be inserted/updated (because they wouldn't have been set yet)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch4 id=\"after\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#after\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eAfter\u003c/h4\u003e\n\u003cul\u003e\n\u003cli\u003erows will be impacted with consideration to the constraints\u003c/li\u003e\n\u003cli\u003eIf the trigger fires after the event, all changes, including the effects of other triggers, are \"visible\" to the trigger.\u003c/li\u003e\n\u003cli\u003ein \u003ccode\u003eAFTER\u003c/code\u003e, the \u003ccode\u003eWHEN\u003c/code\u003e condition is evaluated after the row update occurs.\n\u003cul\u003e\n\u003cli\u003eThe \u003ccode\u003eWHEN\u003c/code\u003e condition here also determines whether an event is queued to fire a trigger, following the operation.\n\u003cul\u003e\n\u003cli\u003eTherefore, if \u003ccode\u003eWHEN\u003c/code\u003e does not return true, we do not have to queue an event; nor to re-fetch the row at the end of the statement\n\u003cul\u003e\n\u003cli\u003eThis can result in significant speedups in statements that modify many rows, if the trigger only needs to be fired for a few of the rows.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"trigger-function\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#trigger-function\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eTrigger Function\u003c/h2\u003e\n\u003cp\u003eDepending on if we are using row-level triggers or table-level triggers, the function will be called for each row that is affected, or will be called once per table.\u003c/p\u003e\n\u003cp\u003eA trigger function must return either \u003ccode\u003eNULL\u003c/code\u003e or a row value having exactly the structure of the table the trigger was fired for.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\n\u003cp\u003eie. the the row being returned must have the same type of the table.\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003ea trigger function returns a \u003ccode\u003etrigger\u003c/code\u003e\u003c/p\u003e\n\u003c/li\u003e\n\u003cli\u003e\n\u003cp\u003eif a trigger function updates a row in the same table that the trigger is for and the operation is the same, then it will trigger a recursive infinite loop, since the trigger function will cause the trigger to fire in response to the \u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eex. we have a trigger that is set to fire on update of \u003ccode\u003eusers\u003c/code\u003e table, and the trigger function itself updates a row in that table. This update, will cause the trigger to fire again, and so on.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"return-value-of-trigger-functions\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#return-value-of-trigger-functions\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eReturn value of trigger functions\u003c/h3\u003e\n\u003cp\u003e\u003ccode\u003eBEFORE\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eif we return \u003ccode\u003enull\u003c/code\u003e from the function, we are signalling to the trigger manager signal that we want to skip the rest of the operation for this row, meaning 2 things happen:\n\u003col\u003e\n\u003cli\u003esubsequent triggers will be short-circuited \u003c/li\u003e\n\u003cli\u003ethe operation will not occur for this row.\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003eif we return a non-\u003ccode\u003enull\u003c/code\u003e value, then the operation proceeds with that value. \n\u003cul\u003e\n\u003cli\u003ereturning a row value that is different from the original value of \u003ccode\u003eNEW\u003c/code\u003e will alter the row to be inserted/updated\n\u003cul\u003e\n\u003cli\u003eTherefore, if we want the trigger to succeed normally without altering the \u003ccode\u003eNEW\u003c/code\u003e row value, then we must return \u003ccode\u003eNEW\u003c/code\u003e\n\u003cul\u003e\n\u003cli\u003eThis means that we could alter single columns in the row, with \u003ccode\u003eNEW.col = X\u003c/code\u003e, and proceeding to return \u003ccode\u003eNEW\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003ea statement-level trigger fired \u003ccode\u003eBEFORE\u003c/code\u003e always ignores the return value of the trigger function, so it might as well be \u003ccode\u003enull\u003c/code\u003e.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003eAFTER\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ereturn value of a row-level trigger (or statement-level trigger) fired \u003ccode\u003eAFTER\u003c/code\u003e will always be ignored, so it might as well be \u003ccode\u003enull\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"trigger-local-variables\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#trigger-local-variables\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eTrigger Local Variables\u003c/h3\u003e\n\u003cp\u003eA function called by a trigger receives data about its calling environment (called \u003ccode\u003eTriggerData\u003c/code\u003e)\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eprefixed by \u003ccode\u003eTG_\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003eNEW\u003c/code\u003e \u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003evariable holding the new database row for INSERT/UPDATE operations in row-level triggers\u003c/li\u003e\n\u003cli\u003etype: \u003ccode\u003erecord\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003ein statement-level triggers and \u003ccode\u003eDELETE\u003c/code\u003e operations, this value is \u003ccode\u003enull\u003c/code\u003e\n\u003cul\u003e\n\u003cli\u003ethis shows why we can return \u003ccode\u003enull\u003c/code\u003e from the trigger function on \u003ccode\u003eDELETE\u003c/code\u003e operations. There is nothing to return to the table!\u003c/li\u003e\n\u003cli\u003emust still return a non-\u003ccode\u003enull\u003c/code\u003e value from a DELETE trigger function, or we will short-circuit the trigger action. Normally, \u003ccode\u003eOLD\u003c/code\u003e is returned, since \u003ccode\u003eNEW\u003c/code\u003e is null\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003eOLD\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003evariable holding the old database row for UPDATE/DELETE operations in row-level triggers\u003c/li\u003e\n\u003cli\u003etype: \u003ccode\u003erecord\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003ein statement-level triggers and \u003ccode\u003eINSERT\u003c/code\u003e operations, this value is \u003ccode\u003enull\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003eTG_WHEN\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eevaluates to BEFORE, AFTER, or INSTEAD OF, depending on the trigger's definition.\u003c/li\u003e\n\u003cli\u003etype: \u003ccode\u003etext\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003eTG_OP\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eevaluates to INSERT, UPDATE, DELETE, or TRUNCATE telling for which operation the trigger was fired.\u003c/li\u003e\n\u003cli\u003etype: \u003ccode\u003etext\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e\u003ccode\u003eTG_ARGV\u003c/code\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ethe arguments passed in to the trigger's function call\u003c/li\u003e\n\u003cli\u003etype: \u003ccode\u003etext[]\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eAlso\n\u003ccode\u003eTG_TABLE_NAME\u003c/code\u003e, \u003ccode\u003eTG_TABLE_SCHEMA\u003c/code\u003e, \u003ccode\u003eTG_NARGS\u003c/code\u003e (# of args)\u003c/p\u003e","noteIndex":{"id":"olZIVfSs2uLLr3BppFh4K","title":"Root","desc":"","updated":1618676699718,"created":1615482407722,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"../main/tech","name":"tech"},"contentHash":"777fb4dab9bcf63cbfe772245d7e4871","links":[],"anchors":{"digital-garden":{"type":"header","text":"Digital Garden","value":"digital-garden","line":8,"column":0,"depth":1}},"children":["zFMjbn3xihVNHjUIdZCD1","IK6NOKemuDjhfstJBovKL","RS8qp1GxwtiJopCUHTTtq","ZaTr28eWk1DrXOEsc1YVb","Vi0WYVLZunVM9iR8XZJn3","ngAbg7gluvbt1bY1UIRsi","RCPPXSakm5TvKka8kOmVp","MPx8ykTP57I40WTZvTP7f","ZU5WmdTG1bHoE8RcmZXZG","jqWiyYJff92RjXuUQt9PQ","KihijM8OQvZ4pASkkhqzL","F9vyqvls3OBCujtukqKhy","facc2b01-755a-409f-99f6-57bef2d1501f","m5ov42Vm6mR7RQWTvl1NW","YYt62mSW964cwb5nP0hva","PZxxZ4iESzSlbbHJKxuAZ","UDu62Pa6BaRqlG8uGoMhy","nMCtMXVvjBsJk3iw1zoIO","ANfx9Z4a6ZA0uJuSHtbIJ","BkG557LKUYbH1DnxprEVT","1TaH8zDTM98FZ9SYaeXLM","dc79799f-a55d-48ab-a8be-c48adb1b19c0","f6feef57-b8f5-451f-a09a-7b63f6a07183","4sz47Y0LKs1Si73rWtyyh","5a9fb1df-478e-4687-9be0-5cb97e61ec57","1374e9e9-1cbc-4e1f-b1ca-66b8569533dd","f529cc34-aba0-45ca-ad7e-02ddda318941","0zcauha3il2NqtxZazIo7","9bbd6f68-03b2-41f4-92e4-2ca313e8b450","5a2ab598-fa7e-4471-8bda-9f5831b679ae","uV6w4mZPoohWyZV4Xaad0","RgE0mZLaUjPftFPZsiAoe","mytCOts26Pidush65tdRW","fwUzxfLSPMH1eL8oBoLWx","TbW7PM9bg1y5TGkiWwQ8b","xiSIDeEtIc8X0lpUQlppI","0jxgntiLNHWFuCbzqtFGF","GkdMprLUe4QQULBxmGN6V","4SYc6v5hxY5g6Ip6kjpwO","fqVQpS9FBiXgKsZX3R3sJ","L5JUZlGAGvTxrsEBB7DY8","963c4b54-02bd-4943-a15f-52cf59ffd0f4","TeTedoeS2LdHPR632eCpM","e65188a1-177e-4ab2-99f9-75f85d537621","fajYnbVhCRDi74xn0H30R","bArGdGwqo3iFkyKMyE7qR","4Dcp7gbEVoLLgfu7bXFai","5d700782-fb81-416e-83f9-5dd88260e350","zubgzhNFE6KlTgXcjTz6O","8lpdfWa0cbSq1XJQbcYcY","17I8ZksXvqCH1mRtZDjHp","kF916Ow84qpJJeMRkWMIo","tMLkLcrIHHBz56xVmBLkP","CSePBQ6q7qhowKESqVwt7","laZ4OfLhZNK1Kuy6GaWUr","z5IJblOknQhMzZ5QZh4ye","N36FHxfxzwJfxDY3miWyX","3bb25f58-2b50-4fa3-af55-48ea9f88a081","aOqNcxZh8qN4MoBJcvGTc","u93Rz4fEWGu6VBR30Zraf","9hjMHnKvYT4jLKvuDSXaV","LgW7mTIALODoXc54B3p6S","UYPxfHBFWX7fb6hHU5bB6","qxSOd6SPN8qf9ZUojVFDX","WQoMTf6VXBaxCgksXAVsj","2Mw4XgfyCHXHNOX5yoCIY","UFrwsXzC1yr7Ge8FF8Vbo","a8edc4ac-028b-40ec-872a-e4a005b04b2a","0XJqmcdtcMZu66glBI5O8","lK8r8BXS4ThiUTe4xKIZe","93de42ca-53ea-460a-baa7-b9ec5c47cb1e","Rxs2jaGpdFzqYtP7lAJFJ","aO8W81Z0PyIb6Hs7nOHPW","I01hENHnh8Tqu3Ok8sLzG","evqsPNutOaZ8hcBCqxFQu","zhhxcjZUHdU8uRLwGb9Zh","G1aFACZB2ooWGMGwyd3ZW","YWy1C4tgoaCcw1m8JJsr7","Szj3o5iaNxPpesiCqwrbu","XhvCDW3fIw6h6MhY5ticq","Q70g7SusFZBQXzkuQifv4","AzfWDH3wp7jFpL2EYxBcW","y0fwpZ9qMqirsLiFyOciU","ZF8xj8wwDUqKlrwTrCFZ1","tAJvhqhdfyZZa87QHq1TU","4hRmipi8lxpBLyzWu5JVB","iTg0C7QjvnmqBZeEigJNs","3babc3d2-79ae-470a-9c06-ab8bba2e684e","bF3UsMFya3fMeXWDspVov","ULkfbL9WpktbVYnzhl6Jw","PpNOO8JYWe6dM8wruSa7x","di40pCxDn7IiqE8lFdD46","rmW0mkerqV35I8QPji6lM","3IFIK1ByzeIxZCByryGLN","iImkYAKfkw3beAl6pLbDn","tho65KN0ZpjQlVvP1fEzM","ecDe8DNWrkeQTwpTEvHje","Yqhdd9mSJGN7OJOeyoSD2","NEhsoOfR7J6o01ielAuUm","Ws5tah8tpeyn9tK8VBTg8","Bqpifx2HX3vjLhX9yvhTV","gWAg15uBJgkS2B0wcpMAa","l7V3v2ep1YdDCt7DOr7Ci","yM2PJBdqJnHpD63cPA6sW","qn0bre7eLbi3QMbCfWkUi","fSu0KxFL41IRouotqmbHs","0gtg24Mj1a1bQFPRGQNlO","7iQPBMltLPLbFEz2qbjPu","yoh4pwoXcfELInGKRdYf6","dCGCWXgAmiOZXbdULT1m6","jMavlje07sNa6hSEIE8WA","Xxm0JE4dKHxrQAaZfzvxD","PAEBZCyFBZJyR7OoMZ41E","PQ6km8RgRCuyICBPOYz8f","2bhftt8rGuxYu4pFgNqru","hjYIZpHQWuXfeEoGeJEKW","K2M9bQqVq2eQfm29eslKL","X8obW1iKwYsvNgKWGyCzy","yJwSC7hqYIezTFHf5i0Ev","c4Z7ETcOHUILRMH32Sfjw","qiR6dIu857b9M9kTqjOyK","8vflbCVkwZtYcqdDDTNAz","Ku1OgHMhELajzo61Gx7ye","LUrfhDWo8wuwZu7CN9TV8","osu6JGOnvXJ5gt3tpqWZY","1a6173cd-cf13-4b34-a522-8350bf9a364f","ZgCUp366YrF2Tyky2NT73","S2sBltrPfd8a7ICuD7CuH","oWCuBXOg6JWfZzjmKxmNl","jOmhZ8ovLYTPbpM1vqSDx","FraC6xzLy1ei91l1ICyc9","6ceBas2RE9Q4787GDngH7","734cd78d-0bc9-426b-803d-1efc84dfffe5","k4Bb09px6r0FxIRs49SXV","oaG3H1S9IUBO644nGZigu","Ka7agQJkUMRSWN0uFdkWK","si3z090WsiLasMhJBa1Az","ljKAVERmdEiKLK9hXGKBm","LIcuGYV0DDt1VWbvH6Sed","MgUSrpNCIwDOW4fX3vPOF","bZumdyapJ2H0wWWOmJ45i","QHXEIyeZGIGMVi5Q52UWI","i5Fya3Vzzm0rBT0ctByuo"],"parent":null,"data":{},"body":"\n# Digital Garden\n\nThis Wiki of Personal Information is organized according to domains and their\nsub-domains, along with specific implementation of those domains.\n\nFor instance, Git itself is a domain. Sub-domains of Git, would be `commit`,\n`tags`, `reflog` etc. implementations of each of those could be `cli`, `strat`\n(strategies), `inner` etc.\n\nThe goal of the wiki is to present data in a manner that is from the perspective\nof a querying user. Here, a user is a programmer wanting to get key information\nfrom a specific domain. For instance, if a user wants to use postgres functions\nand hasn't done them in a while, they should be able to query\n`postgres.functions` to see what information is available to them.\n\nThis wiki has been written with myself in mind. While learning each of these\ndomains, I have been sensitive to the \"aha\" moments and have noted down my\ninsights as they arose. I have refrained from capturing information that I\nconsidered obvious or otherwise non-beneficial to my own understanding.\n\nThe ability I hope to gain from this wiki is the ability to step away from any\ngiven domain for a long period of time, and be able to be passably useful for\nwhatever my goals are within a short period of time. Of course, this is all\nvague sounding, and really depends on the domain, along with the ends I am\ntrying to reach.\n\nTo achieve this, the system should be steadfast to:\n- be able to put information in relatively easily, without too much thought\n\trequired to make that determination.\n- be able to extract the information that we need, meaning there is a\n\thigh-degree in confidence in the location of the information. The idea is\n\tthat information loses a large amount of its value when it is unfindable.\n\tTherefore, a relatively strict ideology should be used when determining\n\twhere a piece of information belongs.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":3,"useFMTitle":true,"useNoteTitleForLink":true,"noLegacyNoteRef":true,"mermaid":true,"useKatex":true,"dev":{"enablePreviewV2":true},"site":{"assetsPrefix":"/Digital-Garden","siteUrl":"https://tycholiz.github.io","copyAssets":true,"siteHierarchies":["root"],"siteRootDir":"docs","usePrettyRefs":true,"title":"Dendron","description":"Publishable tech notes","duplicateNoteBehavior":{"action":"useVault","payload":["tech"]},"siteLastModified":true,"gh_edit_branch":"main","usePrettyLinks":true,"siteNotesDir":"notes","siteFaviconPath":"favicon.ico","gh_edit_link":true,"gh_edit_link_text":"Edit this page on GitHub","gh_root":"docs/","gh_edit_view_mode":"edit","writeStubs":true,"siteIndex":"root"},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{}},"workspace":{"dendronVersion":"0.67.1","vaults":[{"fsPath":"../main/tech","name":"tech"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"enableUserTags":true,"enableHashTags":true},"usePrettyRefs":true}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"nsG0iCcMBCUc5J4mxTA8T"},"buildId":"s-Pdpb0Y8fVIEUakhzEMN","assetPrefix":"/Digital-Garden","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>