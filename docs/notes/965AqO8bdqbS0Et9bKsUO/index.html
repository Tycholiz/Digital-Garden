<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="icon" href="/favicon.ico"/><title>Test Double</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Publishable tech notes"/><meta property="og:title" content="Test Double"/><meta property="og:description" content="Publishable tech notes"/><meta property="og:url" content="https://tycholiz.github.io/Digital-Garden/notes/965AqO8bdqbS0Et9bKsUO/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="12/6/2021"/><meta property="article:modified_time" content="12/7/2021"/><link rel="canonical" href="https://tycholiz.github.io/Digital-Garden/notes/965AqO8bdqbS0Et9bKsUO/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/Digital-Garden/_next/static/css/804c5fc85a5d7e04.css" as="style"/><link rel="stylesheet" href="/Digital-Garden/_next/static/css/804c5fc85a5d7e04.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/Digital-Garden/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/Digital-Garden/_next/static/chunks/webpack-d53c65e15128d807.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/framework-dc33c0b5493501f0.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/main-9409ea3202b3ee44.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/pages/_app-585c2573c1834e35.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/155-0a8d44b6408c244d.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/pages/notes/%5Bid%5D-30a63e62504f2dc5.js" defer=""></script><script src="/Digital-Garden/_next/static/s-Pdpb0Y8fVIEUakhzEMN/_buildManifest.js" defer=""></script><script src="/Digital-Garden/_next/static/s-Pdpb0Y8fVIEUakhzEMN/_ssgManifest.js" defer=""></script><script src="/Digital-Garden/_next/static/s-Pdpb0Y8fVIEUakhzEMN/_middlewareManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div class="ant-col ant-col-xs-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"></div><div class="ant-col ant-col-xs-12"></div><div style="margin-left:4px;display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout site-layout" style="margin-top:64px"><section class="ant-layout site-layout" style="flex-direction:row"><section class="ant-layout site-layout-sidebar" style="flex:0 0 auto;width:calc((100% - 992px) / 2 + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></section><section class="ant-layout side-layout-main" style="max-width:1200px;display:initial"><main class="ant-layout-content main-content" role="main" style="padding:0 24px"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="test-double"><a aria-hidden="true" class="anchor-heading" href="#test-double"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Test Double</h1>
<p>Often, in order to test a module in isolation we need other modules that help the main module perform its action. In cases such as these, we need <em>test doubles</em> to stand in for the actual modules.</p>
<p>The word “mock” is often used in an informal way to refer to Test Doubles.</p>
<ul>
<li>Semantically speaking, a "real mock" refers to the kind described below. In colloquial parlance, it refers indiscriminately to all 5.</li>
</ul>
<p>There are 5 types of Test Double:</p>
<ul>
<li><a href="/Digital-Garden/notes/otxChSDHzNWESFUFx6U4y">Dummy</a> objects</li>
<li><a href="/Digital-Garden/notes/KYcFflB8k11EN5OiM3Af1">Fake</a> objects</li>
<li><a href="/Digital-Garden/notes/m0KzcQACLje5KS1v61t7v">Stubs</a></li>
<li><a href="/Digital-Garden/notes/4gVYCsW8AJjv9DGE8TJdr">Spies</a></li>
<li><a href="/Digital-Garden/notes/JUu4GPp6TBnRJBbzNQbFw">Mocks</a> are what we are talking about here: objects pre-programmed with expectations which form a specification of the calls they are expected to receive.</li>
</ul>
<p>All Test Doubles can and usually do state verification, but only mocks insist upon behavior verification.</p>
<p>Test Doubles need to make the SUT believe it's talking with its real collaborators.</p>
<p><a href="/Digital-Garden/notes/m0KzcQACLje5KS1v61t7v">Stubs</a> and <a href="/Digital-Garden/notes/4gVYCsW8AJjv9DGE8TJdr">Spies</a> can probably cover most use-cases for test doubles.</p>
<p><em>"stubs and spies are very easy to write. The IDE makes it trivial. You just point at the interface and tell the IDE to implement it. Voila! It gives you a dummy. Then you just make a simple modification and turn it into a stub or a spy. So you seldom need an actual mocking tool."</em></p>
<h2 id="authorizer-example"><a aria-hidden="true" class="anchor-heading" href="#authorizer-example"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Authorizer example</h2>
<p>Imagine we had a <code>System</code> class, which accepts an <code>Authorizer</code> as a parameter. That is, when we instantiate a new <code>system</code> object, it is associated with some <code>authorizer</code>. Different Test Doubles are used depending on what we want to do in the test.</p>
<pre class="language-java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AcceptingAuthorizerStub</span> <span class="token keyword">implements</span> <span class="token class-name">Authorizer</span> <span class="token punctuation">{</span>
  <span class="token keyword">public</span> <span class="token class-name">Boolean</span> <span class="token function">login</span><span class="token punctuation">(</span><span class="token class-name">String</span> username<span class="token punctuation">,</span> <span class="token class-name">String</span> password<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">System</span> <span class="token punctuation">{</span>
	<span class="token keyword">public</span> <span class="token class-name">System</span><span class="token punctuation">(</span><span class="token class-name">Authorizer</span> authorizer<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>authorizer <span class="token operator">=</span> authorizer<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">loginCount</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">//returns number of logged in users.</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>While testing the <code>System</code> class, if we:</p>
<ul>
<li>don't even care about the <code>authorizer</code> object (since we are not calling any of its methods within the test), we would use a dummy.</li>
<li>wanted to simply return <code>true</code> for the <code>authorizer.login()</code> method, we would use a stub.
<ul>
<li>here, we just want to know that we are logged in so we can test the parts of the <code>System</code> that require us to be logged in.</li>
</ul>
</li>
<li>want to assert that the <code>login()</code> method was called by the <code>authorizer</code> object, we would use a spy.</li>
</ul>
<hr>
<h3 id="mocking-vs-stubbing"><a aria-hidden="true" class="anchor-heading" href="#mocking-vs-stubbing"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Mocking vs Stubbing</h3>
<p>A stub is a simple fake object. It just makes sure test runs smoothly.
A mock can be thought of as a smarter stub. You verify your test passes through it.</p>
<p>Mocks are used to assert and should never return data, stubs are used to return data and should never assert.</p>
<p>A Mock is interaction-based; Stubs are state-based.</p>
<ul>
<li>This means you don't expect from Mock to return some value, but to assume that specific order of method calls are made.</li>
</ul>
<p>Stubs test how your SUT handles receiving messages, mocks test how your SUT sends messages.</p>
<p>a stub returns answers to questions. A mock also returns answers to questions, but it also verifies that the question was asked</p>
<p>there may be several stubs in one test, but generally there is only one mock.</p>
<p>A Stub is written with predetermined behavior.</p>
<ul>
<li>The idea is you would have a class that implements the dependency (abstract class or interface most likely) you are faking for testing purposes and the methods would just be stubbed out with set responses. They would not do anything fancy and you would have already written the stubbed code for it outside of your test.</li>
</ul>
<p>Stubs don't care that correct methods have been invoked in mock.</p>
<p>A mock is set up with the expectations.</p>
<ul>
<li>Mocks in a way are determined at runtime since the code that sets the expectations has to run before they do anything.</li>
</ul>
<p>Tests written with mocks usually follow an initialize -> set expectations -> exercise -> verify pattern to testing. While the pre-written stub would follow an initialize -> exercise -> verify.</p>
<p>Both mocks and stubs testing give an answer for the question: What is the result?
Testing with mocks are also interested in: How the result has been achieved?</p>
<h1 id="e-resources"><a aria-hidden="true" class="anchor-heading" href="#e-resources"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>E Resources</h1>
<p><a href="https://blog.cleancoder.com/uncle-bob/2014/05/14/TheLittleMocker.html">A conversation about "Mocking"</a></p>
<hr>
<h2 id="backlinks"><a aria-hidden="true" class="anchor-heading" href="#backlinks"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Backlinks</h2>
<ul>
<li><a href="/Digital-Garden/notes/LUrfhDWo8wuwZu7CN9TV8">Testing</a></li>
<li><a href="/Digital-Garden/notes/8gXG6fouQpxv69wSfhigo">Gateway</a></li>
<li><a href="/Digital-Garden/notes/T6WTZOnvtZHaXmeo5MrPy">Component Testing</a></li>
<li><a href="/Digital-Garden/notes/NfY3pvmOMzpQg8TKrUMGd">Contract Testing</a></li>
</ul>
<hr>
<h2 id="children"><a aria-hidden="true" class="anchor-heading" href="#children"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Children</h2>
<ol>
<li><a href="/Digital-Garden/notes/otxChSDHzNWESFUFx6U4y">Dummy</a></li>
<li><a href="/Digital-Garden/notes/KYcFflB8k11EN5OiM3Af1">Fake</a></li>
<li><a href="/Digital-Garden/notes/JUu4GPp6TBnRJBbzNQbFw">Mock</a></li>
<li><a href="/Digital-Garden/notes/4gVYCsW8AJjv9DGE8TJdr">Spy</a></li>
<li><a href="/Digital-Garden/notes/m0KzcQACLje5KS1v61t7v">Stub</a></li>
</ol></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#authorizer-example" title="Authorizer example">Authorizer example</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#mocking-vs-stubbing" title="Mocking vs Stubbing">Mocking vs Stubbing</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#e-resources" title="E Resources">E Resources</a></div></div></div></div></div></div></div></div></div></main><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></section></section></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"965AqO8bdqbS0Et9bKsUO","title":"Test Double","desc":"","updated":1638911542238,"created":1638828158984,"custom":{},"fname":"testing.test-double","type":"note","vault":{"fsPath":"../main/tech","name":"tech"},"contentHash":"fa491a49747be728a40863056259c4fb","links":[{"type":"wiki","from":{"fname":"testing.test-double","id":"965AqO8bdqbS0Et9bKsUO","vaultName":"tech"},"value":"testing.test-double.dummy","alias":"Dummy","position":{"start":{"line":8,"column":3,"offset":447},"end":{"line":8,"column":38,"offset":482},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"testing.test-double.dummy"}},{"type":"wiki","from":{"fname":"testing.test-double","id":"965AqO8bdqbS0Et9bKsUO","vaultName":"tech"},"value":"testing.test-double.fake","alias":"Fake","position":{"start":{"line":9,"column":3,"offset":493},"end":{"line":9,"column":36,"offset":526},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"testing.test-double.fake"}},{"type":"wiki","from":{"fname":"testing.test-double","id":"965AqO8bdqbS0Et9bKsUO","vaultName":"tech"},"value":"testing.test-double.stub","alias":"Stubs","position":{"start":{"line":10,"column":3,"offset":537},"end":{"line":10,"column":37,"offset":571},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"testing.test-double.stub"}},{"type":"wiki","from":{"fname":"testing.test-double","id":"965AqO8bdqbS0Et9bKsUO","vaultName":"tech"},"value":"testing.test-double.spy","alias":"Spies","position":{"start":{"line":11,"column":3,"offset":574},"end":{"line":11,"column":36,"offset":607},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"testing.test-double.spy"}},{"type":"wiki","from":{"fname":"testing.test-double","id":"965AqO8bdqbS0Et9bKsUO","vaultName":"tech"},"value":"testing.test-double.mock","alias":"Mocks","position":{"start":{"line":12,"column":3,"offset":610},"end":{"line":12,"column":37,"offset":644},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"testing.test-double.mock"}},{"type":"wiki","from":{"fname":"testing.test-double","id":"965AqO8bdqbS0Et9bKsUO","vaultName":"tech"},"value":"testing.test-double.stub","alias":"Stubs","position":{"start":{"line":18,"column":1,"offset":985},"end":{"line":18,"column":35,"offset":1019},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"testing.test-double.stub"}},{"type":"wiki","from":{"fname":"testing.test-double","id":"965AqO8bdqbS0Et9bKsUO","vaultName":"tech"},"value":"testing.test-double.spy","alias":"Spies","position":{"start":{"line":18,"column":40,"offset":1024},"end":{"line":18,"column":73,"offset":1057},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"testing.test-double.spy"}},{"from":{"fname":"testing","vaultName":"tech"},"type":"backlink","position":{"start":{"line":5,"column":1,"offset":371},"end":{"line":5,"column":25,"offset":395},"indent":[]},"value":"testing.test-double"},{"from":{"fname":"general.patterns.gateway","vaultName":"tech"},"type":"backlink","position":{"start":{"line":44,"column":54,"offset":3816},"end":{"line":44,"column":89,"offset":3851},"indent":[]},"value":"testing.test-double"},{"from":{"fname":"testing.method.component","vaultName":"tech"},"type":"backlink","position":{"start":{"line":8,"column":161,"offset":794},"end":{"line":8,"column":197,"offset":830},"indent":[]},"value":"testing.test-double"},{"from":{"fname":"testing.method.contract","vaultName":"tech"},"type":"backlink","position":{"start":{"line":20,"column":38,"offset":1538},"end":{"line":20,"column":73,"offset":1573},"indent":[]},"value":"testing.test-double"}],"anchors":{"authorizer-example":{"type":"header","text":"Authorizer example","value":"authorizer-example","line":28,"column":0,"depth":2},"mocking-vs-stubbing":{"type":"header","text":"Mocking vs Stubbing","value":"mocking-vs-stubbing","line":55,"column":0,"depth":3},"e-resources":{"type":"header","text":"E Resources","value":"e-resources","line":83,"column":0,"depth":1}},"children":["otxChSDHzNWESFUFx6U4y","KYcFflB8k11EN5OiM3Af1","JUu4GPp6TBnRJBbzNQbFw","4gVYCsW8AJjv9DGE8TJdr","m0KzcQACLje5KS1v61t7v"],"parent":"LUrfhDWo8wuwZu7CN9TV8","data":{}},"body":"\u003ch1 id=\"test-double\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#test-double\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eTest Double\u003c/h1\u003e\n\u003cp\u003eOften, in order to test a module in isolation we need other modules that help the main module perform its action. In cases such as these, we need \u003cem\u003etest doubles\u003c/em\u003e to stand in for the actual modules.\u003c/p\u003e\n\u003cp\u003eThe word “mock” is often used in an informal way to refer to Test Doubles.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eSemantically speaking, a \"real mock\" refers to the kind described below. In colloquial parlance, it refers indiscriminately to all 5.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThere are 5 types of Test Double:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"/Digital-Garden/notes/otxChSDHzNWESFUFx6U4y\"\u003eDummy\u003c/a\u003e objects\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/Digital-Garden/notes/KYcFflB8k11EN5OiM3Af1\"\u003eFake\u003c/a\u003e objects\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/Digital-Garden/notes/m0KzcQACLje5KS1v61t7v\"\u003eStubs\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/Digital-Garden/notes/4gVYCsW8AJjv9DGE8TJdr\"\u003eSpies\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/Digital-Garden/notes/JUu4GPp6TBnRJBbzNQbFw\"\u003eMocks\u003c/a\u003e are what we are talking about here: objects pre-programmed with expectations which form a specification of the calls they are expected to receive.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eAll Test Doubles can and usually do state verification, but only mocks insist upon behavior verification.\u003c/p\u003e\n\u003cp\u003eTest Doubles need to make the SUT believe it's talking with its real collaborators.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"/Digital-Garden/notes/m0KzcQACLje5KS1v61t7v\"\u003eStubs\u003c/a\u003e and \u003ca href=\"/Digital-Garden/notes/4gVYCsW8AJjv9DGE8TJdr\"\u003eSpies\u003c/a\u003e can probably cover most use-cases for test doubles.\u003c/p\u003e\n\u003cp\u003e\u003cem\u003e\"stubs and spies are very easy to write. The IDE makes it trivial. You just point at the interface and tell the IDE to implement it. Voila! It gives you a dummy. Then you just make a simple modification and turn it into a stub or a spy. So you seldom need an actual mocking tool.\"\u003c/em\u003e\u003c/p\u003e\n\u003ch2 id=\"authorizer-example\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#authorizer-example\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eAuthorizer example\u003c/h2\u003e\n\u003cp\u003eImagine we had a \u003ccode\u003eSystem\u003c/code\u003e class, which accepts an \u003ccode\u003eAuthorizer\u003c/code\u003e as a parameter. That is, when we instantiate a new \u003ccode\u003esystem\u003c/code\u003e object, it is associated with some \u003ccode\u003eauthorizer\u003c/code\u003e. Different Test Doubles are used depending on what we want to do in the test.\u003c/p\u003e\n\u003cpre class=\"language-java\"\u003e\u003ccode class=\"language-java\"\u003e\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eAcceptingAuthorizerStub\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eimplements\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eAuthorizer\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n  \u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eBoolean\u003c/span\u003e \u003cspan class=\"token function\"\u003elogin\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e username\u003cspan class=\"token punctuation\"\u003e,\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eString\u003c/span\u003e password\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\t\u003cspan class=\"token keyword\"\u003ereturn\u003c/span\u003e \u003cspan class=\"token boolean\"\u003etrue\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eclass\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSystem\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token class-name\"\u003eSystem\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token class-name\"\u003eAuthorizer\u003c/span\u003e authorizer\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\t\u003cspan class=\"token keyword\"\u003ethis\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e.\u003c/span\u003eauthorizer \u003cspan class=\"token operator\"\u003e=\u003c/span\u003e authorizer\u003cspan class=\"token punctuation\"\u003e;\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\n\t\u003cspan class=\"token keyword\"\u003epublic\u003c/span\u003e \u003cspan class=\"token keyword\"\u003eint\u003c/span\u003e \u003cspan class=\"token function\"\u003eloginCount\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e(\u003c/span\u003e\u003cspan class=\"token punctuation\"\u003e)\u003c/span\u003e \u003cspan class=\"token punctuation\"\u003e{\u003c/span\u003e\n\t\t\u003cspan class=\"token comment\"\u003e//returns number of logged in users.\u003c/span\u003e\n\t\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003cspan class=\"token punctuation\"\u003e}\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eWhile testing the \u003ccode\u003eSystem\u003c/code\u003e class, if we:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003edon't even care about the \u003ccode\u003eauthorizer\u003c/code\u003e object (since we are not calling any of its methods within the test), we would use a dummy.\u003c/li\u003e\n\u003cli\u003ewanted to simply return \u003ccode\u003etrue\u003c/code\u003e for the \u003ccode\u003eauthorizer.login()\u003c/code\u003e method, we would use a stub.\n\u003cul\u003e\n\u003cli\u003ehere, we just want to know that we are logged in so we can test the parts of the \u003ccode\u003eSystem\u003c/code\u003e that require us to be logged in.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003ewant to assert that the \u003ccode\u003elogin()\u003c/code\u003e method was called by the \u003ccode\u003eauthorizer\u003c/code\u003e object, we would use a spy.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch3 id=\"mocking-vs-stubbing\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#mocking-vs-stubbing\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eMocking vs Stubbing\u003c/h3\u003e\n\u003cp\u003eA stub is a simple fake object. It just makes sure test runs smoothly.\nA mock can be thought of as a smarter stub. You verify your test passes through it.\u003c/p\u003e\n\u003cp\u003eMocks are used to assert and should never return data, stubs are used to return data and should never assert.\u003c/p\u003e\n\u003cp\u003eA Mock is interaction-based; Stubs are state-based.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThis means you don't expect from Mock to return some value, but to assume that specific order of method calls are made.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eStubs test how your SUT handles receiving messages, mocks test how your SUT sends messages.\u003c/p\u003e\n\u003cp\u003ea stub returns answers to questions. A mock also returns answers to questions, but it also verifies that the question was asked\u003c/p\u003e\n\u003cp\u003ethere may be several stubs in one test, but generally there is only one mock.\u003c/p\u003e\n\u003cp\u003eA Stub is written with predetermined behavior.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThe idea is you would have a class that implements the dependency (abstract class or interface most likely) you are faking for testing purposes and the methods would just be stubbed out with set responses. They would not do anything fancy and you would have already written the stubbed code for it outside of your test.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eStubs don't care that correct methods have been invoked in mock.\u003c/p\u003e\n\u003cp\u003eA mock is set up with the expectations.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eMocks in a way are determined at runtime since the code that sets the expectations has to run before they do anything.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eTests written with mocks usually follow an initialize -\u003e set expectations -\u003e exercise -\u003e verify pattern to testing. While the pre-written stub would follow an initialize -\u003e exercise -\u003e verify.\u003c/p\u003e\n\u003cp\u003eBoth mocks and stubs testing give an answer for the question: What is the result?\nTesting with mocks are also interested in: How the result has been achieved?\u003c/p\u003e\n\u003ch1 id=\"e-resources\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#e-resources\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eE Resources\u003c/h1\u003e\n\u003cp\u003e\u003ca href=\"https://blog.cleancoder.com/uncle-bob/2014/05/14/TheLittleMocker.html\"\u003eA conversation about \"Mocking\"\u003c/a\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"backlinks\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#backlinks\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eBacklinks\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"/Digital-Garden/notes/LUrfhDWo8wuwZu7CN9TV8\"\u003eTesting\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/Digital-Garden/notes/8gXG6fouQpxv69wSfhigo\"\u003eGateway\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/Digital-Garden/notes/T6WTZOnvtZHaXmeo5MrPy\"\u003eComponent Testing\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/Digital-Garden/notes/NfY3pvmOMzpQg8TKrUMGd\"\u003eContract Testing\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch2 id=\"children\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#children\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eChildren\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca href=\"/Digital-Garden/notes/otxChSDHzNWESFUFx6U4y\"\u003eDummy\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/Digital-Garden/notes/KYcFflB8k11EN5OiM3Af1\"\u003eFake\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/Digital-Garden/notes/JUu4GPp6TBnRJBbzNQbFw\"\u003eMock\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/Digital-Garden/notes/4gVYCsW8AJjv9DGE8TJdr\"\u003eSpy\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/Digital-Garden/notes/m0KzcQACLje5KS1v61t7v\"\u003eStub\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e","noteIndex":{"id":"olZIVfSs2uLLr3BppFh4K","title":"Root","desc":"","updated":1618676699718,"created":1615482407722,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"../main/tech","name":"tech"},"contentHash":"777fb4dab9bcf63cbfe772245d7e4871","links":[],"anchors":{"digital-garden":{"type":"header","text":"Digital Garden","value":"digital-garden","line":8,"column":0,"depth":1}},"children":["zFMjbn3xihVNHjUIdZCD1","IK6NOKemuDjhfstJBovKL","RS8qp1GxwtiJopCUHTTtq","ZaTr28eWk1DrXOEsc1YVb","Vi0WYVLZunVM9iR8XZJn3","ngAbg7gluvbt1bY1UIRsi","RCPPXSakm5TvKka8kOmVp","MPx8ykTP57I40WTZvTP7f","ZU5WmdTG1bHoE8RcmZXZG","jqWiyYJff92RjXuUQt9PQ","KihijM8OQvZ4pASkkhqzL","F9vyqvls3OBCujtukqKhy","facc2b01-755a-409f-99f6-57bef2d1501f","m5ov42Vm6mR7RQWTvl1NW","YYt62mSW964cwb5nP0hva","PZxxZ4iESzSlbbHJKxuAZ","UDu62Pa6BaRqlG8uGoMhy","nMCtMXVvjBsJk3iw1zoIO","ANfx9Z4a6ZA0uJuSHtbIJ","BkG557LKUYbH1DnxprEVT","1TaH8zDTM98FZ9SYaeXLM","dc79799f-a55d-48ab-a8be-c48adb1b19c0","f6feef57-b8f5-451f-a09a-7b63f6a07183","4sz47Y0LKs1Si73rWtyyh","5a9fb1df-478e-4687-9be0-5cb97e61ec57","1374e9e9-1cbc-4e1f-b1ca-66b8569533dd","f529cc34-aba0-45ca-ad7e-02ddda318941","0zcauha3il2NqtxZazIo7","9bbd6f68-03b2-41f4-92e4-2ca313e8b450","5a2ab598-fa7e-4471-8bda-9f5831b679ae","uV6w4mZPoohWyZV4Xaad0","RgE0mZLaUjPftFPZsiAoe","mytCOts26Pidush65tdRW","fwUzxfLSPMH1eL8oBoLWx","TbW7PM9bg1y5TGkiWwQ8b","xiSIDeEtIc8X0lpUQlppI","0jxgntiLNHWFuCbzqtFGF","GkdMprLUe4QQULBxmGN6V","4SYc6v5hxY5g6Ip6kjpwO","fqVQpS9FBiXgKsZX3R3sJ","L5JUZlGAGvTxrsEBB7DY8","963c4b54-02bd-4943-a15f-52cf59ffd0f4","TeTedoeS2LdHPR632eCpM","e65188a1-177e-4ab2-99f9-75f85d537621","fajYnbVhCRDi74xn0H30R","bArGdGwqo3iFkyKMyE7qR","4Dcp7gbEVoLLgfu7bXFai","5d700782-fb81-416e-83f9-5dd88260e350","zubgzhNFE6KlTgXcjTz6O","8lpdfWa0cbSq1XJQbcYcY","17I8ZksXvqCH1mRtZDjHp","kF916Ow84qpJJeMRkWMIo","tMLkLcrIHHBz56xVmBLkP","CSePBQ6q7qhowKESqVwt7","laZ4OfLhZNK1Kuy6GaWUr","z5IJblOknQhMzZ5QZh4ye","N36FHxfxzwJfxDY3miWyX","3bb25f58-2b50-4fa3-af55-48ea9f88a081","aOqNcxZh8qN4MoBJcvGTc","u93Rz4fEWGu6VBR30Zraf","9hjMHnKvYT4jLKvuDSXaV","LgW7mTIALODoXc54B3p6S","UYPxfHBFWX7fb6hHU5bB6","qxSOd6SPN8qf9ZUojVFDX","WQoMTf6VXBaxCgksXAVsj","2Mw4XgfyCHXHNOX5yoCIY","UFrwsXzC1yr7Ge8FF8Vbo","a8edc4ac-028b-40ec-872a-e4a005b04b2a","0XJqmcdtcMZu66glBI5O8","lK8r8BXS4ThiUTe4xKIZe","93de42ca-53ea-460a-baa7-b9ec5c47cb1e","Rxs2jaGpdFzqYtP7lAJFJ","aO8W81Z0PyIb6Hs7nOHPW","I01hENHnh8Tqu3Ok8sLzG","evqsPNutOaZ8hcBCqxFQu","zhhxcjZUHdU8uRLwGb9Zh","G1aFACZB2ooWGMGwyd3ZW","YWy1C4tgoaCcw1m8JJsr7","Szj3o5iaNxPpesiCqwrbu","XhvCDW3fIw6h6MhY5ticq","Q70g7SusFZBQXzkuQifv4","AzfWDH3wp7jFpL2EYxBcW","y0fwpZ9qMqirsLiFyOciU","ZF8xj8wwDUqKlrwTrCFZ1","tAJvhqhdfyZZa87QHq1TU","4hRmipi8lxpBLyzWu5JVB","iTg0C7QjvnmqBZeEigJNs","3babc3d2-79ae-470a-9c06-ab8bba2e684e","bF3UsMFya3fMeXWDspVov","ULkfbL9WpktbVYnzhl6Jw","PpNOO8JYWe6dM8wruSa7x","di40pCxDn7IiqE8lFdD46","rmW0mkerqV35I8QPji6lM","3IFIK1ByzeIxZCByryGLN","iImkYAKfkw3beAl6pLbDn","tho65KN0ZpjQlVvP1fEzM","ecDe8DNWrkeQTwpTEvHje","Yqhdd9mSJGN7OJOeyoSD2","NEhsoOfR7J6o01ielAuUm","Ws5tah8tpeyn9tK8VBTg8","Bqpifx2HX3vjLhX9yvhTV","gWAg15uBJgkS2B0wcpMAa","l7V3v2ep1YdDCt7DOr7Ci","yM2PJBdqJnHpD63cPA6sW","qn0bre7eLbi3QMbCfWkUi","fSu0KxFL41IRouotqmbHs","0gtg24Mj1a1bQFPRGQNlO","7iQPBMltLPLbFEz2qbjPu","yoh4pwoXcfELInGKRdYf6","dCGCWXgAmiOZXbdULT1m6","jMavlje07sNa6hSEIE8WA","Xxm0JE4dKHxrQAaZfzvxD","PAEBZCyFBZJyR7OoMZ41E","PQ6km8RgRCuyICBPOYz8f","2bhftt8rGuxYu4pFgNqru","hjYIZpHQWuXfeEoGeJEKW","K2M9bQqVq2eQfm29eslKL","X8obW1iKwYsvNgKWGyCzy","yJwSC7hqYIezTFHf5i0Ev","c4Z7ETcOHUILRMH32Sfjw","qiR6dIu857b9M9kTqjOyK","8vflbCVkwZtYcqdDDTNAz","Ku1OgHMhELajzo61Gx7ye","LUrfhDWo8wuwZu7CN9TV8","osu6JGOnvXJ5gt3tpqWZY","1a6173cd-cf13-4b34-a522-8350bf9a364f","ZgCUp366YrF2Tyky2NT73","S2sBltrPfd8a7ICuD7CuH","oWCuBXOg6JWfZzjmKxmNl","jOmhZ8ovLYTPbpM1vqSDx","FraC6xzLy1ei91l1ICyc9","6ceBas2RE9Q4787GDngH7","734cd78d-0bc9-426b-803d-1efc84dfffe5","k4Bb09px6r0FxIRs49SXV","oaG3H1S9IUBO644nGZigu","Ka7agQJkUMRSWN0uFdkWK","si3z090WsiLasMhJBa1Az","ljKAVERmdEiKLK9hXGKBm","LIcuGYV0DDt1VWbvH6Sed","MgUSrpNCIwDOW4fX3vPOF","bZumdyapJ2H0wWWOmJ45i","QHXEIyeZGIGMVi5Q52UWI","i5Fya3Vzzm0rBT0ctByuo"],"parent":null,"data":{},"body":"\n# Digital Garden\n\nThis Wiki of Personal Information is organized according to domains and their\nsub-domains, along with specific implementation of those domains.\n\nFor instance, Git itself is a domain. Sub-domains of Git, would be `commit`,\n`tags`, `reflog` etc. implementations of each of those could be `cli`, `strat`\n(strategies), `inner` etc.\n\nThe goal of the wiki is to present data in a manner that is from the perspective\nof a querying user. Here, a user is a programmer wanting to get key information\nfrom a specific domain. For instance, if a user wants to use postgres functions\nand hasn't done them in a while, they should be able to query\n`postgres.functions` to see what information is available to them.\n\nThis wiki has been written with myself in mind. While learning each of these\ndomains, I have been sensitive to the \"aha\" moments and have noted down my\ninsights as they arose. I have refrained from capturing information that I\nconsidered obvious or otherwise non-beneficial to my own understanding.\n\nThe ability I hope to gain from this wiki is the ability to step away from any\ngiven domain for a long period of time, and be able to be passably useful for\nwhatever my goals are within a short period of time. Of course, this is all\nvague sounding, and really depends on the domain, along with the ends I am\ntrying to reach.\n\nTo achieve this, the system should be steadfast to:\n- be able to put information in relatively easily, without too much thought\n\trequired to make that determination.\n- be able to extract the information that we need, meaning there is a\n\thigh-degree in confidence in the location of the information. The idea is\n\tthat information loses a large amount of its value when it is unfindable.\n\tTherefore, a relatively strict ideology should be used when determining\n\twhere a piece of information belongs.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":3,"useFMTitle":true,"useNoteTitleForLink":true,"noLegacyNoteRef":true,"mermaid":true,"useKatex":true,"dev":{"enablePreviewV2":true},"site":{"assetsPrefix":"/Digital-Garden","siteUrl":"https://tycholiz.github.io","copyAssets":true,"siteHierarchies":["root"],"siteRootDir":"docs","usePrettyRefs":true,"title":"Dendron","description":"Publishable tech notes","duplicateNoteBehavior":{"action":"useVault","payload":["tech"]},"siteLastModified":true,"gh_edit_branch":"main","usePrettyLinks":true,"siteNotesDir":"notes","siteFaviconPath":"favicon.ico","gh_edit_link":true,"gh_edit_link_text":"Edit this page on GitHub","gh_root":"docs/","gh_edit_view_mode":"edit","writeStubs":true,"siteIndex":"root"},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{}},"workspace":{"dendronVersion":"0.67.1","vaults":[{"fsPath":"../main/tech","name":"tech"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"enableUserTags":true,"enableHashTags":true},"usePrettyRefs":true}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"965AqO8bdqbS0Et9bKsUO"},"buildId":"s-Pdpb0Y8fVIEUakhzEMN","assetPrefix":"/Digital-Garden","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>