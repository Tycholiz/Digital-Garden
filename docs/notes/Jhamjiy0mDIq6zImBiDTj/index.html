<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="icon" href="/favicon.ico"/><title>Pact</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="The Tech Digital Garden of Kyle Tycholiz"/><meta property="og:title" content="Pact"/><meta property="og:description" content="The Tech Digital Garden of Kyle Tycholiz"/><meta property="og:url" content="https://tech.kyletycholiz.com/notes/Jhamjiy0mDIq6zImBiDTj/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="1/19/2022"/><meta property="article:modified_time" content="11/16/2022"/><link rel="canonical" href="https://tech.kyletycholiz.com/notes/Jhamjiy0mDIq6zImBiDTj/"/><meta name="next-head-count" content="14"/><link rel="preload" href="/_next/static/css/8e7b7e4bce421c0a.css" as="style"/><link rel="stylesheet" href="/_next/static/css/8e7b7e4bce421c0a.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-3d209faeb64f2f97.js" defer=""></script><script src="/_next/static/chunks/framework-28c999baf2863c3d.js" defer=""></script><script src="/_next/static/chunks/main-104451f3d1a5c4bc.js" defer=""></script><script src="/_next/static/chunks/pages/_app-6b338472289fe290.js" defer=""></script><script src="/_next/static/chunks/935-4dee79e80b8641c6.js" defer=""></script><script src="/_next/static/chunks/6-50972def09142ee2.js" defer=""></script><script src="/_next/static/chunks/pages/notes/%5Bid%5D-78d472fa3b924116.js" defer=""></script><script src="/_next/static/fo6gubzKP_KV9RZPhaoiQ/_buildManifest.js" defer=""></script><script src="/_next/static/fo6gubzKP_KV9RZPhaoiQ/_ssgManifest.js" defer=""></script></head><body><div id="__next" data-reactroot=""><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div style="display:flex" class="ant-col ant-col-xs-20 ant-col-sm-4"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"><div class="ant-select ant-select-lg ant-select-auto-complete ant-select-single ant-select-allow-clear ant-select-show-search" style="width:100%"><div class="ant-select-selector"><span class="ant-select-selection-search"><input type="search" autoComplete="off" class="ant-select-selection-search-input" role="combobox" aria-haspopup="listbox" aria-owns="undefined_list" aria-autocomplete="list" aria-controls="undefined_list" aria-activedescendant="undefined_list_0" value=""/></span><span class="ant-select-selection-placeholder">For full text search please use the &#x27;?&#x27; prefix. e.g. ? Onboarding</span></div></div></div><div style="display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout" style="margin-top:64px;display:flex;flex-direction:row"><div class="site-layout-sidebar" style="flex:0 0 auto;width:calc(max((100% - 992px) / 2, 0px) + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);background-color:transparent;flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></div><main class="ant-layout-content side-layout-main" style="max-width:1200px;min-width:0;display:block"><div style="padding:0 24px"><div class="main-content" role="main"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-18"><div><h1 id="pact">Pact<a aria-hidden="true" class="anchor-heading icon-link" href="#pact"></a></h1>
<p>There are 3 components to implementing a <a href="/notes/NfY3pvmOMzpQg8TKrUMGd">contract test</a> with Pact:</p>
<ul>
<li>Consumer - initiates the HTTP request.</li>
<li>Pact Mock Provider</li>
<li>Interaction</li>
</ul>
<p>With Pact testing, a service is never talking directly to another service. Instead, we only ever test one application at a time, and we're only going to capture its view of the integration point.</p>
<ul>
<li>the consumer will talk to a mock of the provider (supplied by Pact)</li>
<li>Pact pulls all of the contracts (from all consumers) from the Pact Broker and replays the requests against the provider (contract validation)</li>
</ul>
<p>Pact tests will only fail if the specific subset of the data that the consumer cares about is changed on the producer side. If we are making breaking changes to the provider, then we'll know it as soon as we run the provider contract tests (can even be run locally).</p>
<ul>
<li>ex. if an API endpoint offers 3 fields (<code>make</code>, <code>model</code>, <code>year</code>) but our consumer only uses the first 2, if the provider changes its API to remove the <code>year</code> field, the contract test will not fail.</li>
</ul>
<h2 id="how-it-works">How it works<a aria-hidden="true" class="anchor-heading icon-link" href="#how-it-works"></a></h2>
<h3 id="consumer-side">Consumer-side<a aria-hidden="true" class="anchor-heading icon-link" href="#consumer-side"></a></h3>
<ol>
<li>For each integration point with a given provider, we write the interaction in the consumer (commonly as a unit test), specifying the expected request and response.
<ul>
<li>therefore, each route will have a unit test</li>
</ul>
</li>
</ol>
<p>Running the unit tests in CI/CD...</p>
<ol start="2">
<li>The consumer fires a real request to a mock provider (provided via Pact framework).</li>
<li>The mock provider checks to see if the request matches the expected request from the interaction.</li>
<li>Assuming it was successful, the consumer confirms that the response was correctly understood.</li>
<li>A file is generated that records all of the interactions between the consumer and the provider. This record is called a pact, and it is published to the Pact Broker (<em>pact publication</em>).
<ul>
<li>a new <em>consumer version</em> will be generated any time the consumer changes
<ul>
<li>Multiple consumer versions can all refer to the same pact version (this happens when changes to the consumer don't change the pact).</li>
<li>A specific version of the consumer (ie. consumer version) will always only have one pact version for each provider.</li>
</ul>
</li>
<li>a new <em>pact version</em> will be generated only when the contents of the pact change (ie. the request/response shape)</li>
</ul>
</li>
</ol>
<p><img src="/assets/images/2022-11-07-12-40-45.png"></p>
<ol start="6">
<li>(can-i-deploy; optional) this part of the Pact system answers the question "is it safe to deploy this consumer to the specified environment?"
<ul>
<li>the first time, the answer will be NO, because the Provider has never verified the contract. In other words, there is no Provider in production that satisfies this contract.</li>
</ul>
</li>
</ol>
<h3 id="provider-side">Provider-side<a aria-hidden="true" class="anchor-heading icon-link" href="#provider-side"></a></h3>
<p>Once the consumer-side is done (ie. once we've created pacts for the consumer), we need to validate the pacts against the provider.</p>
<ol>
<li>We run our provider server locally (e.g. if our provider is an express server, then we start the server)</li>
</ol>
<p>Running the unit tests in CI/CD...</p>
<ol start="2">
<li>We write a unit test that fetches all the pacts for the provider and checks that the provider can satisfy them by running them against the URL for the provider (which we supply in the provider unit tests).
<ul>
<li><code>return new Verifier(opts).verifyProvider()</code>, which starts the mock server.</li>
</ul>
</li>
<li>The result of the testing will then be sent back to the Pact Broker to record which <em>provider version</em> can/cannot satisfy which <em>pact verions</em>.</li>
<li>(can-i-deploy; optional) answers the question "is it safe to release this <em>provider version</em> to production?"</li>
<li>Deploy: since the first time around, the consumer is not in production (step 6 above), so it will be safe to move this provider version to production.</li>
<li>Check the deployed pact broker, and the contract should be green (verified)</li>
<li>Re-run the consumer pipeline. This time the can-i-deploy step will pass and the consumer will be deployed to the specified environment.</li>
</ol>
<p>For each interaction in a pact file, the order of execution is as follows:</p>
<ul>
<li><code>BeforeEach</code> -> <code>StateHandler</code> -> <code>RequestFilter (pre)</code> -> <code>Execute Provider Test</code> -> <code>RequestFilter (post)</code> -> <code>AfterEach</code></li>
</ul>
<h3 id="broker-process">Broker process<a aria-hidden="true" class="anchor-heading icon-link" href="#broker-process"></a></h3>
<p>Once we have the interactions generated from the consumer-side unit Pact tests, we move to the provider side. Pact takes that list of interactions and replays them onto your server (ie. Pact makes HTTP requests to your live server)</p>
<ul>
<li>Running the consumer side of the pact contract tests generates the contract itself, which is then used by the Pact broker to send the same requests to your actual provider. 
<ul>
<li>This contract (pact) will be stored in the pact broker.</li>
</ul>
</li>
<li>The provider then pulls the contract from the pact broker and replays this request against their local environment, by verifying the request and response match with the consumer requirements.</li>
</ul>
<p>There are a number of choices that can be made here, but usually these are the choices:</p>
<ul>
<li>Invoke just the controller layer (in an MVC app, or the "Adapter" in our diagram) and stub out layers beneath.</li>
<li>Execute the code up to he service/business logic layer, but mock out the data persistence layer</li>
<li>Choosing a real vs mocked out database</li>
<li>Choosing to hit mock HTTP servers or mocks for external services</li>
</ul>
<p>Generally speaking, it's easiest to test the entire service and mock out external services such as downstream APIs (which would need their own set of Pact tests)</p>
<ul>
<li>this is what gives us some of the benefit offered by <a href="/notes/3MvwNqq5SfLk55OoIdqkH">integration tests</a> without the high cost of maintenance.</li>
</ul>
<p>If the database can be easily set up/torn down locally, then the real database is probably easiest to use. If necessary, you can just stub out the data persistence layer.</p>
<hr>
<p>Pact will ensure that the provider returned the expected object, but we must test that our code receives the right object.</p>
<ul>
<li>this is often the same as the object that was in the network response.</li>
</ul>
<p>The Pact Framework is of course called from within the client's testing framework (e.g. <a href="/notes/LgW7mTIALODoXc54B3p6S">jest</a>).</p>
<p>The Pact Framework offers a Pact Mock Provider and a Pact Mock Consumer.</p>
<h2 id="interactions">Interactions<a aria-hidden="true" class="anchor-heading icon-link" href="#interactions"></a></h2>
<p>Each pact is a collection of interactions. An interaction is a request-response pair.</p>
<ul>
<li>The first step in writing a pact test is to describe this interaction.</li>
</ul>
<p>Each interaction is considered to be independent. This means that each test only tests one interaction</p>
<p>Pact tests operate on each interaction. They ask the question, "assuming the provider returns the expected response for this request, does the consumer code correctly generate the request and handle the expected response?"</p>
<p>Usually, the interaction definition and consumer test are written together</p>
<ul>
<li>the interaction says "upon receiving a POST request to /event, with an <code>event</code> object in the body, we will respond with 200 OK"</li>
<li>the test triggers the client code to generate the request and receive the response</li>
</ul>
<p>If we pair the consumer test and provider verification process for each interaction, the contract between the consumer and provider is fully tested without having to spin up the services together.</p>
<p>Interactions for HTTP and Messages look different:</p>
<ul>
<li>For HTTP:
<ul>
<li>An expected request - describing what the consumer is expected to send to the provider</li>
<li>A minimal expected response - describing the parts of the response the consumer wants the provider to return.</li>
</ul>
</li>
<li>For messages:
<ul>
<li>The minimal expected message - describing the parts of the message that the consumer wants to use.</li>
</ul>
</li>
</ul>
<h3 id="the-pact-describes-a-series-of-interactions">The pact describes a series of interactions<a aria-hidden="true" class="anchor-heading icon-link" href="#the-pact-describes-a-series-of-interactions"></a></h3>
<p>Once all of the interactions have been tested on the consumer side, the Pact framework generates a pact file, which describes each interaction:</p>
<p><img src="/assets/images/2022-01-19-15-36-29.png"></p>
<h3 id="provider-state">Provider state<a aria-hidden="true" class="anchor-heading icon-link" href="#provider-state"></a></h3>
<p>If you need to describe interactions that depend on pre-existing state, you can use provider states to do it. Provider states allow you describe the preconditions on the provider required to generate the expected response - for example, the existence of specific user data. </p>
<ul>
<li>ex. Instead of writing a test that says “create user 123, then log in”, you would write two separate interactions - one that says “create user 123”, and one with provider state “user 123 exists” that says “log in as user 123”.</li>
</ul>
<p>The provider should be in a particular state when a given request is replayed against it</p>
<ul>
<li>e.g. “when user John Doe exists” or “when user John Doe has a bank account”. </li>
<li>These allow the same endpoint to be tested under different scenarios.</li>
</ul>
<p>A provider state name is specified when writing the consumer specs, then, when the pact verification is set up in the provider the same name will be used to identify the set up code block that should be run before the request is executed.</p>
<h2 id="provider-verification">Provider Verification<a aria-hidden="true" class="anchor-heading icon-link" href="#provider-verification"></a></h2>
<p>Verification ultimately tells us if a particular pact version will work with a particular version of the provider.</p>
<ul>
<li>when we run the verification, Pact fetches the contracts and replays each request against the provider and ensures that the provider's response matches the consumer's expectations as recorded in the pact. If the two match, then we know the consumer and provider are compatible.</li>
</ul>
<p>To verify a pact we must:</p>
<ol>
<li>configure the URL of the pact (a path of the pact broker URL)</li>
<li>set up data for the provider states
<ul>
<li>provider states allow us to set up data on the provider by injecting it straight into the data source right before the interaction is run. In this way, it can make a response that matches what the consumer expects.</li>
</ul>
</li>
<li>configure and run the provider app so that we can run the requests against it.</li>
</ol>
<p>Every time we run a verification in CI/CD, the results are published to the Pact Broker (known as <em>verification result</em>).</p>
<p>Whenever the provider changes, it is considered as a new <em>provider version</em> (identified at a minimum by git commit SHA + git branch)</p>
<ul>
<li>as with a consumer, you should associate a particular version of the provider with 1+ branch.</li>
</ul>
<p>With provider verification, each request is sent to the provider, and the actual response it generates is compared with the minimal expected response described in the consumer test.</p>
<ul>
<li>Provider verification passes if each request generates a response that contains at least the data described in the minimal expected response.</li>
</ul>
<p>In many cases, your provider will need to be in a particular state (such as "user 123 is logged in", or "customer 456 has an invoice #678")</p>
<ul>
<li>Pact enables us to do this: it allows us to set the provider state before the interaction is replayed.</li>
</ul>
<p>Unlike Consumer testing, provider verification is entirely driven by the Pact framework</p>
<hr>
<h3 id="random-data">Random Data<a aria-hidden="true" class="anchor-heading icon-link" href="#random-data"></a></h3>
<p>Avoid random data. If you are using a Pact Broker to exchange pacts, then avoid using random data in your pacts. If a new pact is published that is exactly the same as a previous version that has already been verified, the existing verification results will be applied to the new pact publication. This means that you don't have to wait for the provider verification to run before deploying your consumer - you can go straight to prod. Random data makes it look like the contract has changed, and therefore you lose this optimisation.</p>
<hr>
<h3 id="artifacts">Artifacts<a aria-hidden="true" class="anchor-heading icon-link" href="#artifacts"></a></h3>
<h4 id="contract">Contract<a aria-hidden="true" class="anchor-heading icon-link" href="#contract"></a></h4>
<p>Pact is another word for a contract.</p>
<p>A Pact defines:</p>
<ul>
<li>the consumer name</li>
<li>the provider name</li>
<li>a collection of interactions</li>
<li>the pact specification version</li>
</ul>
<h5 id="pact-verification">Pact verification<a aria-hidden="true" class="anchor-heading icon-link" href="#pact-verification"></a></h5>
<p>The contract must be verified, so the requests contained in a Pact file are replayed against the provider code, and the responses returned are checked to ensure they match those expected in the Pact file.</p>
<h1 id="resources">Resources<a aria-hidden="true" class="anchor-heading icon-link" href="#resources"></a></h1>
<ul>
<li><a href="https://github.com/YOU54F/jest-pact-typescript/blob/master/src/pact/client/requestPathMatching.pacttest.ts">Example</a></li>
<li><a href="https://github.com/alessioerosferri/pact-demo">Another Example</a></li>
</ul>
<h1 id="ue-resources">UE Resources<a aria-hidden="true" class="anchor-heading icon-link" href="#ue-resources"></a></h1>
<ul>
<li><a href="https://docs.pact.io/getting_started/how_pact_works/#non-http-testing-message-pact">non-HTTP testing</a></li>
</ul>
<hr>
<strong>Children</strong>
<ol>
<li><a href="/notes/wnckFHaTMFPsvfloWlhQp">Pact API</a></li>
</ol>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/notes/YJG6pZqJMUiqZfcWrcFtB">Pipelines</a></li>
</ul></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-6"><div><div class=""><div class="ant-anchor-wrapper dendron-toc" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#how-it-works" title="How it works">How it works</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#consumer-side" title="Consumer-side">Consumer-side</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#provider-side" title="Provider-side">Provider-side</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#broker-process" title="Broker process">Broker process</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#interactions" title="Interactions">Interactions</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#the-pact-describes-a-series-of-interactions" title="The pact describes a series of interactions">The pact describes a series of interactions</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#provider-state" title="Provider state">Provider state</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#provider-verification" title="Provider Verification">Provider Verification</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#random-data" title="Random Data">Random Data</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#artifacts" title="Artifacts">Artifacts</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#contract" title="Contract">Contract</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#pact-verification" title="Pact verification">Pact verification</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#resources" title="Resources">Resources</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#ue-resources" title="UE Resources">UE Resources</a></div></div></div></div></div></div></div></div></div></div></div><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></main></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"Jhamjiy0mDIq6zImBiDTj","title":"Pact","desc":"","updated":1668632593913,"created":1642632624067,"custom":{},"fname":"testing.method.contract.pact","type":"note","vault":{"fsPath":"../main/tech","name":"tech"},"contentHash":"e5e74c6ee9d3f706b6f2cee8c338fac3","links":[{"type":"wiki","from":{"fname":"testing.method.contract.pact","id":"Jhamjiy0mDIq6zImBiDTj","vaultName":"tech"},"value":"testing.method.contract","alias":"contract test","position":{"start":{"line":2,"column":42,"offset":42},"end":{"line":2,"column":83,"offset":83},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"testing.method.contract"}},{"type":"wiki","from":{"fname":"testing.method.contract.pact","id":"Jhamjiy0mDIq6zImBiDTj","vaultName":"tech"},"value":"testing.method.integration","alias":"integration tests","position":{"start":{"line":66,"column":56,"offset":5380},"end":{"line":66,"column":104,"offset":5428},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"testing.method.integration"}},{"type":"wiki","from":{"fname":"testing.method.contract.pact","id":"Jhamjiy0mDIq6zImBiDTj","vaultName":"tech"},"value":"jest","alias":"jest","position":{"start":{"line":75,"column":89,"offset":5932},"end":{"line":75,"column":102,"offset":5945},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"jest"}},{"from":{"fname":"gitlab.CI-CD.pipelines","id":"YJG6pZqJMUiqZfcWrcFtB","vaultName":"tech"},"type":"backlink","position":{"start":{"line":46,"column":387,"offset":2577},"end":{"line":46,"column":424,"offset":2614},"indent":[]},"value":"testing.method.contract.pact"}],"anchors":{"how-it-works":{"type":"header","text":"How it works","value":"how-it-works","line":20,"column":0,"depth":2},"consumer-side":{"type":"header","text":"Consumer-side","value":"consumer-side","line":21,"column":0,"depth":3},"provider-side":{"type":"header","text":"Provider-side","value":"provider-side","line":41,"column":0,"depth":3},"broker-process":{"type":"header","text":"Broker process","value":"broker-process","line":59,"column":0,"depth":3},"interactions":{"type":"header","text":"Interactions","value":"interactions","line":85,"column":0,"depth":2},"the-pact-describes-a-series-of-interactions":{"type":"header","text":"The pact describes a series of interactions","value":"the-pact-describes-a-series-of-interactions","line":106,"column":0,"depth":3},"provider-state":{"type":"header","text":"Provider state","value":"provider-state","line":111,"column":0,"depth":3},"provider-verification":{"type":"header","text":"Provider Verification","value":"provider-verification","line":121,"column":0,"depth":2},"random-data":{"type":"header","text":"Random Data","value":"random-data","line":146,"column":0,"depth":3},"artifacts":{"type":"header","text":"Artifacts","value":"artifacts","line":151,"column":0,"depth":3},"contract":{"type":"header","text":"Contract","value":"contract","line":152,"column":0,"depth":4},"pact-verification":{"type":"header","text":"Pact verification","value":"pact-verification","line":161,"column":0,"depth":5},"resources":{"type":"header","text":"Resources","value":"resources","line":164,"column":0,"depth":1},"ue-resources":{"type":"header","text":"UE Resources","value":"ue-resources","line":167,"column":0,"depth":1}},"children":["wnckFHaTMFPsvfloWlhQp"],"parent":"NfY3pvmOMzpQg8TKrUMGd","data":{}},"body":"\u003ch1 id=\"pact\"\u003ePact\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#pact\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cp\u003eThere are 3 components to implementing a \u003ca href=\"/notes/NfY3pvmOMzpQg8TKrUMGd\"\u003econtract test\u003c/a\u003e with Pact:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eConsumer - initiates the HTTP request.\u003c/li\u003e\n\u003cli\u003ePact Mock Provider\u003c/li\u003e\n\u003cli\u003eInteraction\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eWith Pact testing, a service is never talking directly to another service. Instead, we only ever test one application at a time, and we're only going to capture its view of the integration point.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ethe consumer will talk to a mock of the provider (supplied by Pact)\u003c/li\u003e\n\u003cli\u003ePact pulls all of the contracts (from all consumers) from the Pact Broker and replays the requests against the provider (contract validation)\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003ePact tests will only fail if the specific subset of the data that the consumer cares about is changed on the producer side. If we are making breaking changes to the provider, then we'll know it as soon as we run the provider contract tests (can even be run locally).\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eex. if an API endpoint offers 3 fields (\u003ccode\u003emake\u003c/code\u003e, \u003ccode\u003emodel\u003c/code\u003e, \u003ccode\u003eyear\u003c/code\u003e) but our consumer only uses the first 2, if the provider changes its API to remove the \u003ccode\u003eyear\u003c/code\u003e field, the contract test will not fail.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"how-it-works\"\u003eHow it works\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#how-it-works\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003ch3 id=\"consumer-side\"\u003eConsumer-side\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#consumer-side\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003col\u003e\n\u003cli\u003eFor each integration point with a given provider, we write the interaction in the consumer (commonly as a unit test), specifying the expected request and response.\n\u003cul\u003e\n\u003cli\u003etherefore, each route will have a unit test\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eRunning the unit tests in CI/CD...\u003c/p\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003eThe consumer fires a real request to a mock provider (provided via Pact framework).\u003c/li\u003e\n\u003cli\u003eThe mock provider checks to see if the request matches the expected request from the interaction.\u003c/li\u003e\n\u003cli\u003eAssuming it was successful, the consumer confirms that the response was correctly understood.\u003c/li\u003e\n\u003cli\u003eA file is generated that records all of the interactions between the consumer and the provider. This record is called a pact, and it is published to the Pact Broker (\u003cem\u003epact publication\u003c/em\u003e).\n\u003cul\u003e\n\u003cli\u003ea new \u003cem\u003econsumer version\u003c/em\u003e will be generated any time the consumer changes\n\u003cul\u003e\n\u003cli\u003eMultiple consumer versions can all refer to the same pact version (this happens when changes to the consumer don't change the pact).\u003c/li\u003e\n\u003cli\u003eA specific version of the consumer (ie. consumer version) will always only have one pact version for each provider.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003ea new \u003cem\u003epact version\u003c/em\u003e will be generated only when the contents of the pact change (ie. the request/response shape)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2022-11-07-12-40-45.png\"\u003e\u003c/p\u003e\n\u003col start=\"6\"\u003e\n\u003cli\u003e(can-i-deploy; optional) this part of the Pact system answers the question \"is it safe to deploy this consumer to the specified environment?\"\n\u003cul\u003e\n\u003cli\u003ethe first time, the answer will be NO, because the Provider has never verified the contract. In other words, there is no Provider in production that satisfies this contract.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003ch3 id=\"provider-side\"\u003eProvider-side\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#provider-side\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eOnce the consumer-side is done (ie. once we've created pacts for the consumer), we need to validate the pacts against the provider.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eWe run our provider server locally (e.g. if our provider is an express server, then we start the server)\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eRunning the unit tests in CI/CD...\u003c/p\u003e\n\u003col start=\"2\"\u003e\n\u003cli\u003eWe write a unit test that fetches all the pacts for the provider and checks that the provider can satisfy them by running them against the URL for the provider (which we supply in the provider unit tests).\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003ereturn new Verifier(opts).verifyProvider()\u003c/code\u003e, which starts the mock server.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eThe result of the testing will then be sent back to the Pact Broker to record which \u003cem\u003eprovider version\u003c/em\u003e can/cannot satisfy which \u003cem\u003epact verions\u003c/em\u003e.\u003c/li\u003e\n\u003cli\u003e(can-i-deploy; optional) answers the question \"is it safe to release this \u003cem\u003eprovider version\u003c/em\u003e to production?\"\u003c/li\u003e\n\u003cli\u003eDeploy: since the first time around, the consumer is not in production (step 6 above), so it will be safe to move this provider version to production.\u003c/li\u003e\n\u003cli\u003eCheck the deployed pact broker, and the contract should be green (verified)\u003c/li\u003e\n\u003cli\u003eRe-run the consumer pipeline. This time the can-i-deploy step will pass and the consumer will be deployed to the specified environment.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eFor each interaction in a pact file, the order of execution is as follows:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eBeforeEach\u003c/code\u003e -\u003e \u003ccode\u003eStateHandler\u003c/code\u003e -\u003e \u003ccode\u003eRequestFilter (pre)\u003c/code\u003e -\u003e \u003ccode\u003eExecute Provider Test\u003c/code\u003e -\u003e \u003ccode\u003eRequestFilter (post)\u003c/code\u003e -\u003e \u003ccode\u003eAfterEach\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"broker-process\"\u003eBroker process\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#broker-process\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eOnce we have the interactions generated from the consumer-side unit Pact tests, we move to the provider side. Pact takes that list of interactions and replays them onto your server (ie. Pact makes HTTP requests to your live server)\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eRunning the consumer side of the pact contract tests generates the contract itself, which is then used by the Pact broker to send the same requests to your actual provider. \n\u003cul\u003e\n\u003cli\u003eThis contract (pact) will be stored in the pact broker.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eThe provider then pulls the contract from the pact broker and replays this request against their local environment, by verifying the request and response match with the consumer requirements.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThere are a number of choices that can be made here, but usually these are the choices:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eInvoke just the controller layer (in an MVC app, or the \"Adapter\" in our diagram) and stub out layers beneath.\u003c/li\u003e\n\u003cli\u003eExecute the code up to he service/business logic layer, but mock out the data persistence layer\u003c/li\u003e\n\u003cli\u003eChoosing a real vs mocked out database\u003c/li\u003e\n\u003cli\u003eChoosing to hit mock HTTP servers or mocks for external services\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eGenerally speaking, it's easiest to test the entire service and mock out external services such as downstream APIs (which would need their own set of Pact tests)\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ethis is what gives us some of the benefit offered by \u003ca href=\"/notes/3MvwNqq5SfLk55OoIdqkH\"\u003eintegration tests\u003c/a\u003e without the high cost of maintenance.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIf the database can be easily set up/torn down locally, then the real database is probably easiest to use. If necessary, you can just stub out the data persistence layer.\u003c/p\u003e\n\u003chr\u003e\n\u003cp\u003ePact will ensure that the provider returned the expected object, but we must test that our code receives the right object.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ethis is often the same as the object that was in the network response.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe Pact Framework is of course called from within the client's testing framework (e.g. \u003ca href=\"/notes/LgW7mTIALODoXc54B3p6S\"\u003ejest\u003c/a\u003e).\u003c/p\u003e\n\u003cp\u003eThe Pact Framework offers a Pact Mock Provider and a Pact Mock Consumer.\u003c/p\u003e\n\u003ch2 id=\"interactions\"\u003eInteractions\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#interactions\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eEach pact is a collection of interactions. An interaction is a request-response pair.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eThe first step in writing a pact test is to describe this interaction.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eEach interaction is considered to be independent. This means that each test only tests one interaction\u003c/p\u003e\n\u003cp\u003ePact tests operate on each interaction. They ask the question, \"assuming the provider returns the expected response for this request, does the consumer code correctly generate the request and handle the expected response?\"\u003c/p\u003e\n\u003cp\u003eUsually, the interaction definition and consumer test are written together\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ethe interaction says \"upon receiving a POST request to /event, with an \u003ccode\u003eevent\u003c/code\u003e object in the body, we will respond with 200 OK\"\u003c/li\u003e\n\u003cli\u003ethe test triggers the client code to generate the request and receive the response\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIf we pair the consumer test and provider verification process for each interaction, the contract between the consumer and provider is fully tested without having to spin up the services together.\u003c/p\u003e\n\u003cp\u003eInteractions for HTTP and Messages look different:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eFor HTTP:\n\u003cul\u003e\n\u003cli\u003eAn expected request - describing what the consumer is expected to send to the provider\u003c/li\u003e\n\u003cli\u003eA minimal expected response - describing the parts of the response the consumer wants the provider to return.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eFor messages:\n\u003cul\u003e\n\u003cli\u003eThe minimal expected message - describing the parts of the message that the consumer wants to use.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"the-pact-describes-a-series-of-interactions\"\u003eThe pact describes a series of interactions\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#the-pact-describes-a-series-of-interactions\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eOnce all of the interactions have been tested on the consumer side, the Pact framework generates a pact file, which describes each interaction:\u003c/p\u003e\n\u003cp\u003e\u003cimg src=\"/assets/images/2022-01-19-15-36-29.png\"\u003e\u003c/p\u003e\n\u003ch3 id=\"provider-state\"\u003eProvider state\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#provider-state\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eIf you need to describe interactions that depend on pre-existing state, you can use provider states to do it. Provider states allow you describe the preconditions on the provider required to generate the expected response - for example, the existence of specific user data. \u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eex. Instead of writing a test that says “create user 123, then log in”, you would write two separate interactions - one that says “create user 123”, and one with provider state “user 123 exists” that says “log in as user 123”.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eThe provider should be in a particular state when a given request is replayed against it\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ee.g. “when user John Doe exists” or “when user John Doe has a bank account”. \u003c/li\u003e\n\u003cli\u003eThese allow the same endpoint to be tested under different scenarios.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eA provider state name is specified when writing the consumer specs, then, when the pact verification is set up in the provider the same name will be used to identify the set up code block that should be run before the request is executed.\u003c/p\u003e\n\u003ch2 id=\"provider-verification\"\u003eProvider Verification\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#provider-verification\"\u003e\u003c/a\u003e\u003c/h2\u003e\n\u003cp\u003eVerification ultimately tells us if a particular pact version will work with a particular version of the provider.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ewhen we run the verification, Pact fetches the contracts and replays each request against the provider and ensures that the provider's response matches the consumer's expectations as recorded in the pact. If the two match, then we know the consumer and provider are compatible.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eTo verify a pact we must:\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003econfigure the URL of the pact (a path of the pact broker URL)\u003c/li\u003e\n\u003cli\u003eset up data for the provider states\n\u003cul\u003e\n\u003cli\u003eprovider states allow us to set up data on the provider by injecting it straight into the data source right before the interaction is run. In this way, it can make a response that matches what the consumer expects.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003econfigure and run the provider app so that we can run the requests against it.\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eEvery time we run a verification in CI/CD, the results are published to the Pact Broker (known as \u003cem\u003everification result\u003c/em\u003e).\u003c/p\u003e\n\u003cp\u003eWhenever the provider changes, it is considered as a new \u003cem\u003eprovider version\u003c/em\u003e (identified at a minimum by git commit SHA + git branch)\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eas with a consumer, you should associate a particular version of the provider with 1+ branch.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eWith provider verification, each request is sent to the provider, and the actual response it generates is compared with the minimal expected response described in the consumer test.\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eProvider verification passes if each request generates a response that contains at least the data described in the minimal expected response.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eIn many cases, your provider will need to be in a particular state (such as \"user 123 is logged in\", or \"customer 456 has an invoice #678\")\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ePact enables us to do this: it allows us to set the provider state before the interaction is replayed.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eUnlike Consumer testing, provider verification is entirely driven by the Pact framework\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"random-data\"\u003eRandom Data\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#random-data\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003cp\u003eAvoid random data. If you are using a Pact Broker to exchange pacts, then avoid using random data in your pacts. If a new pact is published that is exactly the same as a previous version that has already been verified, the existing verification results will be applied to the new pact publication. This means that you don't have to wait for the provider verification to run before deploying your consumer - you can go straight to prod. Random data makes it look like the contract has changed, and therefore you lose this optimisation.\u003c/p\u003e\n\u003chr\u003e\n\u003ch3 id=\"artifacts\"\u003eArtifacts\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#artifacts\"\u003e\u003c/a\u003e\u003c/h3\u003e\n\u003ch4 id=\"contract\"\u003eContract\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#contract\"\u003e\u003c/a\u003e\u003c/h4\u003e\n\u003cp\u003ePact is another word for a contract.\u003c/p\u003e\n\u003cp\u003eA Pact defines:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003ethe consumer name\u003c/li\u003e\n\u003cli\u003ethe provider name\u003c/li\u003e\n\u003cli\u003ea collection of interactions\u003c/li\u003e\n\u003cli\u003ethe pact specification version\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch5 id=\"pact-verification\"\u003ePact verification\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#pact-verification\"\u003e\u003c/a\u003e\u003c/h5\u003e\n\u003cp\u003eThe contract must be verified, so the requests contained in a Pact file are replayed against the provider code, and the responses returned are checked to ensure they match those expected in the Pact file.\u003c/p\u003e\n\u003ch1 id=\"resources\"\u003eResources\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#resources\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/YOU54F/jest-pact-typescript/blob/master/src/pact/client/requestPathMatching.pacttest.ts\"\u003eExample\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/alessioerosferri/pact-demo\"\u003eAnother Example\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch1 id=\"ue-resources\"\u003eUE Resources\u003ca aria-hidden=\"true\" class=\"anchor-heading icon-link\" href=\"#ue-resources\"\u003e\u003c/a\u003e\u003c/h1\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"https://docs.pact.io/getting_started/how_pact_works/#non-http-testing-message-pact\"\u003enon-HTTP testing\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003cstrong\u003eChildren\u003c/strong\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca href=\"/notes/wnckFHaTMFPsvfloWlhQp\"\u003ePact API\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e\n\u003chr\u003e\n\u003cstrong\u003eBacklinks\u003c/strong\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ca href=\"/notes/YJG6pZqJMUiqZfcWrcFtB\"\u003ePipelines\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e","noteIndex":{"id":"olZIVfSs2uLLr3BppFh4K","title":"Digital Garden","desc":"","updated":1674517603573,"created":1615482407722,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"../main/tech","name":"tech"},"contentHash":"effb007003ca6a91d7fd0c293e1d2436","links":[{"type":"wiki","from":{"fname":"root","id":"olZIVfSs2uLLr3BppFh4K","vaultName":"tech"},"value":"testing.method.unit","alias":"unit testing","position":{"start":{"line":18,"column":121,"offset":1146},"end":{"line":18,"column":157,"offset":1182},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"testing.method.unit"}},{"type":"wiki","from":{"fname":"root","id":"olZIVfSs2uLLr3BppFh4K","vaultName":"tech"},"value":"general.arch.microservice","alias":"microservices","position":{"start":{"line":18,"column":188,"offset":1213},"end":{"line":18,"column":231,"offset":1256},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"general.arch.microservice"}},{"type":"wiki","from":{"fname":"root","id":"olZIVfSs2uLLr3BppFh4K","vaultName":"tech"},"value":"paradigm.oop","alias":"OOP","position":{"start":{"line":36,"column":227,"offset":2718},"end":{"line":36,"column":247,"offset":2738},"indent":[]},"xvault":false,"sameFile":false,"to":{"fname":"paradigm.oop"}}],"anchors":{"tags":{"type":"header","text":"Tags","value":"tags","line":46,"column":0,"depth":3},"resources":{"type":"header","text":"Resources","value":"resources","line":55,"column":0,"depth":2},"ue-unexamined-resources":{"type":"header","text":"UE (Unexamined) Resources","value":"ue-unexamined-resources","line":56,"column":0,"depth":3},"e-examined-resources":{"type":"header","text":"E (Examined) Resources","value":"e-examined-resources","line":59,"column":0,"depth":3},"resources-1":{"type":"header","text":"Resources","value":"resources-1","line":62,"column":0,"depth":3}},"children":["40ubf88tephzbdjte8cdsa0","zFMjbn3xihVNHjUIdZCD1","IK6NOKemuDjhfstJBovKL","ZaTr28eWk1DrXOEsc1YVb","Vi0WYVLZunVM9iR8XZJn3","ngAbg7gluvbt1bY1UIRsi","RCPPXSakm5TvKka8kOmVp","LIcuGYV0DDt1VWbvH6Sed","MPx8ykTP57I40WTZvTP7f","ZU5WmdTG1bHoE8RcmZXZG","jqWiyYJff92RjXuUQt9PQ","KihijM8OQvZ4pASkkhqzL","F9vyqvls3OBCujtukqKhy","k6jxm2b3edgkhbordpuz6v1","facc2b01-755a-409f-99f6-57bef2d1501f","bZumdyapJ2H0wWWOmJ45i","elqpgoe2r951si4xrhujppj","m5ov42Vm6mR7RQWTvl1NW","cw8cerc0cos8lh871oz8rtf","PZxxZ4iESzSlbbHJKxuAZ","UDu62Pa6BaRqlG8uGoMhy","u3zcndycwqessho5h6x0nz9","ZgCUp366YrF2Tyky2NT73","DVpVUmavSoVDA7UIlPzLX","nMCtMXVvjBsJk3iw1zoIO","ANfx9Z4a6ZA0uJuSHtbIJ","BkG557LKUYbH1DnxprEVT","1TaH8zDTM98FZ9SYaeXLM","02v7ymc144e5c4pv3edkud7","dc79799f-a55d-48ab-a8be-c48adb1b19c0","f6feef57-b8f5-451f-a09a-7b63f6a07183","4sz47Y0LKs1Si73rWtyyh","g7ulqi8no93ezeocbesc3ll","5a9fb1df-478e-4687-9be0-5cb97e61ec57","1374e9e9-1cbc-4e1f-b1ca-66b8569533dd","D8Z3rjXkSj2EOymXQXF4Z","np3c1ykvnjqv5xoombpfwqz","f529cc34-aba0-45ca-ad7e-02ddda318941","0zcauha3il2NqtxZazIo7","9bbd6f68-03b2-41f4-92e4-2ca313e8b450","5a2ab598-fa7e-4471-8bda-9f5831b679ae","uV6w4mZPoohWyZV4Xaad0","QHXEIyeZGIGMVi5Q52UWI","RgE0mZLaUjPftFPZsiAoe","mytCOts26Pidush65tdRW","fwUzxfLSPMH1eL8oBoLWx","wazdsda6h25x66edvfmeuiv","TbW7PM9bg1y5TGkiWwQ8b","xiSIDeEtIc8X0lpUQlppI","0jxgntiLNHWFuCbzqtFGF","GkdMprLUe4QQULBxmGN6V","4SYc6v5hxY5g6Ip6kjpwO","czi7ilt2i1uoqm1f2otbntj","fqVQpS9FBiXgKsZX3R3sJ","L5JUZlGAGvTxrsEBB7DY8","ttyri4pwfyn5lcx0vp9804o","TeTedoeS2LdHPR632eCpM","ulicRRwo3lSFzh3tMfWH9","p7d24vyb8m00ombzn34t50c","e65188a1-177e-4ab2-99f9-75f85d537621","fajYnbVhCRDi74xn0H30R","bArGdGwqo3iFkyKMyE7qR","4Dcp7gbEVoLLgfu7bXFai","5d700782-fb81-416e-83f9-5dd88260e350","zubgzhNFE6KlTgXcjTz6O","8lpdfWa0cbSq1XJQbcYcY","2psluywdc416t7vrql0m058","17I8ZksXvqCH1mRtZDjHp","kF916Ow84qpJJeMRkWMIo","tMLkLcrIHHBz56xVmBLkP","CSePBQ6q7qhowKESqVwt7","laZ4OfLhZNK1Kuy6GaWUr","z5IJblOknQhMzZ5QZh4ye","N36FHxfxzwJfxDY3miWyX","3bb25f58-2b50-4fa3-af55-48ea9f88a081","7x07qjgbitozdfszqzuy7ix","u93Rz4fEWGu6VBR30Zraf","9hjMHnKvYT4jLKvuDSXaV","qC5GxCZBmNb4Ip6c0kU8x","LgW7mTIALODoXc54B3p6S","UYPxfHBFWX7fb6hHU5bB6","74lYtC8NKpCzcyFOZTfR1","sEoBNAEuaTxwSmTXDonZt","dj0jr9mpvs62e2pkg3zc3yy","z8ie0xjogb6ht7gzowav5xr","qxSOd6SPN8qf9ZUojVFDX","WQoMTf6VXBaxCgksXAVsj","2Mw4XgfyCHXHNOX5yoCIY","qcdt2f7jo51muquo5r95dpo","0XJqmcdtcMZu66glBI5O8","lK8r8BXS4ThiUTe4xKIZe","93de42ca-53ea-460a-baa7-b9ec5c47cb1e","Rxs2jaGpdFzqYtP7lAJFJ","aO8W81Z0PyIb6Hs7nOHPW","lhzisalkebu4w5n01np07i0","7b5l4b6fi65n7sv9org5q1l","I01hENHnh8Tqu3Ok8sLzG","03o3n0hz9v9jtb7j889zpd4","evqsPNutOaZ8hcBCqxFQu","zhhxcjZUHdU8uRLwGb9Zh","G1aFACZB2ooWGMGwyd3ZW","YWy1C4tgoaCcw1m8JJsr7","Szj3o5iaNxPpesiCqwrbu","613syb18hb3v0u1ydvor7ru","XhvCDW3fIw6h6MhY5ticq","Q70g7SusFZBQXzkuQifv4","AzfWDH3wp7jFpL2EYxBcW","y0fwpZ9qMqirsLiFyOciU","ZF8xj8wwDUqKlrwTrCFZ1","tAJvhqhdfyZZa87QHq1TU","4hRmipi8lxpBLyzWu5JVB","iTg0C7QjvnmqBZeEigJNs","3babc3d2-79ae-470a-9c06-ab8bba2e684e","bF3UsMFya3fMeXWDspVov","ULkfbL9WpktbVYnzhl6Jw","PpNOO8JYWe6dM8wruSa7x","di40pCxDn7IiqE8lFdD46","rmW0mkerqV35I8QPji6lM","3IFIK1ByzeIxZCByryGLN","iImkYAKfkw3beAl6pLbDn","ecDe8DNWrkeQTwpTEvHje","i2it5id8qwtg27n4usg8bo1","Yqhdd9mSJGN7OJOeyoSD2","Ws5tah8tpeyn9tK8VBTg8","gWAg15uBJgkS2B0wcpMAa","l7V3v2ep1YdDCt7DOr7Ci","yM2PJBdqJnHpD63cPA6sW","qn0bre7eLbi3QMbCfWkUi","fSu0KxFL41IRouotqmbHs","0gtg24Mj1a1bQFPRGQNlO","7iQPBMltLPLbFEz2qbjPu","yoh4pwoXcfELInGKRdYf6","dCGCWXgAmiOZXbdULT1m6","jMavlje07sNa6hSEIE8WA","Xxm0JE4dKHxrQAaZfzvxD","nRb6Im4Kcmc2ZWE7K1jZ1","PAEBZCyFBZJyR7OoMZ41E","PQ6km8RgRCuyICBPOYz8f","x5tm1nfjzyawwzedy3yitgd","2bhftt8rGuxYu4pFgNqru","hjYIZpHQWuXfeEoGeJEKW","K2M9bQqVq2eQfm29eslKL","X8obW1iKwYsvNgKWGyCzy","yJwSC7hqYIezTFHf5i0Ev","c4Z7ETcOHUILRMH32Sfjw","qiR6dIu857b9M9kTqjOyK","fc2coz74cnfy5czzofx4h5x","Ku1OgHMhELajzo61Gx7ye","LUrfhDWo8wuwZu7CN9TV8","osu6JGOnvXJ5gt3tpqWZY","1a6173cd-cf13-4b34-a522-8350bf9a364f","S2sBltrPfd8a7ICuD7CuH","GLQ2pmkJUNUa93THBDVsD","md6xitz4exia2joa06i490b","oWCuBXOg6JWfZzjmKxmNl","jOmhZ8ovLYTPbpM1vqSDx","p9bov84s0isgkl1ysaw93kk","FraC6xzLy1ei91l1ICyc9","6ceBas2RE9Q4787GDngH7","734cd78d-0bc9-426b-803d-1efc84dfffe5","k4Bb09px6r0FxIRs49SXV","oaG3H1S9IUBO644nGZigu","Ka7agQJkUMRSWN0uFdkWK","si3z090WsiLasMhJBa1Az","hs6rwzt4mogiicoc4gcykbi","ljKAVERmdEiKLK9hXGKBm","zxt3lhonfdhglvijd17ua8c","dd7dopve1dudqkoibkqvti4","923tgifqf59ovv5yldtyi0a","vrjwp01goqw47fqctm4f4lo","c99gdmmppju3r1tth8cb2jx","z2pvn5qxdz84zgygqzxage8"],"parent":null,"data":{},"body":"This Dendron vault of tech knowledge is organized according to domains and their sub-domains, along with specific implementation of those domains.\n\nFor instance, Git itself is a domain. Sub-domains of Git would include things like `commit`,\n`tags`, `reflog` etc. implementations of each of those could be `cli`, `strat`\n(strategies), `inner`, and so on.\n\nThe goal of the wiki is to present data in a manner that is from the perspective\nof a querying user. Here, a user is a programmer wanting to get key information\nfrom a specific domain. For instance, if a user wants to use postgres functions\nand hasn't done them in a while, they should be able to query\n`postgres.functions` to see what information is available to them.\n\nThis wiki has been written with myself in mind. While learning each of these\ndomains, I have been sensitive to the \"aha\" moments and have noted down my\ninsights as they arose. I have refrained from capturing information that I\nconsidered obvious or otherwise non-beneficial to my own understanding.\n\nAs a result, I have allowed myself to use potentially arcane concepts to explain other ones. For example, in my note on [[unit testing|testing.method.unit]], I have made reference to the [[microservices|general.arch.microservice]] note. If these notes were made with the public in mind, this would be a very bad strategy, given that you'd have to understand microservices to be able to draw that same parallel that I've already drawn. Since these notes are written for myself, I have been fine with taking these liberties.\n\nWhat I hope to gain from this wiki is the ability to step away from any\ngiven domain for a long period of time, and be able to be passably useful for\nwhatever my goals are within a short period of time. Of course this is all\nvague sounding, and really depends on the domain along with the ends I am\ntrying to reach.\n\nTo achieve this, the system should be steadfast to:\n- be able to put information in relatively easily, without too much thought\n\trequired to its location. While location is important, Dendron makes it easy\n\tto relocate notes, if it becomes apparent that a different place makes more\n\tsense.\n- be able to extract the information that is needed, meaning there is a\n\thigh-degree in confidence in the location of the information. The idea is\n\tthat information loses a large amount of its value when it is unfindable.\n\tTherefore, a relatively strict ideology should be used when determining\n\twhere a piece of information belongs.\n\t- Some concepts might realistically belong to multiple domains. For instance, the concept of *access modifiers* can be found in both `C#` and `Typescript`. Therefore, this note should be abstracted to a common place, such as [[OOP|paradigm.oop]].\n\nThis Dendron vault is the sister component to the [General Second Brain](https://tech.kyletycholiz.com).\n\n### Tags\nThroughout the garden, I have made use of tags, which give semantic meaning to the pieces of information.\n\n- `ex.` - Denotes an *example* of the preceding piece of information\n- `spec:` - Specifies that the preceding information has some degree of *speculation* to it, and may not be 100% factual. Ideally this gets clarified over time as my understanding develops.\n- `anal:` - Denotes an *analogy* of the preceding information. Often I will attempt to link concepts to others that I have previously learned.\n- `mn:` - Denotes a *mnemonic*\n- `expl:` - Denotes an *explanation*\n\n## Resources\n### UE (Unexamined) Resources\nOften, I come across sources of information that I believe to be high-quality. They may be recommendations or found in some other way. No matter their origin, I may be in a position where I don't have the time to fully examine them (and properly extract notes), or I may not require the information at that moment in time. In cases like these, I will add reference to a section of the note called **UE Resources**. The idea is that in the future when I am ready to examine them, I have a list of resources that I can start with. This is an alternative strategy to compiling browser bookmarks, which I've found can quickly become untenable.\n\n### E (Examined) Resources\nOnce a resource has been thoroughly examined and has been mined for notes, it will be moved from *UE Resources* to *E Resources*. This is to indicate that (in my own estimation), there is nothing more to be gained from the resource that is not already in the note.\n\n### Resources\nThis heading is for inexhaustible resources. \n- A prime example would be a quality website that continually posts articles.  - Another example would be a tool, such as software that measures frequencies in a room to help acoustically treat it.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":5,"dev":{"enablePreviewV2":true},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false,"bubbleUpCreateNew":true,"fuzzThreshold":0.2,"vaultSelectionModeOnCreate":"smart"}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{},"copyNoteLink":{"aliasMode":"title"},"templateHierarchy":"template"},"workspace":{"dendronVersion":"0.83.0","vaults":[{"fsPath":"../main/tech","name":"tech"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1,"createStub":false},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link","taskCompleteStatus":["done","x"]},"enableUserTags":true,"enableHashTags":true,"enableEditorDecorations":true,"enableFullHierarchyNoteTitle":false},"preview":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enableMermaid":true,"enablePrettyRefs":true,"enableKatex":true,"automaticallyShowPreview":false,"enableFrontmatterTags":true,"enableHashesForFMTags":false},"publishing":{"enableFMTitle":true,"enableNoteTitleForLink":true,"enablePrettyRefs":true,"enableKatex":true,"copyAssets":true,"siteHierarchies":["root"],"writeStubs":false,"siteRootDir":"docs","seo":{"title":"Dendron","description":"The Tech Digital Garden of Kyle Tycholiz"},"github":{"cname":"tech.kyletycholiz.com","enableEditLink":true,"editLinkText":"Edit this page on GitHub","editBranch":"master","editViewMode":"tree"},"enableSiteLastModified":true,"enableFrontmatterTags":true,"enableHashesForFMTags":false,"enableRandomlyColoredTags":true,"enableTaskNotes":true,"enablePrettyLinks":true,"searchMode":"lookup","enableMermaid":true,"siteUrl":"https://tech.kyletycholiz.com","duplicateNoteBehavior":{"action":"useVault","payload":["tech"]},"siteFaviconPath":"favicon.ico","siteIndex":"root"}}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"Jhamjiy0mDIq6zImBiDTj"},"buildId":"fo6gubzKP_KV9RZPhaoiQ","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>