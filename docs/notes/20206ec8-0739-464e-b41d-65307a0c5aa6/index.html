<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><title>Postgraphile</title><meta name="robots" content="index,follow"/><meta name="googlebot" content="index,follow"/><meta name="description" content="Publishable tech notes"/><meta property="og:title" content="Postgraphile"/><meta property="og:description" content="Publishable tech notes"/><meta property="og:url" content="https://tycholiz.github.io/Digital-Garden/notes/20206ec8-0739-464e-b41d-65307a0c5aa6/"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2021-03-12"/><meta property="article:modified_time" content="2021-03-23"/><link rel="canonical" href="https://tycholiz.github.io/Digital-Garden/notes/20206ec8-0739-464e-b41d-65307a0c5aa6/"/><meta name="next-head-count" content="13"/><link rel="preload" href="/Digital-Garden/_next/static/css/277fdfe9b7022c9c8577.css" as="style"/><link rel="stylesheet" href="/Digital-Garden/_next/static/css/277fdfe9b7022c9c8577.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/Digital-Garden/_next/static/chunks/polyfills-a40ef1678bae11e696dba45124eadd70.js"></script><script src="/Digital-Garden/_next/static/chunks/webpack-fa90faaedcc655d54918.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/framework-2f612445bd50b211f15a.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/main-b0e1b6c55ab88555627b.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/pages/_app-0b093d889a037b39223d.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/155-6b9e7c2cacce4839738c.js" defer=""></script><script src="/Digital-Garden/_next/static/chunks/pages/notes/%5Bid%5D-df993d2e11a1c064ce76.js" defer=""></script><script src="/Digital-Garden/_next/static/0HNZl62AIYuHg90cvR3Tq/_buildManifest.js" defer=""></script><script src="/Digital-Garden/_next/static/0HNZl62AIYuHg90cvR3Tq/_ssgManifest.js" defer=""></script></head><body><div id="__next"><section class="ant-layout" style="width:100%;min-height:100%"><header class="ant-layout-header" style="position:fixed;isolation:isolate;z-index:1;width:100%;border-bottom:1px solid #d4dadf;height:64px;padding:0 24px 0 2px"><div class="ant-row ant-row-center" style="max-width:992px;justify-content:space-between;margin:0 auto"><div class="ant-col"></div><div class="ant-col gutter-row ant-col-xs-0 ant-col-sm-20 ant-col-md-20 ant-col-lg-19"></div><div style="margin-left:4px;display:none;align-items:center;justify-content:center" class="ant-col ant-col-xs-4 ant-col-sm-4 ant-col-md-0 ant-col-lg-0"><span role="img" aria-label="menu" style="font-size:24px" tabindex="-1" class="anticon anticon-menu"><svg viewBox="64 64 896 896" focusable="false" data-icon="menu" width="1em" height="1em" fill="currentColor" aria-hidden="true"><path d="M904 160H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0 624H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8zm0-312H120c-4.4 0-8 3.6-8 8v64c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-64c0-4.4-3.6-8-8-8z"></path></svg></span></div></div></header><section class="ant-layout site-layout" style="margin-top:64px"><section class="ant-layout site-layout" style="flex-direction:row"><section class="ant-layout site-layout-sidebar" style="flex:0 0 auto;width:calc((100% - 992px) / 2 + 200px);min-width:200px;padding-left:calc((100% - 992px) / 2)"><aside class="ant-layout-sider ant-layout-sider-dark" style="position:fixed;overflow:auto;height:calc(100vh - 64px);flex:0 0 200px;max-width:200px;min-width:200px;width:200px"><div class="ant-layout-sider-children"></div></aside></section><section class="ant-layout side-layout-main" style="max-width:960px;display:initial"><main class="ant-layout-content main-content" role="main" style="padding:0 24px"><div class="ant-row"><div class="ant-col ant-col-24"><div class="ant-row" style="margin-left:-10px;margin-right:-10px"><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-24 ant-col-md-20"><div><h1 id="postgraphile"><a aria-hidden="true" class="anchor-heading" href="#postgraphile"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Postgraphile</h1>
<p>PostGraphile automatically detects tables, columns, indexes, relationships, views, types, functions, comments and more. It builds a GraphQL server that is highly intelligent about your data, and that automatically updates itself without restarting when you modify your database.</p>
<p>PostGraphile provisions, sets up and tears down a PostgreSQL client automatically for each GraphQL query</p>
<ul>
<li>Setup involves beginning a transaction and setting the relevant session variables, e.g. using your JWT or the pgSettings function</li>
</ul>
<h3 id="smart-comments"><a aria-hidden="true" class="anchor-heading" href="#smart-comments"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Smart Comments</h3>
<ul>
<li>in postgres, we can make user-friendly remarks on a table called <code>comments</code> by using the COMMENT statement</li>
<li>Postgraphile leverages this feature to be able to alter functionalities by adding smart comments as comments on a table</li>
</ul>
<h2 id="function"><a aria-hidden="true" class="anchor-heading" href="#function"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Function</h2>
<p><strong>Computed Column vs. Custom Query</strong></p>
<ul>
<li>We can differentiate between computed columns and custom queries by observing that computed columns must accept the table they belong to as a first arg. Of course, to be able to create a computed column we need a table to attach it to.</li>
<li>Consider the expansive nature of computed columns. They allow us to augment our existing tables with data that doesn't normally belong there.</li>
</ul>
<h3 id="computed-column"><a aria-hidden="true" class="anchor-heading" href="#computed-column"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Computed column</h3>
<ul>
<li>def - a psuedo column that we can attach to a table that will automatically be reflected in the graphql schema</li>
<li>in a function, running <code>setof nugget</code> will return a connection</li>
</ul>
<h3 id="custom-queries"><a aria-hidden="true" class="anchor-heading" href="#custom-queries"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Custom Queries</h3>
<ul>
<li>similar to computed columns, but instead of the function being callable as a node's field (ex. the <code>buckets</code> field on <code>nugget</code>), the function is callable from the root-level</li>
<li>ex. <code>all_nuggets_with_bucket_id</code> function</li>
</ul>
<h2 id="auth"><a aria-hidden="true" class="anchor-heading" href="#auth"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Auth</h2>
<ul>
<li>Postgraphile can generate JWTs easily from inside your PostgreSQL schema.
<ul>
<li>to do this, we define a <code>jwtToken</code> composite type and we pass it to <code>jwtPgTypeIdentifier</code>, and now every time that type is returned from a postgres function, it will be signed with the jwtSecret, and return it as a jwt token as part of the graphql response.</li>
</ul>
</li>
<li>when the server receives a jwtToken from the request's authorization headers, like so:</li>
</ul>
<pre><code>{
  "aud": "postgraphile",
  "role": "app_user",
  "user_id": 27
}
</code></pre>
<p>it will automatically run this code:</p>
<pre><code>set local role app_user;
set local jwt.claims.role to 'user_login';
set local jwt.claims.user_id to '27';
</code></pre>
<h2 id="exposing-http-requests-to-postgres"><a aria-hidden="true" class="anchor-heading" href="#exposing-http-requests-to-postgres"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Exposing HTTP requests to Postgres</h2>
<ul>
<li><code>pgSettings</code> lets us set the jwt within postgres' <code>current_setting</code> while having access to the request
<ul>
<li>this function fires on each request, and everything returned by it will be applied to <code>current_setting</code> (with <code>set_config</code>)</li>
<li>ex. we can get the userId from the request and update the value of <code>user_id</code> within <code>current_setting(...)</code></li>
<li><code>pgSettings</code> is a function that can be async</li>
</ul>
</li>
<li>instead of passing an object, we can pass <code>pgSettings</code> function that will get executed on each request.</li>
<li>Everything returned by <code>pgSettings</code> is applied to the current session with <code>set_config($key, $value, true)</code></li>
<li>You can use <code>pgSettings</code> to define variables that your Postgres functions/policies depend on
<ul>
<li>When adding variables for your own usage, the keys must contain either one or two periods (<code>.</code>)
<ul>
<li>Variables without periods will be interpreted as internal Postgres settings, such as role, and will be applied by Postgres</li>
<li>All settings are automatically reset when the transaction completes</li>
</ul>
</li>
<li>Here's an example of switching the user into the Postgres 'visitor' role, and applying the application setting jwt.claims.user_id:</li>
</ul>
<pre><code>pgSettings: async req => ({
    'role': 'visitor',
    'jwt.claims.user_id': req.user ? req.user.id : undefined,
    //...
}),
</code></pre>
</li>
<li>role is overridden after pgSettings is applied
<ul>
<li>But only if <code>pgDefaultRole</code> is set or there's a role property in the claim of the JWT</li>
</ul>
</li>
</ul>
<h2 id="exposing-http-requests-to-resolvers"><a aria-hidden="true" class="anchor-heading" href="#exposing-http-requests-to-resolvers"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Exposing HTTP requests to resolvers</h2>
<ul>
<li><code>additionalGraphQLContextFromRequest</code> is an optionally asynchronous function that has access to the req and res objects from your HTTP library (Express)
<ul>
<li>The result returned from the function is merged into the GraphQL context object which is passed as the third argument to every GraphQL resolver</li>
<li><code>additionalGraphQLContextFromRequest</code> let us perform asynchronous actions if we need to, for example looking up the current user in the database with Passport. Once all that is done, we can return an object from this function that will merge with the existing <code>context</code> object so the resolvers can access it.</li>
</ul>
</li>
</ul>
<h2 id="graphile-workers"><a aria-hidden="true" class="anchor-heading" href="#graphile-workers"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Graphile Workers</h2>
<ul>
<li>allows you to run jobs (e.g. sending emails, performing calculations, generating PDFs, etc) "in the background" so that your HTTP response/application code is not held up
<a href="https://github.com/graphile/worker">repo</a></li>
</ul>
<h2 id="extending-graphql-schema-makeextendschemaplugin"><a aria-hidden="true" class="anchor-heading" href="#extending-graphql-schema-makeextendschemaplugin"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Extending Graphql Schema (makeExtendSchemaPlugin)</h2>
<ul>
<li>when we use <code>makeExtendSchemaPlugin</code>, we can define types and resolvers that will get merged into the existing ones generated by Postgraphile</li>
<li>the callback returns an object with 2 keys:
<ol>
<li><code>typeDefs</code></li>
<li><code>resolvers</code>
<ul>
<li>an object whose keys are graphql types, which resolve to an object with <code>key</code>-<code>value</code> pair of <code>field</code>-<code>resolver function</code></li>
</ul>
</li>
</ol>
</li>
<li>the <code>build</code> argument is supplied to the <code>makeExtendSchemaPlugin</code> callback, and it contains lots of information and helpers defined by various plugins
<ul>
<li>includes the introspection results, inflection functions, and SQL helper (<code>build.pgSql</code>, an instance of <code>pg-sql2</code>, a query builder)</li>
</ul>
</li>
</ul>
<hr>
<h3 id="custom-mutationsqueries"><a aria-hidden="true" class="anchor-heading" href="#custom-mutationsqueries"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Custom mutations/queries</h3>
<ul>
<li>By default Postgres assumes all functions will mutate the database. Therefore, if we want the postgres function to show up as a query, we need to mark it <code>stable</code></li>
<li>when naming custom functions that get back the user some data, we need to name it as if it were a simple property on an object. We don't want to name is something like <code>getUsers</code>. Instead, we want to simply call it <code>users</code>. This makes more sense when viewing it from the graphiql perspective and querying via graphql.</li>
</ul>
<hr>
<h3 id="pooling"><a aria-hidden="true" class="anchor-heading" href="#pooling"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Pooling</h3>
<ul>
<li>if we are using postgraphile, <code>rootPgPool</code> Postgraphile doesn't know about it, as we don't pass it to the postgraphile engine. Instead, it is used in the <code>additionalGraphQLContextFromRequest</code> callback.</li>
</ul>
<hr>
<h3 id="scalar-types"><a aria-hidden="true" class="anchor-heading" href="#scalar-types"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Scalar Types</h3>
<p>PostGraphile generates the following scalar types:</p>
<ul>
<li>BigFloat, BigInt, BitString, Boolean, CidrAddress, Date, Datetime, Float, Int, InternetAddress, Interval, JSON, KeyValueHash, MacAddress, MacAddress8, String, Time, UUID</li>
</ul>
<h2 id="resources"><a aria-hidden="true" class="anchor-heading" href="#resources"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Resources</h2>
<h3 id="quality-repos"><a aria-hidden="true" class="anchor-heading" href="#quality-repos"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Quality Repos</h3>
<p><a href="https://github.com/graphile/starter">graphile/starter - lots of really quality code. check out how some of the lower level db config functions work</a></p>
<h3 id="quality-docs"><a aria-hidden="true" class="anchor-heading" href="#quality-docs"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Quality Docs</h3>
<p><a href="https://github.com/graphile/postgraphile/blob/v4/examples/forum/TUTORIAL.md">lots of overall good info, inc high level setting up the SQL</a></p>
<hr>
<h2 id="children"><a aria-hidden="true" class="anchor-heading" href="#children"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Children</h2>
<ol>
<li><a href="/Digital-Garden/notes/0eb20a5a-2ad4-4a56-8e9d-a28b8676c19e">Pubsub</a></li>
<li><a href="/Digital-Garden/notes/c9de9dac-6b16-45fb-8485-8be569b23c8e">Schema</a></li>
<li><a href="/Digital-Garden/notes/3e0dad08-376c-45b9-a08e-5062aa683e7c">Utils</a></li>
</ol></div></div><div style="padding-left:10px;padding-right:10px" class="ant-col ant-col-xs-0 ant-col-md-4"><div><div class=""><div class="ant-anchor-wrapper" style="max-height:calc(100vh - 64px);z-index:1"><div class="ant-anchor"><div class="ant-anchor-ink"><span class="ant-anchor-ink-ball"></span></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#smart-comments" title="Smart Comments">Smart Comments</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#function" title="Function">Function</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#computed-column" title="Computed column">Computed column</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#custom-queries" title="Custom Queries">Custom Queries</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#auth" title="Auth">Auth</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#exposing-http-requests-to-postgres" title="Exposing HTTP requests to Postgres">Exposing HTTP requests to Postgres</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#exposing-http-requests-to-resolvers" title="Exposing HTTP requests to resolvers">Exposing HTTP requests to resolvers</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#graphile-workers" title="Graphile Workers">Graphile Workers</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#extending-graphql-schema-makeextendschemaplugin" title="Extending Graphql Schema (makeExtendSchemaPlugin)">Extending Graphql Schema (makeExtendSchemaPlugin)</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#custom-mutationsqueries" title="Custom mutations/queries">Custom mutations/queries</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#pooling" title="Pooling">Pooling</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#scalar-types" title="Scalar Types">Scalar Types</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#resources" title="Resources">Resources</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#quality-repos" title="Quality Repos">Quality Repos</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#quality-docs" title="Quality Docs">Quality Docs</a></div><div class="ant-anchor-link"><a class="ant-anchor-link-title" href="#children" title="Children">Children</a></div></div></div></div></div></div></div></div></div></main><div class="ant-divider ant-divider-horizontal" role="separator"></div><footer class="ant-layout-footer" style="padding:0 24px 24px"></footer></section></section></section></section></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"note":{"id":"20206ec8-0739-464e-b41d-65307a0c5aa6","title":"Postgraphile","vault":{"fsPath":"../main/tech","name":"tech"},"type":"note","desc":"","links":[],"anchors":{"smart-comments":{"type":"header","text":"Smart Comments","value":"smart-comments","line":13,"column":0},"function":{"type":"header","text":"Function","value":"function","line":17,"column":0},"computed-column":{"type":"header","text":"Computed column","value":"computed-column","line":22,"column":0},"custom-queries":{"type":"header","text":"Custom Queries","value":"custom-queries","line":26,"column":0},"auth":{"type":"header","text":"Auth","value":"auth","line":30,"column":0},"exposing-http-requests-to-postgres":{"type":"header","text":"Exposing HTTP requests to Postgres","value":"exposing-http-requests-to-postgres","line":48,"column":0},"exposing-http-requests-to-resolvers":{"type":"header","text":"Exposing HTTP requests to resolvers","value":"exposing-http-requests-to-resolvers","line":70,"column":0},"graphile-workers":{"type":"header","text":"Graphile Workers","value":"graphile-workers","line":75,"column":0},"extending-graphql-schema-makeextendschemaplugin":{"type":"header","text":"Extending Graphql Schema (makeExtendSchemaPlugin)","value":"extending-graphql-schema-makeextendschemaplugin","line":79,"column":0},"custom-mutationsqueries":{"type":"header","text":"Custom mutations/queries","value":"custom-mutationsqueries","line":89,"column":0},"pooling":{"type":"header","text":"Pooling","value":"pooling","line":95,"column":0},"scalar-types":{"type":"header","text":"Scalar Types","value":"scalar-types","line":100,"column":0},"resources":{"type":"header","text":"Resources","value":"resources","line":104,"column":0},"quality-repos":{"type":"header","text":"Quality Repos","value":"quality-repos","line":105,"column":0},"quality-docs":{"type":"header","text":"Quality Docs","value":"quality-docs","line":107,"column":0}},"fname":"postgraphile","updated":1616539655055,"created":1615528088816,"parent":"0e1ca097-be9f-4e4c-a7ed-d6dfb05cd4e8","children":["0eb20a5a-2ad4-4a56-8e9d-a28b8676c19e","c9de9dac-6b16-45fb-8485-8be569b23c8e","3e0dad08-376c-45b9-a08e-5062aa683e7c"],"data":{},"contentHash":"1a041adef5a05746e55e79c7fbe2d0e4","custom":{}},"body":"\u003ch1 id=\"postgraphile\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#postgraphile\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003ePostgraphile\u003c/h1\u003e\n\u003cp\u003ePostGraphile automatically detects tables, columns, indexes, relationships, views, types, functions, comments and more. It builds a GraphQL server that is highly intelligent about your data, and that automatically updates itself without restarting when you modify your database.\u003c/p\u003e\n\u003cp\u003ePostGraphile provisions, sets up and tears down a PostgreSQL client automatically for each GraphQL query\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eSetup involves beginning a transaction and setting the relevant session variables, e.g. using your JWT or the pgSettings function\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"smart-comments\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#smart-comments\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eSmart Comments\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003ein postgres, we can make user-friendly remarks on a table called \u003ccode\u003ecomments\u003c/code\u003e by using the COMMENT statement\u003c/li\u003e\n\u003cli\u003ePostgraphile leverages this feature to be able to alter functionalities by adding smart comments as comments on a table\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"function\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#function\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eFunction\u003c/h2\u003e\n\u003cp\u003e\u003cstrong\u003eComputed Column vs. Custom Query\u003c/strong\u003e\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eWe can differentiate between computed columns and custom queries by observing that computed columns must accept the table they belong to as a first arg. Of course, to be able to create a computed column we need a table to attach it to.\u003c/li\u003e\n\u003cli\u003eConsider the expansive nature of computed columns. They allow us to augment our existing tables with data that doesn't normally belong there.\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"computed-column\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#computed-column\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eComputed column\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003edef - a psuedo column that we can attach to a table that will automatically be reflected in the graphql schema\u003c/li\u003e\n\u003cli\u003ein a function, running \u003ccode\u003esetof nugget\u003c/code\u003e will return a connection\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch3 id=\"custom-queries\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#custom-queries\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eCustom Queries\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003esimilar to computed columns, but instead of the function being callable as a node's field (ex. the \u003ccode\u003ebuckets\u003c/code\u003e field on \u003ccode\u003enugget\u003c/code\u003e), the function is callable from the root-level\u003c/li\u003e\n\u003cli\u003eex. \u003ccode\u003eall_nuggets_with_bucket_id\u003c/code\u003e function\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"auth\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#auth\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eAuth\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003ePostgraphile can generate JWTs easily from inside your PostgreSQL schema.\n\u003cul\u003e\n\u003cli\u003eto do this, we define a \u003ccode\u003ejwtToken\u003c/code\u003e composite type and we pass it to \u003ccode\u003ejwtPgTypeIdentifier\u003c/code\u003e, and now every time that type is returned from a postgres function, it will be signed with the jwtSecret, and return it as a jwt token as part of the graphql response.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003ewhen the server receives a jwtToken from the request's authorization headers, like so:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003e{\n  \"aud\": \"postgraphile\",\n  \"role\": \"app_user\",\n  \"user_id\": 27\n}\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eit will automatically run this code:\u003c/p\u003e\n\u003cpre\u003e\u003ccode\u003eset local role app_user;\nset local jwt.claims.role to 'user_login';\nset local jwt.claims.user_id to '27';\n\u003c/code\u003e\u003c/pre\u003e\n\u003ch2 id=\"exposing-http-requests-to-postgres\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#exposing-http-requests-to-postgres\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eExposing HTTP requests to Postgres\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003epgSettings\u003c/code\u003e lets us set the jwt within postgres' \u003ccode\u003ecurrent_setting\u003c/code\u003e while having access to the request\n\u003cul\u003e\n\u003cli\u003ethis function fires on each request, and everything returned by it will be applied to \u003ccode\u003ecurrent_setting\u003c/code\u003e (with \u003ccode\u003eset_config\u003c/code\u003e)\u003c/li\u003e\n\u003cli\u003eex. we can get the userId from the request and update the value of \u003ccode\u003euser_id\u003c/code\u003e within \u003ccode\u003ecurrent_setting(...)\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003epgSettings\u003c/code\u003e is a function that can be async\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003einstead of passing an object, we can pass \u003ccode\u003epgSettings\u003c/code\u003e function that will get executed on each request.\u003c/li\u003e\n\u003cli\u003eEverything returned by \u003ccode\u003epgSettings\u003c/code\u003e is applied to the current session with \u003ccode\u003eset_config($key, $value, true)\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eYou can use \u003ccode\u003epgSettings\u003c/code\u003e to define variables that your Postgres functions/policies depend on\n\u003cul\u003e\n\u003cli\u003eWhen adding variables for your own usage, the keys must contain either one or two periods (\u003ccode\u003e.\u003c/code\u003e)\n\u003cul\u003e\n\u003cli\u003eVariables without periods will be interpreted as internal Postgres settings, such as role, and will be applied by Postgres\u003c/li\u003e\n\u003cli\u003eAll settings are automatically reset when the transaction completes\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003cli\u003eHere's an example of switching the user into the Postgres 'visitor' role, and applying the application setting jwt.claims.user_id:\u003c/li\u003e\n\u003c/ul\u003e\n\u003cpre\u003e\u003ccode\u003epgSettings: async req =\u003e ({\n    'role': 'visitor',\n    'jwt.claims.user_id': req.user ? req.user.id : undefined,\n    //...\n}),\n\u003c/code\u003e\u003c/pre\u003e\n\u003c/li\u003e\n\u003cli\u003erole is overridden after pgSettings is applied\n\u003cul\u003e\n\u003cli\u003eBut only if \u003ccode\u003epgDefaultRole\u003c/code\u003e is set or there's a role property in the claim of the JWT\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"exposing-http-requests-to-resolvers\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#exposing-http-requests-to-resolvers\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eExposing HTTP requests to resolvers\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003e\u003ccode\u003eadditionalGraphQLContextFromRequest\u003c/code\u003e is an optionally asynchronous function that has access to the req and res objects from your HTTP library (Express)\n\u003cul\u003e\n\u003cli\u003eThe result returned from the function is merged into the GraphQL context object which is passed as the third argument to every GraphQL resolver\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eadditionalGraphQLContextFromRequest\u003c/code\u003e let us perform asynchronous actions if we need to, for example looking up the current user in the database with Passport. Once all that is done, we can return an object from this function that will merge with the existing \u003ccode\u003econtext\u003c/code\u003e object so the resolvers can access it.\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"graphile-workers\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#graphile-workers\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eGraphile Workers\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003eallows you to run jobs (e.g. sending emails, performing calculations, generating PDFs, etc) \"in the background\" so that your HTTP response/application code is not held up\n\u003ca href=\"https://github.com/graphile/worker\"\u003erepo\u003c/a\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"extending-graphql-schema-makeextendschemaplugin\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#extending-graphql-schema-makeextendschemaplugin\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eExtending Graphql Schema (makeExtendSchemaPlugin)\u003c/h2\u003e\n\u003cul\u003e\n\u003cli\u003ewhen we use \u003ccode\u003emakeExtendSchemaPlugin\u003c/code\u003e, we can define types and resolvers that will get merged into the existing ones generated by Postgraphile\u003c/li\u003e\n\u003cli\u003ethe callback returns an object with 2 keys:\n\u003col\u003e\n\u003cli\u003e\u003ccode\u003etypeDefs\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003e\u003ccode\u003eresolvers\u003c/code\u003e\n\u003cul\u003e\n\u003cli\u003ean object whose keys are graphql types, which resolve to an object with \u003ccode\u003ekey\u003c/code\u003e-\u003ccode\u003evalue\u003c/code\u003e pair of \u003ccode\u003efield\u003c/code\u003e-\u003ccode\u003eresolver function\u003c/code\u003e\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ol\u003e\n\u003c/li\u003e\n\u003cli\u003ethe \u003ccode\u003ebuild\u003c/code\u003e argument is supplied to the \u003ccode\u003emakeExtendSchemaPlugin\u003c/code\u003e callback, and it contains lots of information and helpers defined by various plugins\n\u003cul\u003e\n\u003cli\u003eincludes the introspection results, inflection functions, and SQL helper (\u003ccode\u003ebuild.pgSql\u003c/code\u003e, an instance of \u003ccode\u003epg-sql2\u003c/code\u003e, a query builder)\u003c/li\u003e\n\u003c/ul\u003e\n\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch3 id=\"custom-mutationsqueries\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#custom-mutationsqueries\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eCustom mutations/queries\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eBy default Postgres assumes all functions will mutate the database. Therefore, if we want the postgres function to show up as a query, we need to mark it \u003ccode\u003estable\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003ewhen naming custom functions that get back the user some data, we need to name it as if it were a simple property on an object. We don't want to name is something like \u003ccode\u003egetUsers\u003c/code\u003e. Instead, we want to simply call it \u003ccode\u003eusers\u003c/code\u003e. This makes more sense when viewing it from the graphiql perspective and querying via graphql.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch3 id=\"pooling\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#pooling\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003ePooling\u003c/h3\u003e\n\u003cul\u003e\n\u003cli\u003eif we are using postgraphile, \u003ccode\u003erootPgPool\u003c/code\u003e Postgraphile doesn't know about it, as we don't pass it to the postgraphile engine. Instead, it is used in the \u003ccode\u003eadditionalGraphQLContextFromRequest\u003c/code\u003e callback.\u003c/li\u003e\n\u003c/ul\u003e\n\u003chr\u003e\n\u003ch3 id=\"scalar-types\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#scalar-types\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eScalar Types\u003c/h3\u003e\n\u003cp\u003ePostGraphile generates the following scalar types:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eBigFloat, BigInt, BitString, Boolean, CidrAddress, Date, Datetime, Float, Int, InternetAddress, Interval, JSON, KeyValueHash, MacAddress, MacAddress8, String, Time, UUID\u003c/li\u003e\n\u003c/ul\u003e\n\u003ch2 id=\"resources\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#resources\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eResources\u003c/h2\u003e\n\u003ch3 id=\"quality-repos\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#quality-repos\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eQuality Repos\u003c/h3\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/graphile/starter\"\u003egraphile/starter - lots of really quality code. check out how some of the lower level db config functions work\u003c/a\u003e\u003c/p\u003e\n\u003ch3 id=\"quality-docs\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#quality-docs\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eQuality Docs\u003c/h3\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/graphile/postgraphile/blob/v4/examples/forum/TUTORIAL.md\"\u003elots of overall good info, inc high level setting up the SQL\u003c/a\u003e\u003c/p\u003e\n\u003chr\u003e\n\u003ch2 id=\"children\"\u003e\u003ca aria-hidden=\"true\" class=\"anchor-heading\" href=\"#children\"\u003e\u003csvg aria-hidden=\"true\" viewBox=\"0 0 16 16\"\u003e\u003cuse xlink:href=\"#svg-link\"\u003e\u003c/use\u003e\u003c/svg\u003e\u003c/a\u003eChildren\u003c/h2\u003e\n\u003col\u003e\n\u003cli\u003e\u003ca href=\"/Digital-Garden/notes/0eb20a5a-2ad4-4a56-8e9d-a28b8676c19e\"\u003ePubsub\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/Digital-Garden/notes/c9de9dac-6b16-45fb-8485-8be569b23c8e\"\u003eSchema\u003c/a\u003e\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"/Digital-Garden/notes/3e0dad08-376c-45b9-a08e-5062aa683e7c\"\u003eUtils\u003c/a\u003e\u003c/li\u003e\n\u003c/ol\u003e","noteIndex":{"id":"0e1ca097-be9f-4e4c-a7ed-d6dfb05cd4e8","title":"Root","vault":{"fsPath":"../main/tech","name":"tech"},"type":"note","desc":"","links":[],"anchors":{"digital-garden":{"type":"header","text":"Digital Garden","value":"digital-garden","line":8,"column":0}},"fname":"root","updated":1618676699718,"created":1615482407722,"parent":null,"children":["723b0cf7-a5f3-4c71-a811-2c782faa4cc4","mcq7ZV8MBAMVYrXg","dMS8QtNyJCwovtfh6ERrp","ZaTr28eWk1DrXOEsc1YVb","WH8jEz5lviqlnG5f","a19c5ab0-fd8c-4bd0-9aed-da5abefabc45","4586ac41-3af7-4176-aaf0-440ad1773bc9","610b951b-7363-471f-acd5-210710b9d104","f29f31f3-7235-41ad-83a1-b64f3f466916","3445f14b-9f67-412d-9762-dc14ee7c90e4","c3304982-eb1c-45ec-8556-4599d2286b5c","facc2b01-755a-409f-99f6-57bef2d1501f","b965d9fa-c200-4a8d-9323-73b9c2565812","4d5aab64-f4a4-40a0-9155-f28aaf49d38a","a95e8592-84c0-4698-a0d9-07e8e130b322","234faa4d-432f-43f4-99fb-08ac4c01bf9b","105fd41a-910d-4b94-8686-98c3933931f2","f3bcc3d9-7232-41f4-aaaf-86a99b56dc65","ANfx9Z4a6ZA0uJuSHtbIJ","4668ac41-f2d5-40c0-9144-efb456d8663b","j8xePJ5wfKsznvM5DP5q6","dc79799f-a55d-48ab-a8be-c48adb1b19c0","f6feef57-b8f5-451f-a09a-7b63f6a07183","12797f4e-92d0-447e-adc7-e5cb4ff4c883","5a9fb1df-478e-4687-9be0-5cb97e61ec57","1374e9e9-1cbc-4e1f-b1ca-66b8569533dd","f529cc34-aba0-45ca-ad7e-02ddda318941","0zcauha3il2NqtxZazIo7","9bbd6f68-03b2-41f4-92e4-2ca313e8b450","5a2ab598-fa7e-4471-8bda-9f5831b679ae","3b7ffbbf-762e-411f-8fad-5e2b1b95e384","81e5a201-c843-49d1-b291-f99d818cee0c","295ca45b-6851-4d38-9ecb-1d7e4a885849","vdjkh6890a6Ye6vvbN0CD","b3b7587a-fbd2-48a9-aef1-4efc90458e82","znCO2WghOAWC8nBGb4Ooa","7cc5d9c3-20d8-4fef-aca2-7d6dcdc7b3d7","f32fab12-3c92-4e91-8d61-01e17e734910","fqVQpS9FBiXgKsZX3R3sJ","53b47d5a-542b-4fab-8f6c-c70574ab7a48","963c4b54-02bd-4943-a15f-52cf59ffd0f4","739907b4-b36d-4ad1-866d-c9f8050de776","e65188a1-177e-4ab2-99f9-75f85d537621","fajYnbVhCRDi74xn0H30R","bArGdGwqo3iFkyKMyE7qR","ffYYlFAOinMkMeUg","5d700782-fb81-416e-83f9-5dd88260e350","w3MsVswhiuHRpAOQ","s2PhLzio3pcBg3bQ","d8118e61-b25f-4a6f-8f88-4e7ddd69827f","e1c5eaef-0205-4e6d-ab9f-5a207d58cc12","55a2161d-d415-4fbd-98cb-ff8aed19e6ee","67265fd9-7fbd-4bf7-b3c9-ced802b8a830","dvxpt2xKPsfCOTR4lY8Qp","a68b9a8c-a9c9-4133-8230-2671b2d8d86b","3bb25f58-2b50-4fa3-af55-48ea9f88a081","egctyVUjVesp2xA5t0ZYt","76420b75-f886-43ad-a876-c4fd4ad09ff2","1310c9cf-0160-4ad5-aad7-cf355c9313ac","6c54da8e-be6f-4ce3-b642-ef3108533df9","77ebb3d5-30b3-44e0-badc-02314bfd4f12","0e4f1336-2037-42e7-a854-054718e9359f","6412cc53-4648-46c1-8be6-c6d1c301baa1","c56bb2bc-4c2b-4bce-87e7-f1e655aa449a","UFrwsXzC1yr7Ge8FF8Vbo","a8edc4ac-028b-40ec-872a-e4a005b04b2a","38d933b3-770f-49df-b1ac-f2ae4f6061fd","vqPq_S-Il3EV72fUR41r6","93de42ca-53ea-460a-baa7-b9ec5c47cb1e","3bcd5b24-cdfa-45ad-b249-55ae92119ed3","aO8W81Z0PyIb6Hs7nOHPW","27f2c279-9420-4375-9487-5493c1dbbefc","Xt8o0SFdV1BIvmCKb1Ign","05537701-5721-425c-a0d5-8ec5da941220","1b6e8550-252e-4f9f-a586-05044cb97f0a","4866aa20-2068-47f0-afd1-c2b96a24f951","PXd6hUzi0wF7oPnT","f7c590dc-921d-4b6f-8f8e-e075b0c16035","f4355062-fdda-4c6f-a969-3f8a10c15475","c299d2dd-7cbd-4b81-976a-37b808ee41a8","9c56d34a-84ee-481e-ac5a-13fa56750a3c","60f0e948-b809-40de-aac1-180423cbebcd","dfab2e99-6155-482d-a598-8b8cc11f7ddc","e6ff7608-3de4-46e3-93a7-24ba07f70f42","bb4b4e79-9835-4284-bcac-d3de9b203e1a","3babc3d2-79ae-470a-9c06-ab8bba2e684e","4eeb4df6-2842-4db4-84ce-1992975f36a5","dff06309-f792-4ee2-a0ef-529972167027","d1aaf074-9c4c-4926-9106-44b71fd92529","20206ec8-0739-464e-b41d-65307a0c5aa6","3IFIK1ByzeIxZCByryGLN","0ba5c14a-800b-4614-ad5b-0ae7102e269e","db9cdb23-f02b-426c-b27e-baafb72916bd","7a81c659-7511-48c0-a78f-552d0e6cfff7","8e83deb1-8f7c-439e-b991-70e544645bfb","ubXzUle7zxv25VkjiLmpR","fb9dbfa7-978e-4f56-aeb7-3c97fb6c9e93","b6226bd4-551d-4670-a956-158bdce3f5a6","f691cb23-bc18-4b33-b454-155b1e785d62","a02e32ca-2839-46bc-a452-684f01a4e671","887233a2-8653-46ef-adce-2e482007942b","b6746509-f9f8-4823-b3b9-0d6d5f1fdb69","vlb4ItR9EQCCw9ACUA5h7","f39cc3a8-8357-49e5-8cdb-04450d05d913","1426c9b1-f3c1-4c01-8efd-a732c782c48c","dCGCWXgAmiOZXbdULT1m6","e02953c0-95d2-4101-a117-f8e0221800f0","GL8aMKtYOxcE560XF4HUK","9cc2f536-ad6d-49d2-bf6a-30284dfa1158","f9503aa6-bceb-4b11-89cd-d7e6f50d5cb0","e9bf14ec-5801-4be8-ba1e-3034dc742fa6","fee6c25b-8ea8-45bf-89d5-8c6d036b03b6","b28d278d-4fa0-4eac-9d26-dd6b10eb169d","yJwSC7hqYIezTFHf5i0Ev","5B2iI6ltu8TF5LJWAfXUE","4db45135-9630-4554-8ad4-6ca853621fca","MA3EsQQpV6iMx8j3hkJPK","84143a1b-aa79-40ff-bcae-6d9858fec127","osu6JGOnvXJ5gt3tpqWZY","1a6173cd-cf13-4b34-a522-8350bf9a364f","xRWsry32YkvSjs2Z","39SlH3nIiO6oQSwmZaMXT","TJrAQeEG6EjrEarYyIbYK","240d9848-b03d-445a-8787-090d79024b6a","5730411b-fefa-49e0-aced-451f5b148299","63a922b8-2d60-4ea7-9f47-bcfaa0caef7e","734cd78d-0bc9-426b-803d-1efc84dfffe5","3baf3651-9e5a-46bd-bba1-f0c0caf7385c","6733cf80-f2b1-41eb-8ddf-e2fa947f6b43","si3z090WsiLasMhJBa1Az","3577d6e8-1437-4f7b-9da2-c353ed232038"],"data":{},"contentHash":"b5a875cede0b3b4abe401df717960205","custom":{"nav_order":0,"permalink":"/"},"body":"\n# Digital Garden\n\nThis Wiki of Personal Information is organized according to domains and their\nsub-domains, along with specific implementation of those domains.\n\nFor instance, Git itself is a domain. Sub-domains of Git, would be `commit`,\n`tags`, `reflog` etc. implementations of each of those could be `cli`, `strat`\n(strategies), `inner` etc.\n\nThe goal of the wiki is to present data in a manner that is from the perspective\nof a querying user. Here, a user is a programmer wanting to get key information\nfrom a specific domain. For instance, if a user wants to use postgres functions\nand hasn't done them in a while, they should be able to query\n`postgres.functions` to see what information is available to them.\n\nThis wiki has been written with myself in mind. While learning each of these\ndomains, I have been sensitive to the aha moments and have noted down my\ninsights as they arose. I have refrained from capturing information that I\nconsidered obvious or otherwise non-beneficial to my own understanding.\n\nThe ability I hope to gain from this wiki is the ability to step away from any\ngiven domain for a long period of time, and be able to be passably useful for\nwhatever my goals are within a short period of time. Of course, this is all\nvague sounding, and really depends on the domain, along with the ends I am\ntrying to reach.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":3,"useFMTitle":true,"useNoteTitleForLink":true,"noLegacyNoteRef":true,"mermaid":true,"useKatex":true,"dev":{"enablePreviewV2":true},"site":{"assetsPrefix":"/Digital-Garden","siteUrl":"https://tycholiz.github.io","copyAssets":true,"siteHierarchies":["root"],"siteRootDir":"docs","usePrettyRefs":true,"title":"Dendron","description":"Publishable tech notes","duplicateNoteBehavior":{"action":"useVault","payload":["tech"]},"siteLastModified":true,"gh_edit_branch":"main","usePrettyLinks":true,"siteNotesDir":"notes","siteFaviconPath":"favicon.ico","gh_edit_link":true,"gh_edit_link_text":"Edit this page on GitHub","gh_root":"docs/","gh_edit_view_mode":"edit","writeStubs":true,"siteIndex":"root"},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{}},"workspace":{"dendronVersion":"0.67.1","vaults":[{"fsPath":"../main/tech","name":"tech"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"enableUserTags":true,"enableHashTags":true},"usePrettyRefs":true}},"__N_SSG":true},"page":"/notes/[id]","query":{"id":"20206ec8-0739-464e-b41d-65307a0c5aa6"},"buildId":"0HNZl62AIYuHg90cvR3Tq","assetPrefix":"/Digital-Garden","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>