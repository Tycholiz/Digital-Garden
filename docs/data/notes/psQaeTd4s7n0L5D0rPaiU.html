<h1 id="raise">Raise<a aria-hidden="true" class="anchor-heading icon-link" href="#raise"></a></h1>
<p><code>RAISE</code> can be an easy and powerful way to self-document the code.</p>
<h2 id="levels">Levels<a aria-hidden="true" class="anchor-heading icon-link" href="#levels"></a></h2>
<ul>
<li>DEBUG</li>
<li>LOG</li>
<li>INFO</li>
<li>NOTICE</li>
<li>WARNING</li>
<li>EXCEPTION (default level)</li>
<li>raises an error, aborting current transaction</li>
</ul>
<h2 id="where-and-when-messages-get-sent">Where and when messages get sent<a aria-hidden="true" class="anchor-heading icon-link" href="#where-and-when-messages-get-sent"></a></h2>
<p>raising with different levels will generate messages of different priority levels.</p>
<ul>
<li>Where or not a message of a given priority will be sent to the client or not is determined by the <code>log_min_messages</code> and <code>client_min_messages</code> configuration variables.
<ul>
<li>This file also determines if we write to server log</li>
</ul>
</li>
</ul>
<h2 id="body">Body<a aria-hidden="true" class="anchor-heading icon-link" href="#body"></a></h2>
<p>After specifying the level, we can provide a simple string literal, which can be followed by optional argument expressions to be inserted into the string</p>
<pre><code>RAISE NOTICE '% %', v_job_id, v_job_name;
</code></pre>
<h3 id="using">Using<a aria-hidden="true" class="anchor-heading icon-link" href="#using"></a></h3>
<p>We can attach additional info to the error by combining <code>using</code> with an option, one of:</p>
<ul>
<li>MESSAGE</li>
<li>DETAIL</li>
<li>HINT</li>
<li>ERRCODE
<ul>
<li>Specifies the error code (SQLSTATE) to report, either by condition name or directly as a five-character SQLSTATE code</li>
</ul>
</li>
<li>COLUMN</li>
<li>CONSTRAINT</li>
<li>DATATYPE</li>
<li>TABLE</li>
<li>SCHEMA</li>
</ul>
<pre><code>RAISE EXCEPTION 'Nonexistent ID --> %', user_id
      USING HINT = 'Please check your user ID';
</code></pre>