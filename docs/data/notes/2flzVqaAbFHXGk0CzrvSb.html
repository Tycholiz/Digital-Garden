<h1 id="metro"><a aria-hidden="true" class="anchor-heading" href="#metro"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Metro</h1>
<h1 id="metro-bundler"><a aria-hidden="true" class="anchor-heading" href="#metro-bundler"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Metro Bundler</h1>
<ul>
<li>when we run <code>yarn start</code> both a node.js server and metro bundler are started.</li>
<li>Metro can be thought of as similar to "webpack for react native"</li>
<li>Metro is a JavaScript bundler. It takes in an entry file and various options, and gives you back a single JavaScript file that includes all your code and its dependencies.
<ol>
<li>Metro builds a dependency graph of all modules required from the entry point (ie, our whole react-native app)</li>
<li>Metro transforms modules into a format that React-Native can understand</li>
<li>Metro serializes the transformed modules to form a bundle
<ul>
<li>A bundle is just a bunch of modules combined into a single js file.</li>
</ul>
</li>
<li>The bundlefile gets installed on the device, where its code is then executed.
<ul>
<li>Remember that when you are writing code for a React Native application, your code is not "translated" to Java/Swift/whatever. The Native Modules will send events to a Javascript thread, and the JS thread will execute your bundled React Native code.</li>
</ul>
</li>
</ol>
</li>
<li>I/O of Metro
<ul>
<li>Input - entryfile along with any options</li>
<li>Output - the bundle</li>
</ul>
</li>
<li>Metro bundler is not used for production
<ul>
<li>ex. running <code>react-native run-ios --configuration Release</code></li>
</ul>
</li>
</ul>
<p>The Bundle</p>
<ul>
<li>The bundlefile can be found at <code>http://localhost:8081/index.bundle?platform=ios&#x26;dev=true&#x26;minify=false</code>. This is the API through which the device will access the bundle
<ul>
<li>this is served from memory, therefore does get written into our project directory</li>
</ul>
</li>
<li>The bundle may be stored in different formats, such as binary or .bundle file.</li>
<li>Metro bundler also translates JSX to standard javascript</li>
</ul>