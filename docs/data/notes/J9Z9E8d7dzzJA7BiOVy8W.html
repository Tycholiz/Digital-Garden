<h1 id="tree"><a aria-hidden="true" class="anchor-heading" href="#tree"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Tree</h1>
<p>A tree is Git's representation of snapshots, meaning they store the state of a directory at a given point (without notion of time/author). To tie trees together into a coherent history, Git wraps each one in a commit object and specifies a parent commit. By following the parent of each commit, we can walk through the entire history of the project.</p>
<ul>
<li>Each commit refers to only one tree object.</li>
</ul>
<p>The Tree holds pointers to filenames and other trees, effectively allowing us to group files together (which is essentially what a directory is)</p>
<ul>
<li>A tree object contains 1+ entries. Each of which is either a blob or subtree hash.</li>
</ul>
<p>The tree object is what associates the filename (or directory name) with its content.</p>
<ul>
<li>We can confirm this by running <code>git cat-file</code> on the tree object. It will give us back a list of blobs and their associated filenames</li>
<li>We can use a plumbing command <code>update-index</code>, which effectively allows us to associate an existing blob with a filename:
<ul>
<li><code>git update-index --add --cacheinfo 100644 83baae61804e65cc73a7201a7252750c76066a30 test.txt</code>
<ul>
<li>add a file to the index (<code>--add</code>), get it from the object database (<code>--cacheinfo</code>)</li>
<li>upon executing this command, we have <code>test.txt</code> added to the staging area.</li>
<li><code>100644</code> represents the file permissions on disk</li>
</ul>
</li>
</ul>
</li>
</ul>
<p>The tree is normally made by examining the state of the staging area</p>
<p>Trees also include information such as Unix file permissions for each entry</p>
<p>The tree itself doesnâ€™t know where it exists within the repository, that is the role of the objects pointing to the tree. The tree referenced by <code>&#x3C;ref>^{tree}</code> is a special tree: the root tree. This designation is based on a special link from your commits.</p>
<p>The fact that git doesn't really about folder names is precicely the reason why you cannot commit an empty directory. Often on Github you will notice that people put a blank <code>.keep</code> file. This naming is meaningless to Git, but it is just a convention, as if to say "hey, I just put a placeholder here so we can still get the empty directory to be part of our tree."</p>
<hr>
<h2 id="backlinks"><a aria-hidden="true" class="anchor-heading" href="#backlinks"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Backlinks</h2>
<ul>
<li><a href="/Digital-Garden/notes/K5d4cyEMtCOR2Vraa99FV">Refs</a></li>
</ul>