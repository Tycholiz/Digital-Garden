<h1 id="virtual-private-cloud"><a aria-hidden="true" class="anchor-heading" href="#virtual-private-cloud"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Virtual Private Cloud</h1>
<p>Virtual Private Cloud (VPC) is a service that allows us control over the virtual networking environment</p>
<ul>
<li>gives control over resource placement, connectivity, security etc.</li>
</ul>
<p>You can use Amazon VPC to create a private network for resources such as databases, cache instances, or internal services.</p>
<p>VPC is a logically isolated section of the AWS cloud where you can launch AWS resources in a virtual network that you define.</p>
<ul>
<li>You have complete control over your virtual networking environment, including selection of your own IP address ranges, creation of subnets, and configuration of route tables and network gateways.</li>
<li>The network config of the VPC is highly configurable
<ul>
<li>ex. you can create a public-facing subnet for your web servers that have access to the Internet, and place your backend systems such as databases or application servers in a private-facing subnet with no Internet access.</li>
</ul>
</li>
</ul>
<p>Process:</p>
<ol>
<li>create your VPC</li>
<li>add resources to it, such as EC2 and RDS instances</li>
<li>define how your VPCs communicate with each other across accounts, Availability Zones (AZs), or Regions.</li>
</ol>
<p>VPC comprises a variety of objects:</p>
<ul>
<li><em>A Virtual Private Cloud</em>: A logically isolated virtual network in the AWS cloud. You define a VPCs IP address space from ranges you select.</li>
<li><em>Subnet</em>: A segment of a VPC’s IP address range where you can place groups of isolated resources.</li>
<li><em>Internet Gateway</em>: The Amazon VPC side of a connection to the public Internet.</li>
<li><em>NAT Gateway</em>: A highly available, managed <a href="/Digital-Garden/notes/thpj9gdHKTOtq6O6N2PJa">NAT</a> service for your resources in a private subnet to access the Internet.</li>
<li><em>Virtual private gateway</em>: The Amazon VPC side of a VPN connection.</li>
<li><em>Peering Connection</em>: A peering connection enables you to route traffic via private IP addresses between two peered VPCs.</li>
<li><em>VPC Endpoints</em>: Enables private connectivity to services hosted in AWS, from within your VPC without using an Internet Gateway, <a href="/Digital-Garden/notes/jc0RDgkwYxFOvbxxDVXtY">VPN</a>, <a href="/Digital-Garden/notes/thpj9gdHKTOtq6O6N2PJa">NAT</a> devices, or firewall proxies.</li>
<li><em>Egress-only Internet Gateway</em>: A stateful gateway to provide egress only access for IPv6 traffic from the VPC to the Internet.</li>
</ul>
<p>VPC endpoints enable you to privately connect your VPC to services hosted on AWS without requiring an Internet gateway, a NAT device, VPN, or firewall proxies</p>
<ul>
<li>Endpoints are horizontally scalable</li>
<li>VPC offers two different types of endpoints: gateway type endpoints and interface type endpoints.
<ul>
<li>Gateway type endpoints are available only for AWS services including S3 and DynamoDB.</li>
<li>Interface type endpoints provide private connectivity to services powered by PrivateLink.</li>
</ul>
</li>
</ul>
<p>Multiple VPCs within a single region can communicate with each other
<img src="/Digital-Garden/assets/images/2021-11-23-12-55-44.png"></p>
<p>VPCs usually don't communicate, but we can open a few ports if they really need to. the tendency is to be selective</p>
<h2 id="concepts"><a aria-hidden="true" class="anchor-heading" href="#concepts"><svg aria-hidden="true" viewBox="0 0 16 16"><use xlink:href="#svg-link"></use></svg></a>Concepts</h2>
<p>VPC networks includes the following network elements:</p>
<ul>
<li><em>Elastic network interface</em> – elastic network interface is a logical networking component in a VPC that represents a virtual network card.</li>
<li><em>Subnet</em> – A range of IP addresses in your VPC. You can add AWS resources to a specified subnet. Use a public subnet for resources that must connect to the internet, and a private subnet for resources that don't connect to the internet.</li>
<li><em>Security group</em> – use security groups to control access to the AWS resources in each subnet.</li>
<li><em>Access control list (ACL)</em> – use a network ACL to provide additional security in a subnet. The default subnet ACL allows all inbound and outbound traffic.</li>
<li><em>Route table</em> – contains a set of routes that AWS uses to direct the network traffic for your VPC. You can explicitly associate a subnet with a particular route table. By default, the subnet is associated with the main route table.</li>
<li><em>Route</em> – each route in a route table specifies a range of IP addresses and the destination where Lambda sends the traffic for that range. The route also specifies a target, which is the gateway, network interface, or connection through which to send the traffic.</li>
<li><em>NAT gateway</em> – An AWS Network Address Translation (NAT) service that controls access from a private VPC private subnet to the Internet.</li>
<li><em>VPC endpoints</em> – You can use an Amazon VPC endpoint to create private connectivity to services hosted in AWS, without requiring access over the internet or through a NAT device, VPN connection, or AWS Direct Connect connection. For more information, see AWS PrivateLink and VPC endpoints.</li>
</ul>