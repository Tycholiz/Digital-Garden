<h1 id="plpgsql">Plpgsql<a aria-hidden="true" class="anchor-heading icon-link" href="#plpgsql"></a></h1>
<p>PL/pgSQL is an interpreted language, which means that the function body is not evaluated for syntactical soundness as in compiled programming languages like Pascal or C++. Therefore you can write a function which only reveals any errors when it is invoked.</p>
<p>Think of sql commands as having the potential to return rows. In this sense, they are like functions.</p>
<ul>
<li>in javascript we can do something like this:</li>
</ul>
<pre class="language-js"><code class="language-js"><span class="token keyword">const</span> returnedValueFromFn <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre>
<ul>
<li>in plpgsql we can do something like this:</li>
</ul>
<pre class="language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">returning</span> <span class="token operator">*</span> <span class="token keyword">into</span> v_users<span class="token punctuation">;</span>
</code></pre>
<p>Since these sql commands are like functions, we can imagine that <code>v_user_id</code> is an argument to the following query:</p>
<pre class="language-sql"><code class="language-sql"><span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> users <span class="token keyword">where</span> id <span class="token operator">=</span> v_user_id<span class="token punctuation">;</span>
</code></pre>
<ul>
<li>When executing a SQL command in this way, PL/pgSQL may cache and re-use the execution plan for the command</li>
</ul>
<h1 id="e-resources">E Resources<a aria-hidden="true" class="anchor-heading icon-link" href="#e-resources"></a></h1>
<p><a href="https://stackoverflow.com/questions/4547672/return-multiple-fields-as-a-record-in-postgresql-with-pl-pgsql">Return multiple fields without making new type</a></p>
<hr>
<strong>Children</strong>
<ol>
<li><a href="/notes/zdrNdVkiVb44iIkhOZdzg">For Loops</a></li>
<li><a href="/notes/SD7NZaJDVMavSLsLWRNs3">Setof</a></li>
<li><a href="/notes/1HC7Fui597WWMsdic04uV">Statements</a></li>
<li><a href="/notes/4f4cd05c-52e2-4157-86a4-b2870d6d84a7">Types</a></li>
</ol>