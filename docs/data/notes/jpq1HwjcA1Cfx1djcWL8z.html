<h1 id="router">Router<a aria-hidden="true" class="anchor-heading icon-link" href="#router"></a></h1>
<p>Routers are unique in that they have 2 IP addresses: a public WAN-facing one, and a private LAN-facing one.</p>
<ul>
<li>Routers perform the "traffic directing" functions on the Internet, forwarding packets from one network to another
<ul>
<li>in other words, data packets are forwarded through the networks of the internet from router to router until they reach their destination computer (with routing algorithms determining the choice of route.)</li>
<li>A router is like a railroad junction: from one incoming track, there are multiple possible destinations, so which one does it choose? You have to configure that (configurable through <a href="/notes/V3PYC4CioHjvRkfghpGpk">port forwarding</a>)</li>
</ul>
</li>
<li>Each router has a prior knowledge only of networks attached to it directly</li>
<li>routers gain knowledge of the topology of the network when the routing protocol shares the information of who the router's neighbors are. Each neighbor then shares this information with <em>their</em> neighbors, and so on until the whole network is revealed. </li>
<li>routing protocols are layer management protocols for L3, regardless of their transport mechanism
<ul>
<li>in other words, data may very well travel over L2 or L4</li>
</ul>
</li>
<li><strong>DSL router</strong> - a residential-grade router designed to create LANs and connect them to a WAN (which is provided by the ISP)
<ul>
<li>aka residential gateway</li>
</ul>
</li>
<li>a residential router uses a modem to connect the LAN to the WAN</li>
</ul>
<h3 id="how-routers-determine-which-route-to-take">How routers determine which route to take<a aria-hidden="true" class="anchor-heading icon-link" href="#how-routers-determine-which-route-to-take"></a></h3>
<ul>
<li>Each packet contains an address in its header, which has a hierarchical structure (like a postal code)
<ul>
<li>Each router has a forwarding table which is used to compare against a part of the address to determine the next step in the packet's journey</li>
<li>Specifically, the routing table is like a hashmap that makes portions of the destination address to outbound links.</li>
</ul>
</li>
<li>each time a packet arrives at a router, the router consults its routing table.
<ul>
<li>This routing table contains the network ID and the host ID</li>
</ul>
</li>
</ul>
<h3 id="routing-table">Routing Table<a aria-hidden="true" class="anchor-heading icon-link" href="#routing-table"></a></h3>
<p>Whenever a node needs to send data to another node on a network, it must first know where to send it. If a direct connection can't be made, then the data has to be sent via other nodes along a route to the destination node.</p>
<ul>
<li>Imagine a node somewhere along this chain receives a packet of data. It has no idea where it came from or where it's going. A routing table solves this problem, as it gives each node in the chain the address for the destination node. 
<ul>
<li>Effectively, the router says "I don't know how to deal with 192.168.0.34, but I know that 192.168.0.254 (a router) knows, so if I get a packet destined for that address, I'll just pass it along to that router, since he knows how to deal with it." </li>
</ul>
</li>
<li>A routing table is a database that keeps track of paths and uses these to determine which way to forward traffic.</li>
<li>A routing table is a data file in RAM that is used to store route information about directly connected and remote networks.</li>
</ul>
<hr>
<h3 id="core-routers">Core routers<a aria-hidden="true" class="anchor-heading icon-link" href="#core-routers"></a></h3>
<ul>
<li>core routers are the supercomputers of the internet</li>
<li>designed to operate on the internet backbone, as opposed to on the edge of a network (edge router, ex. home network).</li>
<li>the core router's purpose is to forward ip packets along. </li>
<li>edge routers connect to core routers</li>
</ul>
<hr>
<h3 id="seeing-all-nodes-on-a-local-area-network">Seeing all nodes on a local area network:<a aria-hidden="true" class="anchor-heading icon-link" href="#seeing-all-nodes-on-a-local-area-network"></a></h3>
<p>We can see all nodes on a local area network with:</p>
<ul>
<li><code>sudo nmap -sn 192.168.1.0/24</code>
<ul>
<li>the 24 is CIDR notation, signifying that we will scan from 192.168.1.0 to 192.168.1.255
<ul>
<li><a aria-hidden="true" class="block-anchor anchor-heading icon-link" id="^RUsJkF0C" href="#^RUsJkF0C"></a>the inclusion of 24 means we are scanning an <em>address block</em> </li>
</ul>
</li>
</ul>
</li>
</ul>
<hr>
<strong>Children</strong>
<ol>
<li><a href="/notes/thpj9gdHKTOtq6O6N2PJa">NAT (Network Area Translation)</a></li>
<li><a href="/notes/V3PYC4CioHjvRkfghpGpk">Port Forwarding</a></li>
<li><a href="/notes/ORAXCobDqfaM65YcOfKJy">Port Knocking</a></li>
<li><a href="/notes/LQTGfxsqGskaiWfcoavEs">Port Triggering</a></li>
</ol>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/notes/Tr7Vo4iF0Pbb9qVfycLVM">IP Address</a></li>
</ul>