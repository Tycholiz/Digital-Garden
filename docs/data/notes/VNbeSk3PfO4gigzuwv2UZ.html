<h1 id="cdn">CDN<a aria-hidden="true" class="anchor-heading icon-link" href="#cdn"></a></h1>
<p>CDNs are a kind of <a href="/notes/kW6jznu1QgEOogMoby4E9">cache</a> that comes into play for sites serving large amounts of static media. In a typical CDN setup, a request will first ask the CDN for a piece of static media; the CDN will serve that content if it has it locally available. If it isn’t available, the CDN will query the back-end servers for the file, cache it locally, and serve it to the requesting user.</p>
<ul>
<li>
<p>If the system you are building is not large enough to have its own CDN, you can ease a future transition by serving the static media off a separate subdomain (e.g., <code>static.yourservice.com</code>) using a lightweight HTTP server like Nginx, and cut-over the DNS from your servers to a CDN later.</p>
</li>
<li>
<p>A website server normally has a caching server along with it, which will cache the webpage. All requests to the URL will retrieve the content from the cache, until the expiry time is hit. At that point, the user will make a fetch, which will see that the cached content is expired, and will then hit the server, which will retrieve the content, pass it to the caching server, which passes it to the user. All subsequent calls (from other users) will be intercepted by the caching server until it is expired (warm caching)
<img src="/assets/images/2021-03-11-15-50-18.png"></p>
</li>
<li>
<p>A CDN provider will place servers in many locations, but some of the most important are the connection points at the edge between different networks</p>
</li>
<li>
<p>Without a CDN, transit may take a slower and/or more convoluted route between source and destination</p>
</li>
<li>
<p>Originally, a CDN was like a cache for static assets that don't change, like images, logos, stylesheets. Nowadays, that benefit only make up ~10% of everything a CDN can do. </p>
</li>
<li>
<p>while CDNs perform caching, not everything that performs caching is a CDN</p>
</li>
<li>
<p>CDNs reduce the importance of where your web server is located, since this would theoretically only impact the timecost of the first fetch of data of each expiry cycle.</p>
<ul>
<li>In practice, this is only true for data that doesn't change often. If we are talking about a Facebook news feed that updates frequently, then you are still going to be interfacing a lot with the server, making the location of your server ultimately still important. </li>
</ul>
</li>
<li>
<p>The DNS plays a central role in the CDN </p>
</li>
<li>
<p>a CDN is known as a distributed internet service</p>
</li>
</ul>
<p><img src="/assets/images/2021-03-11-15-50-32.png"></p>
<p>If any of the following is true for your website, you should definitely opt for a CDN:</p>
<ul>
<li>Large amounts of traffic</li>
<li>A scattered, international user-base</li>
<li>Expected growth</li>
<li>Lots of media content, such as images and videos</li>
</ul>
<p>If the answer to all 4 is no, you won’t notice a difference in speed, but you will still get the benefit of <a href="/notes/y874juy5wB8PjaLE8fBpD">DDoS</a> protection.</p>
<hr>
<strong>Backlinks</strong>
<ul>
<li><a href="/notes/5Naeav9tFGcBYc0DPj9Sb">Batching</a></li>
</ul>