{"pageProps":{"note":{"id":"UkLhcujsRG1aNy2DcLcor","title":"Imports","desc":"","updated":1627403243283,"created":1615066761587,"custom":{},"fname":"js.lang.imports","type":"note","vault":{"fsPath":"../main/tech","name":"tech"},"contentHash":"3273703da8a847b05f316aea884a7fb8","links":[],"anchors":{"es-modules-es6-import":{"type":"header","text":"ES Modules (ES6 Import)","value":"es-modules-es6-import","line":12,"column":0,"depth":1},"importing-without-name":{"type":"header","text":"Importing without name","value":"importing-without-name","line":40,"column":0,"depth":3},"aggregating-modules-re-exporting":{"type":"header","text":"Aggregating modules (Re-exporting)","value":"aggregating-modules-re-exporting","line":46,"column":0,"depth":3},"commonjs-imports":{"type":"header","text":"CommonJS Imports","value":"commonjs-imports","line":55,"column":0,"depth":1},"moduleexports":{"type":"header","text":"module.exports","value":"moduleexports","line":56,"column":0,"depth":2},"exports":{"type":"header","text":"exports","value":"exports","line":74,"column":0,"depth":2},"commonjs-vs-es6-modules":{"type":"header","text":"CommonJS vs ES6 Modules","value":"commonjs-vs-es6-modules","line":88,"column":0,"depth":1},"circular-dependencies":{"type":"header","text":"Circular Dependencies","value":"circular-dependencies","line":93,"column":0,"depth":1},"dynamic-imports":{"type":"header","text":"Dynamic Imports","value":"dynamic-imports","line":103,"column":0,"depth":1},"ue-resources":{"type":"header","text":"UE Resources","value":"ue-resources","line":134,"column":0,"depth":1}},"children":[],"parent":"WjxypcKZh8Ok6KxP87DoH","data":{}},"body":"<h1 id=\"imports\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#imports\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Imports</h1>\n<p>Modules import one another using a module loader. At runtime the module loader is responsible for locating and executing all dependencies of a module before executing it. Well-known module loaders used in JavaScript are Node.js’s loader for CommonJS modules and the RequireJS loader for AMD modules in Web applications.</p>\n<p>In TypeScript, just as in ECMAScript 2015, any file containing a top-level import or export is considered a module. Conversely, a file without any top-level import or export declarations is treated as a script whose contents are available in the global scope (and therefore to modules as well).</p>\n<h1 id=\"es-modules-es6-import\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#es-modules-es6-import\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>ES Modules (ES6 Import)</h1>\n<p>Since imports aren't a part of the Javascript standard yet, imports are just a specification— it is up to the implementation (Babel, Typescript, Metro Bundler(?)) to carry out the operation of linking modules.</p>\n<p>ESM are required as they are needed, rather than there being a bundle created beforehand (as with CommonJS)</p>\n<p>when you tell the JS engine to run a module, it has to behave as though these four steps are happening:</p>\n<ol>\n<li>Parsing: The implementation reads the source code of the module and checks for syntax errors.</li>\n<li>Loading: The implementation loads all imported modules (recursively). (This is the part that isn’t standardized yet)</li>\n<li>Linking: For each newly loaded module, the implementation creates a module scope and fills it with all the bindings declared in that module, including things imported from other modules.\n<ul>\n<li>This is the part where if you try to import {cake} from \"paleo\", but the “paleo” module doesn’t actually export anything named cake, you’ll get an error. And that’s too bad, because you were so close to actually running some JS code. And having cake!</li>\n</ul>\n</li>\n<li>Run time: Finally, the implementation runs the statements in the body of each newly-loaded module. By this time, import processing is already finished, so when execution reaches a line of code where there’s an import declaration… nothing happens!</li>\n</ol>\n<ul>\n<li>\n<p>when we import a module like <code>import 'firebase/storage'</code> (ie. without declaring a variable), it means we are executing the module <code>firebase/storage</code>, but not bothering to assign the default export to a variable.</p>\n<ul>\n<li>This implies we are doing side-effects.</li>\n</ul>\n</li>\n<li>\n<p>When you <code>import *</code>, what’s imported is a <em>module namespace object</em>. The properties of this object are the module’s exports:</p>\n</li>\n</ul>\n<pre><code>[Module] {\n  default: '[Function]', // the default export\n  first: 'Kyle' // named export `first`\n  last: 'Tycholiz', // named export `last`\n}\n</code></pre>\n<ul>\n<li>\n<p>if we wanted to import the named exports, we could <code>import { first } from _____</code>. spec: also, we could import the default by <code>import default from _____</code> (or <code>import { default }</code>?)</p>\n</li>\n<li>\n<p><code>import _ from \"lodash\"</code> is an alias for <code>import { default as _ } from \"lodash\"</code></p>\n</li>\n</ul>\n<hr>\n<p>Imported ES6 modules are executed either asynchronously or synchronously, depending on the module loader (ie. the implementation) we use. Therefore, to be safe we must assume async. However, all imports are executed prior to the script doing the importing. This makes ES6 modules different from Node.js modules or <code>&#x3C;script></code> tags without the <code>async</code> attribute</p>\n<h3 id=\"importing-without-name\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#importing-without-name\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Importing without name</h3>\n<p>ex. <code>import './bootstrap'</code></p>\n<ul>\n<li>this will execute the target module (ie. run the module's code), without importing anything. It will not affect the scope of the active module\n<ul>\n<li>There may be side-effects, such as declaring global variables.</li>\n</ul>\n</li>\n<li>This method of importing is described as \"importing a module for its side-effects only\"</li>\n</ul>\n<h3 id=\"aggregating-modules-re-exporting\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#aggregating-modules-re-exporting\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Aggregating modules (Re-exporting)</h3>\n<ul>\n<li>We can import modules and immediately export them again by aggregating the import and export commands:</li>\n</ul>\n<pre><code>export * from './atoms'\n</code></pre>\n<ul>\n<li>If any name exported by “atoms” happened to collide with the other exports, that would be an error, so use export * with care.</li>\n</ul>\n<p>Unlike a real import, this doesn’t add the re-exported bindings to your scope, meaning we can't use the exports from \"atoms\" within that file.</p>\n<h1 id=\"commonjs-imports\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#commonjs-imports\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>CommonJS Imports</h1>\n<h2 id=\"moduleexports\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#moduleexports\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>module.exports</h2>\n<ul>\n<li><code>module.exports</code> is an object that is included in every <code>.js</code> file in a Node application.\n<ul>\n<li><code>module</code> represents the current module</li>\n<li><code>exports</code> is an objects that will be exposed as a module</li>\n<li>Therefore whatever we assign to <code>module.exports</code> is exposed as a module.</li>\n</ul>\n</li>\n<li>like <code>exports</code> below, <code>module.exports</code> can also be extended by including more properties/methods on the object.</li>\n</ul>\n<p>before a module's code is actually executed, Node will wrap it in a function that looks something like this:</p>\n<pre><code>(function(exports, require, module, __filename, __dirname) {\n// Module code actually lives in here\n});\n</code></pre>\n<p>This gives us the benefit of:</p>\n<ul>\n<li>scoped variables, rather than global variables.</li>\n<li>ability to use <code>module</code> and <code>exports</code> objects.</li>\n<li>ability to reference the module's absolute filename and directory path with <code>__filename</code> and <code>__dirname</code></li>\n</ul>\n<h2 id=\"exports\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#exports\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>exports</h2>\n<ul>\n<li><code>exports</code> is an object that we can attach properties and methods to.</li>\n<li>when we import a module, we must then call the same property/method:</li>\n</ul>\n<pre><code>// dependency\nexports.name = 'Kyle'\nexports.phone = '7788713377'\n\n// dependent\nconst person = require('./information')\n\nconsole.log(person.name) // Kyle\n</code></pre>\n<h1 id=\"commonjs-vs-es6-modules\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#commonjs-vs-es6-modules\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>CommonJS vs ES6 Modules</h1>\n<ul>\n<li>Under the hood, we need something like Babel to convert from ES6 modules to CommonJS.</li>\n</ul>\n<p><a href=\"https://stackoverflow.com/questions/40294870/module-exports-vs-export-default-in-node-js-and-es6\">explanation</a></p>\n<h1 id=\"circular-dependencies\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#circular-dependencies\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Circular Dependencies</h1>\n<ul>\n<li>Not always a problem, but they introduce tight coupling.\n<ul>\n<li>These kinds of modules are harder to understand and reuse, as doing so might cause a ripple effect where a local change to one module has global effects.</li>\n<li>As such, it might indicate lack of a larger context or proper architecture, since a good architecture imposes uni-directional flow between modules and entire layers.</li>\n</ul>\n</li>\n</ul>\n<p>using <code>const</code> over <code>function</code> while defining functions prevents function hoisting within a single module and ensures the absence of circular dependencies within a single module.</p>\n<p>Circular dependencies with Function calls would not cause problems when the cycle is asynchronous, meaning that directly referenced functions are not called immediately.</p>\n<ul>\n<li>ex. Cycle of function calls when one continues chain through a DOM event listener being async, i.e. waiting for user click.</li>\n</ul>\n<h1 id=\"dynamic-imports\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#dynamic-imports\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>Dynamic Imports</h1>\n<p><code>import(module)</code> loads the module and returns a promise that resolves into a module object that contains all its exports. <code>import</code> can be called from anywhere in the code.</p>\n<p>example</p>\n<pre><code>import(modulePath)\n  .then(obj => &#x3C;module object>)\n  .catch(err => &#x3C;loading error, e.g. if no such module>)\n</code></pre>\n<p>or</p>\n<pre><code>// 📁 say.js\nexport function hi() {\n  alert(`Hello`);\n}\n\nexport function bye() {\n  alert(`Bye`);\n}\n</code></pre>\n<p>then</p>\n<pre><code>let {hi, bye} = await import('./say.js');\n\nhi();\nbye();\n</code></pre>\n<p>Note: Although <code>import()</code> looks like a function call, it is specified as syntax that just happens to use parentheses (similar to super()). That means that import doesn’t inherit from Function.prototype so you cannot call or apply it.</p>\n<p>Dynamic means code that can be executed at runtime. Static means it occurs before compilation and before runtime. An example is dynamic imports. in this case, dynamic means that we can decide the path at runtime, or we can decide which module to import at runtime</p>\n<h1 id=\"ue-resources\"><a aria-hidden=\"true\" class=\"anchor-heading\" href=\"#ue-resources\"><svg aria-hidden=\"true\" viewBox=\"0 0 16 16\"><use xlink:href=\"#svg-link\"></use></svg></a>UE Resources</h1>\n<p><a href=\"https://v8.dev/features/modules\">https://v8.dev/features/modules</a></p>","noteIndex":{"id":"olZIVfSs2uLLr3BppFh4K","title":"Root","desc":"","updated":1618676699718,"created":1615482407722,"custom":{"nav_order":0,"permalink":"/"},"fname":"root","type":"note","vault":{"fsPath":"../main/tech","name":"tech"},"contentHash":"777fb4dab9bcf63cbfe772245d7e4871","links":[],"anchors":{"digital-garden":{"type":"header","text":"Digital Garden","value":"digital-garden","line":8,"column":0,"depth":1}},"children":["zFMjbn3xihVNHjUIdZCD1","IK6NOKemuDjhfstJBovKL","RS8qp1GxwtiJopCUHTTtq","ZaTr28eWk1DrXOEsc1YVb","Vi0WYVLZunVM9iR8XZJn3","ngAbg7gluvbt1bY1UIRsi","RCPPXSakm5TvKka8kOmVp","MPx8ykTP57I40WTZvTP7f","ZU5WmdTG1bHoE8RcmZXZG","jqWiyYJff92RjXuUQt9PQ","KihijM8OQvZ4pASkkhqzL","F9vyqvls3OBCujtukqKhy","facc2b01-755a-409f-99f6-57bef2d1501f","m5ov42Vm6mR7RQWTvl1NW","YYt62mSW964cwb5nP0hva","PZxxZ4iESzSlbbHJKxuAZ","UDu62Pa6BaRqlG8uGoMhy","nMCtMXVvjBsJk3iw1zoIO","ANfx9Z4a6ZA0uJuSHtbIJ","BkG557LKUYbH1DnxprEVT","1TaH8zDTM98FZ9SYaeXLM","dc79799f-a55d-48ab-a8be-c48adb1b19c0","f6feef57-b8f5-451f-a09a-7b63f6a07183","4sz47Y0LKs1Si73rWtyyh","5a9fb1df-478e-4687-9be0-5cb97e61ec57","1374e9e9-1cbc-4e1f-b1ca-66b8569533dd","f529cc34-aba0-45ca-ad7e-02ddda318941","0zcauha3il2NqtxZazIo7","9bbd6f68-03b2-41f4-92e4-2ca313e8b450","5a2ab598-fa7e-4471-8bda-9f5831b679ae","uV6w4mZPoohWyZV4Xaad0","RgE0mZLaUjPftFPZsiAoe","mytCOts26Pidush65tdRW","fwUzxfLSPMH1eL8oBoLWx","TbW7PM9bg1y5TGkiWwQ8b","xiSIDeEtIc8X0lpUQlppI","0jxgntiLNHWFuCbzqtFGF","GkdMprLUe4QQULBxmGN6V","4SYc6v5hxY5g6Ip6kjpwO","fqVQpS9FBiXgKsZX3R3sJ","L5JUZlGAGvTxrsEBB7DY8","963c4b54-02bd-4943-a15f-52cf59ffd0f4","TeTedoeS2LdHPR632eCpM","e65188a1-177e-4ab2-99f9-75f85d537621","fajYnbVhCRDi74xn0H30R","bArGdGwqo3iFkyKMyE7qR","4Dcp7gbEVoLLgfu7bXFai","5d700782-fb81-416e-83f9-5dd88260e350","zubgzhNFE6KlTgXcjTz6O","8lpdfWa0cbSq1XJQbcYcY","17I8ZksXvqCH1mRtZDjHp","kF916Ow84qpJJeMRkWMIo","tMLkLcrIHHBz56xVmBLkP","CSePBQ6q7qhowKESqVwt7","laZ4OfLhZNK1Kuy6GaWUr","z5IJblOknQhMzZ5QZh4ye","N36FHxfxzwJfxDY3miWyX","3bb25f58-2b50-4fa3-af55-48ea9f88a081","aOqNcxZh8qN4MoBJcvGTc","u93Rz4fEWGu6VBR30Zraf","9hjMHnKvYT4jLKvuDSXaV","LgW7mTIALODoXc54B3p6S","UYPxfHBFWX7fb6hHU5bB6","qxSOd6SPN8qf9ZUojVFDX","WQoMTf6VXBaxCgksXAVsj","2Mw4XgfyCHXHNOX5yoCIY","UFrwsXzC1yr7Ge8FF8Vbo","a8edc4ac-028b-40ec-872a-e4a005b04b2a","0XJqmcdtcMZu66glBI5O8","lK8r8BXS4ThiUTe4xKIZe","93de42ca-53ea-460a-baa7-b9ec5c47cb1e","Rxs2jaGpdFzqYtP7lAJFJ","aO8W81Z0PyIb6Hs7nOHPW","I01hENHnh8Tqu3Ok8sLzG","evqsPNutOaZ8hcBCqxFQu","zhhxcjZUHdU8uRLwGb9Zh","G1aFACZB2ooWGMGwyd3ZW","YWy1C4tgoaCcw1m8JJsr7","Szj3o5iaNxPpesiCqwrbu","XhvCDW3fIw6h6MhY5ticq","Q70g7SusFZBQXzkuQifv4","AzfWDH3wp7jFpL2EYxBcW","y0fwpZ9qMqirsLiFyOciU","ZF8xj8wwDUqKlrwTrCFZ1","tAJvhqhdfyZZa87QHq1TU","4hRmipi8lxpBLyzWu5JVB","iTg0C7QjvnmqBZeEigJNs","3babc3d2-79ae-470a-9c06-ab8bba2e684e","bF3UsMFya3fMeXWDspVov","ULkfbL9WpktbVYnzhl6Jw","PpNOO8JYWe6dM8wruSa7x","di40pCxDn7IiqE8lFdD46","rmW0mkerqV35I8QPji6lM","3IFIK1ByzeIxZCByryGLN","iImkYAKfkw3beAl6pLbDn","tho65KN0ZpjQlVvP1fEzM","ecDe8DNWrkeQTwpTEvHje","Yqhdd9mSJGN7OJOeyoSD2","NEhsoOfR7J6o01ielAuUm","Ws5tah8tpeyn9tK8VBTg8","Bqpifx2HX3vjLhX9yvhTV","gWAg15uBJgkS2B0wcpMAa","l7V3v2ep1YdDCt7DOr7Ci","yM2PJBdqJnHpD63cPA6sW","qn0bre7eLbi3QMbCfWkUi","fSu0KxFL41IRouotqmbHs","0gtg24Mj1a1bQFPRGQNlO","7iQPBMltLPLbFEz2qbjPu","yoh4pwoXcfELInGKRdYf6","dCGCWXgAmiOZXbdULT1m6","jMavlje07sNa6hSEIE8WA","Xxm0JE4dKHxrQAaZfzvxD","PAEBZCyFBZJyR7OoMZ41E","PQ6km8RgRCuyICBPOYz8f","2bhftt8rGuxYu4pFgNqru","hjYIZpHQWuXfeEoGeJEKW","K2M9bQqVq2eQfm29eslKL","X8obW1iKwYsvNgKWGyCzy","yJwSC7hqYIezTFHf5i0Ev","c4Z7ETcOHUILRMH32Sfjw","qiR6dIu857b9M9kTqjOyK","8vflbCVkwZtYcqdDDTNAz","Ku1OgHMhELajzo61Gx7ye","LUrfhDWo8wuwZu7CN9TV8","osu6JGOnvXJ5gt3tpqWZY","1a6173cd-cf13-4b34-a522-8350bf9a364f","ZgCUp366YrF2Tyky2NT73","S2sBltrPfd8a7ICuD7CuH","oWCuBXOg6JWfZzjmKxmNl","jOmhZ8ovLYTPbpM1vqSDx","FraC6xzLy1ei91l1ICyc9","6ceBas2RE9Q4787GDngH7","734cd78d-0bc9-426b-803d-1efc84dfffe5","k4Bb09px6r0FxIRs49SXV","oaG3H1S9IUBO644nGZigu","Ka7agQJkUMRSWN0uFdkWK","si3z090WsiLasMhJBa1Az","ljKAVERmdEiKLK9hXGKBm","LIcuGYV0DDt1VWbvH6Sed","MgUSrpNCIwDOW4fX3vPOF","bZumdyapJ2H0wWWOmJ45i","QHXEIyeZGIGMVi5Q52UWI","i5Fya3Vzzm0rBT0ctByuo"],"parent":null,"data":{},"body":"\n# Digital Garden\n\nThis Wiki of Personal Information is organized according to domains and their\nsub-domains, along with specific implementation of those domains.\n\nFor instance, Git itself is a domain. Sub-domains of Git, would be `commit`,\n`tags`, `reflog` etc. implementations of each of those could be `cli`, `strat`\n(strategies), `inner` etc.\n\nThe goal of the wiki is to present data in a manner that is from the perspective\nof a querying user. Here, a user is a programmer wanting to get key information\nfrom a specific domain. For instance, if a user wants to use postgres functions\nand hasn't done them in a while, they should be able to query\n`postgres.functions` to see what information is available to them.\n\nThis wiki has been written with myself in mind. While learning each of these\ndomains, I have been sensitive to the \"aha\" moments and have noted down my\ninsights as they arose. I have refrained from capturing information that I\nconsidered obvious or otherwise non-beneficial to my own understanding.\n\nThe ability I hope to gain from this wiki is the ability to step away from any\ngiven domain for a long period of time, and be able to be passably useful for\nwhatever my goals are within a short period of time. Of course, this is all\nvague sounding, and really depends on the domain, along with the ends I am\ntrying to reach.\n\nTo achieve this, the system should be steadfast to:\n- be able to put information in relatively easily, without too much thought\n\trequired to make that determination.\n- be able to extract the information that we need, meaning there is a\n\thigh-degree in confidence in the location of the information. The idea is\n\tthat information loses a large amount of its value when it is unfindable.\n\tTherefore, a relatively strict ideology should be used when determining\n\twhere a piece of information belongs.\n"},"collectionChildren":null,"customHeadContent":null,"config":{"version":3,"useFMTitle":true,"useNoteTitleForLink":true,"noLegacyNoteRef":true,"mermaid":true,"useKatex":true,"dev":{"enablePreviewV2":true},"site":{"assetsPrefix":"/Digital-Garden","siteUrl":"https://tycholiz.github.io","copyAssets":true,"siteHierarchies":["root"],"siteRootDir":"docs","usePrettyRefs":true,"title":"Dendron","description":"Publishable tech notes","duplicateNoteBehavior":{"action":"useVault","payload":["tech"]},"siteLastModified":true,"gh_edit_branch":"main","usePrettyLinks":true,"siteNotesDir":"notes","siteFaviconPath":"favicon.ico","gh_edit_link":true,"gh_edit_link_text":"Edit this page on GitHub","gh_root":"docs/","gh_edit_view_mode":"edit","writeStubs":true,"siteIndex":"root"},"commands":{"lookup":{"note":{"selectionMode":"extract","confirmVaultOnCreate":false,"leaveTrace":false}},"insertNote":{"initialValue":"templates"},"insertNoteLink":{"aliasMode":"none","enableMultiSelect":false},"insertNoteIndex":{"enableMarker":false},"randomNote":{}},"workspace":{"dendronVersion":"0.67.1","vaults":[{"fsPath":"../main/tech","name":"tech"}],"journal":{"dailyDomain":"daily","name":"journal","dateFormat":"y.MM.dd","addBehavior":"childOfDomain"},"scratch":{"name":"scratch","dateFormat":"y.MM.dd.HHmmss","addBehavior":"asOwnDomain"},"graph":{"zoomSpeed":1},"enableAutoCreateOnDefinition":false,"enableXVaultWikiLink":false,"enableRemoteVaultInit":true,"workspaceVaultSyncMode":"noCommit","enableAutoFoldFrontmatter":true,"maxPreviewsCached":10,"maxNoteLength":204800,"task":{"name":"","dateFormat":"","addBehavior":"childOfCurrent","statusSymbols":{"":" ","wip":"w","done":"x","assigned":"a","moved":"m","blocked":"b","delegated":"l","dropped":"d","pending":"y"},"prioritySymbols":{"H":"high","M":"medium","L":"low"},"todoIntegration":false,"createTaskSelectionType":"selection2link"},"enableUserTags":true,"enableHashTags":true},"usePrettyRefs":true}},"__N_SSG":true}